<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<pre><code>. clear all

. cap noi which tabout
c:\ado\plus\t\tabout.ado
*! 2.0.8 Ian Watson 15mar2019
*! tabout version 3 (beta) available at: http://tabout.net.au

. if _rc==111 {
.         cap noi ssc install tabout
.         }

. cap noi which pathutil
c:\ado\plus\p\pathutil.ado
*! version 2.2.0 19nov2020 daniel klein

. if _rc==111 {
.         cap noi net install pathutil, from(&quot;http://fmwww.bc.edu/repec/bocode/p/&quot;) 
.         }

. cap noi which pathutil
c:\ado\plus\p\pathutil.ado
*! version 2.2.0 19nov2020 daniel klein

. if _rc==111 {
.         ssc install dirtools    
.         }

. cap noi which project
c:\ado\plus\p\project.ado
*! version 1.3.1  22dec2013  picard@netbox.com

. if _rc==111 {   
.         ssc install project
.         }

. cap noi which stipw
c:\ado\plus\s\stipw.ado
*! Version 1.0.0 17Jan2022

. if _rc==111 {   
.         ssc install stipw
.         }

. cap noi which stpm2
c:\ado\plus\s\stpm2.ado
*! version 1.7.5 May2021

. if _rc==111 {   
.         ssc install stpm2
.         }       

. cap noi which rcsgen
c:\ado\plus\r\rcsgen.ado
*! version 1.5.9 13FEB2022

. if _rc==111 {   
.         ssc install rcsgen
.         }       

. cap noi which matselrc
c:\ado\plus\m\matselrc.ado
*! NJC 1.1.0 20 Apr 2000  (STB-56: dm79)

. if _rc==111 {           
. cap noi net install dm79, from(http://www.stata.com/stb/stb56)
.         }

</code></pre>
<h1><a href="#exercise" id="exercise">Exercise</a></h1>
<p>Date created: 14:37:47 11 Nov 2022.</p>
<p>Get the folder</p>
<pre><code>
E:\Mi unidad\Alvacast\SISTRAT 2022 (github)


Fecha: 11 Nov 2022, considerando un SO Windows para el usuario: andre

</code></pre>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<p>Path data= ;</p>
<p>Tiempo: 11 Nov 2022, considerando un SO Windows</p>
<p>The file is located and named as: E:\Mi unidad\Alvacast\SISTRAT 2022 (github)fiscalia_mariel_oct_2022_match_SENDA.dta</p>
<p>=============================================================================</p>
<h2><a href="#structure-database-and-survival" id="structure-database-and-survival">Structure database and survival</a></h2>
<p>=============================================================================</p>
<p>We open the files</p>
<pre><code>. use &quot;fiscalia_mariel_oct_2022_match_SENDA.dta&quot;, clear

. encode escolaridad_rec, generate(esc_rec)

. encode sex, generate(sex_enc)

. encode sus_principal_mod, generate(sus_prin_mod)

. encode freq_cons_sus_prin, generate(fr_sus_prin)

. encode compromiso_biopsicosocial, generate(comp_biosoc)

. encode tenencia_de_la_vivienda_mod, generate(ten_viv)

. *encode dg_cie_10_rec, generate(dg_cie_10_mental_h) *already numeric
. encode dg_trs_cons_sus_or, generate(sud_severity_icd10)

. encode macrozona, generate(macrozone)

. gen     motivodeegreso_mod_imp_rec3 = 1

. replace motivodeegreso_mod_imp_rec3 = 2 if strpos(motivodeegreso_mod_imp_rec,&quot;Early&quot;)&gt;0
(16,147 real changes made)

. replace motivodeegreso_mod_imp_rec3 = 3 if strpos(motivodeegreso_mod_imp_rec,&quot;Late&quot;)&gt;0
(36,446 real changes made)

. 
. *encode policonsumo, generate(policon) *already numeric
. 
. *motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons dias_treat_imp_sin_na_1 i.escolaridad_rec i.sus_principal_mod i.freq_cons_sus_prin i.compromiso_biopsicosocial i.tenencia_
&gt; de_la_vivienda_mod i.dg_cie_10_rec i.dg_trs_cons_sus_or i.macrozona i.n_off_vio i.n_off_acq i.n_off_sud i.n_off_oth
</code></pre>
<p>Luego configuramos la base de datos en formato de supervivencia.</p>
<pre><code>. *si no está perdido cod_region, significa que hubo un registro (0/1) y el tiempo es el tiempo desde 
. *set the indicator
. gen event=0

. replace event=1 if !missing(offender_d)
(22,966 real changes made)

. *replace event=1 if !missing(sex)
. 
. gen diff= age_offending_imp-edad_al_egres_imp

. 
. *age time
. stset age_offending_imp, fail(event ==1) enter(edad_al_egres_imp)

     failure event:  event == 1
obs. time interval:  (0, age_offending_imp]
 enter on or after:  time edad_al_egres_imp
 exit on or before:  failure

------------------------------------------------------------------------------
     72,377  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
     72,376  observations remaining, representing
     22,966  failures in single-record/single-failure data
 235,121.16  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =  10.95068
                                          last observed exit t =  90.65027

. 
. stdescribe, weight

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

                                   |-------------- per subject --------------|
Category                   total        mean         min     median        max
------------------------------------------------------------------------------
no. of subjects            72376   
no. of records             72376           1           1          1          1

(first) entry time                  36.48917    10.95068   34.59726   88.91507
(final) exit time                   39.73777    14.84463   38.00546   90.65027

subjects with gap              0   
time on gap if gap             0   
time at risk           235121.16    3.248607    .0000449   2.681678   10.75828

failures                   22966    .3173151           0          0          1
------------------------------------------------------------------------------

</code></pre>
<p>We calculate the incidence rate.</p>
<pre><code>. stsum, by (motivodeegreso_mod_imp_rec)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

         |               Incidence     Number of   |------ Survival time -----|
motivo~c | Time at risk       rate      subjects        25%       50%       75%
---------+---------------------------------------------------------------------
Treatmen |  65,956.1137   .0605554         19773   19.60301  22.32991  28.01916
Treatmen |  47,990.2399   .1315476         16147   18.18207  19.15674  21.09788
Treatmen |  121,149.183   .1044415         36446   16.49829  17.60986   20.9692
---------+---------------------------------------------------------------------
   Total |  235,095.537   .0976624         72366   16.67765   18.3436  20.99932

</code></pre>
<p>=============================================================================</p>
<h2><a href="#descriptives" id="descriptives">Descriptives</a></h2>
<p>=============================================================================</p>
<pre><code>. 
. local ttl `&quot; &quot;Tr Completion&quot; &quot;Tr Disch (Early)&quot; &quot;Tr Disch (Late)&quot; &quot;' 

. forvalues i = 1/3 {
  2. cap drop sum_*
  3.         gettoken title ttl: ttl
  4. cap qui egen sum_`i' = total(_t) if motivodeegreso_mod_imp_rec3==`i'
  5. cap qui tab _d motivodeegreso_mod_imp_rec3 if _d==1 &amp; motivodeegreso_mod_imp_rec3==`i'
  6. scalar n_eventos`i' =r(N)
  7. qui tabstat sum_`i', save
  8. scalar sum_`i'_total =r(StatTotal)[1,1]
  9. scalar ir_t = round((n_eventos`i'/sum_`i'_total)*1000,.1)
 10. *di ir_t
. *es numérico, para no generar incompatibilidad, se pasa a escalar
. global dens_inc`i' &quot;Incidence rate ratio for `title' (`i') (x1,000 person-days):  `=scalar(ir_t)'&quot;
 11. *di %9.1f (n_eventos`i'/sum_`i'_total)*1000
. }

</code></pre>
<ul>
<li>
<p>Incidence rate ratio for Tr Completion (1) (x1,000 person-days):  4.7</p>
</li>
<li>
<p>Incidence rate ratio for Tr Disch (Early) (2) (x1,000 person-days):  10.6</p>
</li>
<li>
<p>Incidence rate ratio for Tr Disch (Late) (3) (x1,000 person-days):  8.9</p>
</li>
</ul>
<p>We recode the discharge cause to contrast them</p>
<pre><code>. cap noi recode motivodeegreso_mod_imp_rec3 (1=0 &quot;Tr Completion&quot; ) ///
&gt;                          (2=1 &quot;Early Disch&quot;) ///
&gt;                          (else=.), gen(tto_2_1)
(72377 differences between motivodeegreso_mod_imp_rec3 and tto_2_1)

. cap noi recode motivodeegreso_mod_imp_rec3 (1=0 &quot;Tr Completion&quot; ) ///
&gt;                          (3=1 &quot;Late Disch&quot;) ///
&gt;                          (else=.), gen(tto_3_1)
(72377 differences between motivodeegreso_mod_imp_rec3 and tto_3_1)

. cap noi recode motivodeegreso_mod_imp_rec3 (2=0 &quot;Early Disch&quot; ) ///
&gt;                          (3=1 &quot;Late Disch&quot;) ///
&gt;                          (else=.), gen(tto_3_2)
(72377 differences between motivodeegreso_mod_imp_rec3 and tto_3_2)

</code></pre>
<p>We explored the inicidence rate ratios (IRR) of each cause of discharge.</p>
<pre><code>. 
. *set trace on
. local stname `&quot; &quot;2_1&quot; &quot;3_1&quot; &quot;3_2&quot; &quot;' 

. local titl `&quot; &quot;Early Disch vs Tr Completion&quot; &quot;Late Disch vs Tr Completion&quot; &quot;Late vs Early Disch&quot; &quot;' 

. foreach s of local stname {
  2.         gettoken title titl: titl
  3. cap noi qui ir _d tto_`s' _t
  4. scalar ir_`s' =round(r(irr),.01)
  5. *di ir_`s'
. scalar ir_`s'_lb =round(r(lb_irr),.01) 
  6. *di ir_`s'_lb
. scalar ir_`s'_ub =round(r(ub_irr),.01)
  7. *di ir_`s'_ub
. local ir1= ir_`s'
  8. local ir2= ir_`s'_lb
  9. local ir3= ir_`s'_ub
 10. *di  in gr _col(13) &quot; `title': IRR `ir1' (IC 95% `ir2' - `ir3') &quot;
. global irr_`s' &quot; `title': IRR `ir1' (IC 95% `ir2' - `ir3') &quot;
 11. global ir_`s' &quot;`ir1' (IC 95% `ir2' - `ir3')&quot;
 12. }       

</code></pre>
<p>We generated a log-rank test to compare the expected to the observed result, obtaining that:</p>
<ul>
<li>
<p>Early Disch vs Tr Completion: IRR 2.27 (IC 95% 2.18 - 2.37) , so patients with an Early Discharge had a greater incidence rate than patients in Tr Completion</p>
</li>
<li>
<p>Late Disch vs Tr Completion: IRR 1.89 (IC 95% 1.83 - 1.96) , so patients with a Late Discharge had a greater incidence rate than patients in Tr Completion</p>
</li>
<li>
<p>Late vs Early Disch: IRR .8300000000000001 (IC 95% .8100000000000001 - .86) , so patients with a Late Discharge had a lower incidence rate than patients with an Early Discharge</p>
</li>
</ul>
<pre><code>. *set trace on
. local stname `&quot; &quot;2_1&quot; &quot;3_1&quot; &quot;3_2&quot; &quot;' 

. local titl `&quot; &quot;Early Disch vs Tr Completion&quot; &quot;Late Disch vs Tr Completion&quot; &quot;Late vs Early Disch&quot; &quot;' 

. foreach s of local stname {
  2.         gettoken title titl: titl
  3. cap noi qui sts test tto_`s', logrank
  4. scalar logrank_chi`s'= round(r(chi2),.01)
  5. scalar logrank_df`s'= r(df)
  6. scalar logrank_p_`s'= round(chiprob(r(df),r(chi2)),.001)
  7. local lr1= logrank_chi`s'
  8. local lr2= logrank_df`s'
  9. local lr3= logrank_p_`s'
 10. global logrank_`s' &quot; Chi^2(`lr2')=`lr1',p=`lr3'&quot;
 11. }

. *set trace off
</code></pre>
<ul>
<li>
<p>With a value of  Chi^2(1)=707.96,p=0, survival curves between patients that had an Early Disch y Tr Completion were significantly different.</p>
</li>
<li>
<p>With a value of  Chi^2(1)=494.94,p=0, survival curves between patients that had an Late Disch y Tr Completion were significantly different.</p>
</li>
<li>
<p>With a value of  Chi^2(1)=86.21000000000001,p=0, survival curves between patients that had an Late y Early Disch were significantly different.</p>
</li>
</ul>
<p>=============================================================================</p>
<h2><a href="#graph" id="graph">Graph</a></h2>
<p>=============================================================================</p>
<p>We generated a graph with every type of treatment and the Nelson-Aalen estimate.</p>
<pre><code>. sts graph, na by (motivodeegreso_mod_imp_rec) ci ///
&gt; title(&quot;Comission of an offense&quot;) /// 
&gt; subtitle(&quot;Nelson-Aalen Cum Hazards w/ Confidence Intervals 95%&quot;) ///
&gt; risktable(, size(*.5) order(1 &quot;Tr Completion&quot; 2 &quot;Early Disch&quot; 3 &quot;Late Disch&quot;)) ///
&gt; ytitle(&quot;Cum. Hazards&quot;) ylabel(#8) ///
&gt; xtitle(&quot;Years of age&quot;) xlabel(#8) ///
&gt; note(&quot;Source: nDP, SENDA's SUD Treatments &amp; POs Office Data period 2010-2019 &quot;) ///
&gt; legend(rows(3)) ///
&gt; legend(cols(4)) ///
&gt; graphregion(color(white) lwidth(large)) bgcolor(white) ///
&gt; plotregion(fcolor(white)) graphregion(fcolor(white) ) /// //text(.5 1 &quot;IR = &lt;0.001&quot;) ///
&gt; legend(order(1 &quot;95CI Tr Completion&quot; 2 &quot;Tr Completion&quot; 3 &quot;95CI Early Tr Disch&quot; 4 &quot;Early Tr Disch &quot; 5 &quot;95CI Late Tr Disch&quot; 6 &quot;Late Tr Disch&quot; )size(*.5)region(lstyle(none)) region(c(no
&gt; ne)) nobox)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp
(note:  named style large not found in class linewidth, default attributes used)
(note:  linewidth not found in scheme, default attributes used)
(note:  named style large not found in class linewidth, default attributes used)
(note:  linewidth not found in scheme, default attributes used)

. graph save &quot;tto.gph&quot;, replace
(file tto.gph saved)

</code></pre>
<p><img src="tto.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#survival-analyses" id="survival-analyses">Survival Analyses</a></h2>
<p>=============================================================================</p>
<p>We tested the schoefeld residuals.</p>
<pre><code>. *c(&quot;edad_al_ing_fmt&quot;, &quot;edad_ini_cons&quot;, &quot;dias_treat_imp_sin_na_1&quot;, &quot;escolaridad_rec&quot;, &quot;sus_principal_mod&quot;, &quot;freq_cons_sus_prin&quot;, &quot;compromiso_biopsicosocial&quot;, &quot;tenencia_de_la_vivienda
&gt; _mod&quot;, &quot;dg_cie_10_rec&quot;, &quot;dg_trs_cons_sus_or&quot;, &quot;macrozona&quot;, &quot;policonsumo&quot;, &quot;n_prev_off&quot;, &quot;n_off_vio&quot;, &quot;n_off_acq&quot;, &quot;n_off_sud&quot;, &quot;n_off_oth&quot;)
. 
. global sim 1e5 //5e1 1e5 

. global boots 1e3 //5e1 2e3

. global times 0 90 365 1096 1826

. range timevar0 90 1826 90
(72,287 missing values generated)

. 
. global covs &quot;edad_al_ing_fmt edad_ini_cons dias_treat_imp_sin_na_1 sex esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_
&gt; off_vio n_off_acq n_off_sud n_off_oth&quot;

. global covs_2 &quot;motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone poli
&gt; consumo n_off_vio n_off_acq n_off_sud n_off_oth&quot;

. 
. 
. stcox  $covs_2 , efron robust nolog schoenfeld(sch*) scaledsch(sca*)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

Cox regression -- Efron method for ties

No. of subjects      =       61,141             Number of obs    =      61,141
No. of failures      =       18,213
Time at risk         =  185437.4925
                                                Wald chi2(17)    =     4568.04
Log pseudolikelihood =   -151395.85             Prob &gt; chi2      =      0.0000

---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
motivodeegreso_mod_imp_rec3 |   1.162597   .0115662    15.14   0.000     1.140147    1.185488
            edad_al_ing_fmt |   1.095798   .0057164    17.54   0.000     1.084651     1.10706
              edad_ini_cons |   .9933331   .0019373    -3.43   0.001     .9895433    .9971375
                    sex_enc |   .7747158   .0156038   -12.67   0.000     .7447288    .8059103
                    esc_rec |   1.111709   .0140249     8.39   0.000     1.084558     1.13954
               sus_prin_mod |    1.14026   .0094641    15.81   0.000      1.12186    1.158961
                fr_sus_prin |   1.031213   .0079732     3.98   0.000     1.015704    1.046959
                comp_biosoc |   1.202395   .0175812    12.61   0.000     1.168425    1.237352
                    ten_viv |   .9794301   .0078101    -2.61   0.009     .9642416    .9948579
              dg_cie_10_rec |   1.020845    .009233     2.28   0.023     1.002908    1.039103
         sud_severity_icd10 |   .9397378   .0183203    -3.19   0.001      .904508    .9763397
                  macrozone |   1.212631   .0148563    15.74   0.000      1.18386    1.242101
                policonsumo |   1.113667   .0247316     4.85   0.000     1.066234     1.16321
                  n_off_vio |   1.286738   .0260979    12.43   0.000     1.236591     1.33892
                  n_off_acq |   1.792793    .034486    30.35   0.000      1.72646    1.861675
                  n_off_sud |   1.215326    .023976     9.89   0.000     1.169231    1.263238
                  n_off_oth |   1.322504   .0267654    13.81   0.000     1.271072    1.376018
---------------------------------------------------------------------------------------------

. estat phtest, log detail

      Test of proportional-hazards assumption

      Time:  Log(t)
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob&gt;chi2
      ------------+---------------------------------------------------
      motivodeeg~3|      0.00896         1.51        1         0.2185
      edad_al_in~t|     -0.02463        32.71        1         0.0000
      edad_ini_c~s|      0.00130         0.04        1         0.8513
      sex_enc     |      0.00090         0.02        1         0.8965
      esc_rec     |     -0.02236         9.96        1         0.0016
      sus_prin_mod|     -0.00496         0.44        1         0.5067
      fr_sus_prin |     -0.00164         0.05        1         0.8195
      comp_biosoc |     -0.01085         2.41        1         0.1202
      ten_viv     |      0.00783         1.32        1         0.2505
      dg_cie_10_~c|      0.01511         4.54        1         0.0332
      sud_sever~10|      0.02195         9.35        1         0.0022
      macrozone   |      0.00496         0.50        1         0.4804
      policonsumo |      0.01925         7.64        1         0.0057
      n_off_vio   |      0.03612        28.89        1         0.0000
      n_off_acq   |      0.02455        14.16        1         0.0002
      n_off_sud   |      0.02535        14.52        1         0.0001
      n_off_oth   |      0.01744         6.82        1         0.0090
      ------------+---------------------------------------------------
      global test |                    151.06       17         0.0000
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

. scalar chi2_scho_test = r(chi2)

. 
. mat mat_scho_test = r(phtest)

. 
. esttab matrix(mat_scho_test) using &quot;mat_scho_test.csv&quot;, replace
(output written to mat_scho_test.csv)

. esttab matrix(mat_scho_test) using &quot;mat_scho_test.html&quot;, replace
(output written to mat_scho_test.html)

. 
</code></pre>
<table border="0" width="*">
<tr><td colspan=5><hr></td></tr>
<tr><td>            </td><td>mat_scho_test</td><td>            </td><td>            </td><td>            </td></tr>
<tr><td>            </td><td>         rho</td><td>        chi2</td><td>          df</td><td>           p</td></tr>
<tr><td colspan=5><hr></td></tr>
<tr><td>motivodeegreso_mod_imp_rec3</td><td>    .0089608</td><td>    1.514086</td><td>           1</td><td>    .2185167</td></tr>
<tr><td>edad_al_ing_fmt</td><td>    -.024628</td><td>    32.70699</td><td>           1</td><td>    1.07e-08</td></tr>
<tr><td>edad_ini_cons</td><td>    .0013043</td><td>    .0351429</td><td>           1</td><td>    .8512966</td></tr>
<tr><td>sex_enc     </td><td>     .000903</td><td>    .0169344</td><td>           1</td><td>    .8964619</td></tr>
<tr><td>esc_rec     </td><td>   -.0223577</td><td>    9.959837</td><td>           1</td><td>    .0015999</td></tr>
<tr><td>sus_prin_mod</td><td>   -.0049646</td><td>    .4408572</td><td>           1</td><td>     .506709</td></tr>
<tr><td>fr_sus_prin </td><td>   -.0016358</td><td>    .0520596</td><td>           1</td><td>    .8195175</td></tr>
<tr><td>comp_biosoc </td><td>   -.0108503</td><td>    2.414274</td><td>           1</td><td>    .1202337</td></tr>
<tr><td>ten_viv     </td><td>    .0078285</td><td>    1.320334</td><td>           1</td><td>    .2505322</td></tr>
<tr><td>dg_cie_10_rec</td><td>    .0151055</td><td>    4.537117</td><td>           1</td><td>    .0331674</td></tr>
<tr><td>sud_severity_icd10</td><td>    .0219543</td><td>    9.345773</td><td>           1</td><td>     .002235</td></tr>
<tr><td>macrozone   </td><td>     .004957</td><td>    .4978459</td><td>           1</td><td>    .4804481</td></tr>
<tr><td>policonsumo </td><td>    .0192516</td><td>    7.636353</td><td>           1</td><td>    .0057203</td></tr>
<tr><td>n_off_vio   </td><td>     .036117</td><td>    28.88998</td><td>           1</td><td>    7.66e-08</td></tr>
<tr><td>n_off_acq   </td><td>    .0245499</td><td>    14.16073</td><td>           1</td><td>    .0001678</td></tr>
<tr><td>n_off_sud   </td><td>    .0253473</td><td>    14.52496</td><td>           1</td><td>    .0001383</td></tr>
<tr><td>n_off_oth   </td><td>    .0174439</td><td>    6.822061</td><td>           1</td><td>    .0090039</td></tr>
<tr><td colspan=5><hr></td></tr>
</table>
<pre><code>. /*
&gt; stphplot, by(n_off_vio) adjust($covs_health) ///
&gt;  xtitle(&quot;Log Time (days)&quot;, size(small)) ///
&gt;         ylabel(-4(2)8, labsize(vsmall)) ///     
&gt;         legend(pos(7) ring(0) col(1) symysize(zero) keygap(1) symxsize(large) order( 1 2) lab(1 &quot;Outpatient&quot;) lab(2 &quot;Residential&quot;) size(small)) ///
&gt;         ytitle(&quot;Schoenfeld residuals&quot;, size(small)) scheme(sj) graphregion(color(white)) ///
&gt;         note(&quot;{it:Note. Means and 95% CI's; Bandwidth=.8; Natural log of analysis time used.}&quot;,size(vsmall)) ///
&gt;         title(&quot;Plot of −ln{−ln(survival)} vs. ln(analysis time)&quot; &quot;by Treatment Modality at Baseline&quot;, size(medium)) ///
&gt;         subtitle(&quot;{it: Fourth transition}&quot;,size(small)) ///
&gt;         name(stphplot_trans_4, replace)  ///
&gt;         saving(stphplot_trans_4.gph, replace)
&gt; */
. 
</code></pre>
<p>We generated a list of parametric survival models with different distributions (Exponential, Weibull, Gompertz, Log-logistic, Log-normal &amp; Generalized gamma). Aditionally, we defined a series of Royston-Parmar models with a function of restricted cubic splines, in which the knots (#df -1) are defined in each percentile of the distribution. We saved the estimates in the file called `parmodels_m2_nov_22&rsquo;.</p>
<pre><code>.                 // Cox w/tvc
.         forvalues j=1/7 {
  2.                 di in yellow &quot;{bf: ***********}&quot;
  3.                 di in yellow &quot;{bf: family Cox tvc `j'}&quot;
  4.                 di in yellow &quot;{bf: ***********}&quot;
  5.                 set seed 2125
  6.                 qui cap noi stmerlin $covs_2 , dist(exponential) tvc(motivodeegreso_mod_imp_rec3) dftvc(`j')
  7.                 estimates store m2_1_cox`j'     
  8.         }
 ***********
 family Cox tvc 1
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_1

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58463.616  
Iteration 2:   log likelihood = -56930.053  
Iteration 3:   log likelihood = -55932.228  
Iteration 4:   log likelihood = -55924.207  
Iteration 5:   log likelihood = -55924.205  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55924.205
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1159076    .009767    11.87   0.000     .0967645    .1350507
edad_al_in~t |  -.0026616    .001747    -1.52   0.128    -.0060856    .0007625
edad_ini_c~s |  -.0096566   .0018253    -5.29   0.000    -.0132341   -.0060791
     sex_enc |  -.2612077   .0190725   -13.70   0.000    -.2985892   -.2238261
     esc_rec |   .0848998   .0119252     7.12   0.000     .0615269    .1082728
sus_prin_mod |   .1379616    .007956    17.34   0.000     .1223681    .1535552
 fr_sus_prin |    .030064   .0074128     4.06   0.000     .0155351    .0445929
 comp_biosoc |   .1911649   .0138389    13.81   0.000     .1640412    .2182887
     ten_viv |  -.0162573   .0074548    -2.18   0.029    -.0308685    -.001646
dg_cie_10_~c |   .0202476   .0085339     2.37   0.018     .0035215    .0369736
sud_sever~10 |  -.0656204   .0187768    -3.49   0.000    -.1024223   -.0288186
   macrozone |   .1988924   .0113318    17.55   0.000     .1766824    .2211024
 policonsumo |   .1017109   .0211973     4.80   0.000     .0601649    .1432569
   n_off_vio |   .2736945    .018593    14.72   0.000      .237253    .3101361
   n_off_acq |   .6191757   .0173383    35.71   0.000     .5851933    .6531581
   n_off_sud |    .222364   .0180311    12.33   0.000     .1870237    .2577043
   n_off_oth |   .3120661   .0184941    16.87   0.000     .2758183    .3483139
motivodeeg~( |  -.1367727   .0070133   -19.50   0.000    -.1505184   -.1230269
       _cons |  -3.657178   .1008739   -36.25   0.000    -3.854887   -3.459469
------------------------------------------------------------------------------
 ***********
 family Cox tvc 2
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_2

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58451.581  
Iteration 2:   log likelihood = -56851.432  
Iteration 3:   log likelihood =  -55896.28  
Iteration 4:   log likelihood = -55887.904  
Iteration 5:   log likelihood = -55887.902  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55887.902
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0988138   .0100411     9.84   0.000     .0791336     .118494
edad_al_in~t |   .0041678   .0019333     2.16   0.031     .0003785     .007957
edad_ini_c~s |  -.0096532   .0018374    -5.25   0.000    -.0132544    -.006052
     sex_enc |  -.2612903   .0190702   -13.70   0.000    -.2986671   -.2239134
     esc_rec |   .0937881   .0119704     7.84   0.000     .0703266    .1172496
sus_prin_mod |   .1380906   .0079729    17.32   0.000      .122464    .1537172
 fr_sus_prin |    .031473   .0074099     4.25   0.000     .0169499    .0459961
 comp_biosoc |   .1912961   .0138424    13.82   0.000     .1641654    .2184268
     ten_viv |  -.0188511   .0074566    -2.53   0.011    -.0334657   -.0042365
dg_cie_10_~c |   .0205528   .0085315     2.41   0.016     .0038313    .0372742
sud_sever~10 |   -.062028   .0187823    -3.30   0.001    -.0988407   -.0252153
   macrozone |   .2012124   .0113351    17.75   0.000      .178996    .2234288
 policonsumo |    .094297   .0211938     4.45   0.000      .052758     .135836
   n_off_vio |   .2740386   .0185844    14.75   0.000     .2376138    .3104634
   n_off_acq |    .621166   .0173204    35.86   0.000     .5872186    .6551134
   n_off_sud |   .2167022   .0180356    12.02   0.000     .1813531    .2520513
   n_off_oth |   .3095961   .0184886    16.75   0.000     .2733592    .3458331
motivodeeg~( |  -.1844507   .0091316   -20.20   0.000    -.2023483    -.166553
motivodeeg~( |   .0328418   .0039229     8.37   0.000     .0251532    .0405305
       _cons |   -3.90218   .1054695   -37.00   0.000    -4.108896   -3.695463
------------------------------------------------------------------------------
 ***********
 family Cox tvc 3
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_3

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58444.311  
Iteration 2:   log likelihood = -56822.952  
Iteration 3:   log likelihood = -55862.694  
Iteration 4:   log likelihood = -55854.653  
Iteration 5:   log likelihood =  -55854.65  

Survival model                                  Number of obs     =     61,141
Log likelihood =  -55854.65
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0901266   .0101724     8.86   0.000      .070189    .1100642
edad_al_in~t |   .0059252   .0019689     3.01   0.003     .0020663    .0097841
edad_ini_c~s |  -.0095453   .0018441    -5.18   0.000    -.0131597   -.0059309
     sex_enc |  -.2603765   .0190698   -13.65   0.000    -.2977526   -.2230004
     esc_rec |   .0938815   .0119621     7.85   0.000     .0704363    .1173268
sus_prin_mod |   .1367849   .0079697    17.16   0.000     .1211645    .1524052
 fr_sus_prin |   .0309044   .0074093     4.17   0.000     .0163824    .0454264
 comp_biosoc |   .1892721   .0138452    13.67   0.000     .1621359    .2164083
     ten_viv |  -.0183844   .0074543    -2.47   0.014    -.0329945   -.0037743
dg_cie_10_~c |   .0203053   .0085318     2.38   0.017     .0035832    .0370274
sud_sever~10 |  -.0659772    .018789    -3.51   0.000    -.1028029   -.0291515
   macrozone |   .2011713   .0113394    17.74   0.000     .1789466     .223396
 policonsumo |   .0904857    .021164     4.28   0.000      .049005    .1319664
   n_off_vio |   .2744232   .0185816    14.77   0.000     .2380039    .3108425
   n_off_acq |   .6217579    .017317    35.90   0.000     .5878172    .6556987
   n_off_sud |   .2204347   .0180376    12.22   0.000     .1850816    .2557878
   n_off_oth |   .3093815   .0184887    16.73   0.000     .2731442    .3456188
motivodeeg~( |  -.2061099   .0097607   -21.12   0.000    -.2252405   -.1869794
motivodeeg~( |    .052368   .0047268    11.08   0.000     .0431036    .0616324
motivodeeg~( |    .028119   .0032639     8.62   0.000     .0217218    .0345162
       _cons |  -3.947216    .106127   -37.19   0.000    -4.155221   -3.739211
------------------------------------------------------------------------------
 ***********
 family Cox tvc 4
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_4

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58442.456  
Iteration 2:   log likelihood = -56821.488  
Iteration 3:   log likelihood = -55859.088  
Iteration 4:   log likelihood = -55850.958  
Iteration 5:   log likelihood = -55850.956  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55850.956
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0877169   .0102391     8.57   0.000     .0676486    .1077853
edad_al_in~t |   .0063636   .0019824     3.21   0.001     .0024783     .010249
edad_ini_c~s |  -.0095811   .0018453    -5.19   0.000    -.0131979   -.0059644
     sex_enc |  -.2600829   .0190705   -13.64   0.000    -.2974604   -.2227055
     esc_rec |   .0936921   .0119613     7.83   0.000     .0702483    .1171359
sus_prin_mod |   .1372557   .0079722    17.22   0.000     .1216306    .1528809
 fr_sus_prin |   .0310229   .0074101     4.19   0.000     .0164993    .0455464
 comp_biosoc |   .1892445   .0138444    13.67   0.000       .16211    .2163789
     ten_viv |  -.0184176   .0074532    -2.47   0.013    -.0330256   -.0038096
dg_cie_10_~c |   .0201681   .0085321     2.36   0.018     .0034455    .0368906
sud_sever~10 |  -.0659048    .018789    -3.51   0.000    -.1027306    -.029079
   macrozone |   .2012238   .0113402    17.74   0.000     .1789974    .2234502
 policonsumo |   .0896003   .0211588     4.23   0.000     .0481298    .1310708
   n_off_vio |   .2738062   .0185841    14.73   0.000     .2373821    .3102303
   n_off_acq |   .6212158   .0173194    35.87   0.000     .5872705    .6551612
   n_off_sud |   .2200578   .0180387    12.20   0.000     .1847027     .255413
   n_off_oth |   .3090144   .0184885    16.71   0.000     .2727776    .3452511
motivodeeg~( |  -.2116059   .0100761   -21.00   0.000    -.2313547   -.1918572
motivodeeg~( |   .0569426   .0051744    11.00   0.000      .046801    .0670843
motivodeeg~( |   .0318705   .0035417     9.00   0.000     .0249289    .0388122
motivodeeg~( |   .0145606   .0035055     4.15   0.000     .0076901    .0214312
       _cons |  -3.960813   .1064018   -37.23   0.000    -4.169357   -3.752269
------------------------------------------------------------------------------
 ***********
 family Cox tvc 5
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_5

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58442.603  
Iteration 2:   log likelihood = -56820.577  
Iteration 3:   log likelihood = -55853.802  
Iteration 4:   log likelihood = -55845.852  
Iteration 5:   log likelihood =  -55845.85  

Survival model                                  Number of obs     =     61,141
Log likelihood =  -55845.85
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0852695   .0102923     8.28   0.000     .0650971     .105442
edad_al_in~t |   .0067544   .0019918     3.39   0.001     .0028506    .0106581
edad_ini_c~s |  -.0095508   .0018457    -5.17   0.000    -.0131683   -.0059333
     sex_enc |  -.2603432   .0190713   -13.65   0.000    -.2977222   -.2229642
     esc_rec |   .0939027   .0119639     7.85   0.000     .0704539    .1173514
sus_prin_mod |   .1375856    .007971    17.26   0.000     .1219627    .1532085
 fr_sus_prin |   .0311791   .0074092     4.21   0.000     .0166574    .0457008
 comp_biosoc |   .1890057   .0138437    13.65   0.000     .1618726    .2161389
     ten_viv |  -.0183844   .0074529    -2.47   0.014    -.0329918   -.0037771
dg_cie_10_~c |   .0200626   .0085321     2.35   0.019     .0033399    .0367852
sud_sever~10 |  -.0660773   .0187902    -3.52   0.000    -.1029054   -.0292491
   macrozone |   .2009738   .0113416    17.72   0.000     .1787446     .223203
 policonsumo |   .0892058   .0211521     4.22   0.000     .0477484    .1306632
   n_off_vio |   .2739607   .0185852    14.74   0.000     .2375343     .310387
   n_off_acq |   .6216428   .0173198    35.89   0.000     .5876967    .6555889
   n_off_sud |   .2199352    .018038    12.19   0.000     .1845814     .255289
   n_off_oth |   .3087986   .0184895    16.70   0.000     .2725599    .3450373
motivodeeg~( |  -.2172682   .0103178   -21.06   0.000    -.2374907   -.1970457
motivodeeg~( |   .0620808   .0055205    11.25   0.000     .0512607    .0729008
motivodeeg~( |   .0332511   .0034532     9.63   0.000      .026483    .0400192
motivodeeg~( |   .0211387   .0036408     5.81   0.000     .0140028    .0282746
motivodeeg~( |   .0160737   .0037246     4.32   0.000     .0087736    .0233738
       _cons |  -3.973794    .106596   -37.28   0.000    -4.182718   -3.764869
------------------------------------------------------------------------------
 ***********
 family Cox tvc 6
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_6

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58441.847  
Iteration 2:   log likelihood = -56820.438  
Iteration 3:   log likelihood = -55848.175  
Iteration 4:   log likelihood = -55840.304  
Iteration 5:   log likelihood = -55840.302  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55840.302
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0829961   .0103399     8.03   0.000     .0627302    .1032621
edad_al_in~t |   .0070232   .0019989     3.51   0.000     .0031055    .0109409
edad_ini_c~s |  -.0095069   .0018459    -5.15   0.000    -.0131249    -.005889
     sex_enc |  -.2600087   .0190712   -13.63   0.000    -.2973876   -.2226298
     esc_rec |   .0940892   .0119658     7.86   0.000     .0706366    .1175418
sus_prin_mod |   .1375277   .0079719    17.25   0.000     .1219031    .1531523
 fr_sus_prin |    .031177   .0074097     4.21   0.000     .0166543    .0456998
 comp_biosoc |   .1891386   .0138439    13.66   0.000      .162005    .2162722
     ten_viv |  -.0184398   .0074527    -2.47   0.013    -.0330468   -.0038327
dg_cie_10_~c |    .020076   .0085321     2.35   0.019     .0033534    .0367986
sud_sever~10 |  -.0656224   .0187907    -3.49   0.000    -.1024515   -.0287934
   macrozone |   .2009907   .0113416    17.72   0.000     .1787616    .2232198
 policonsumo |   .0882019   .0211489     4.17   0.000     .0467509    .1296529
   n_off_vio |   .2734457   .0185859    14.71   0.000      .237018    .3098733
   n_off_acq |   .6214181   .0173201    35.88   0.000     .5874714    .6553648
   n_off_sud |   .2192811   .0180387    12.16   0.000     .1839259    .2546363
   n_off_oth |   .3085491   .0184886    16.69   0.000      .272312    .3447861
motivodeeg~( |  -.2219131   .0105093   -21.12   0.000    -.2425109   -.2013152
motivodeeg~( |   .0664175   .0057977    11.46   0.000     .0550543    .0777808
motivodeeg~( |   .0345979    .003456    10.01   0.000     .0278243    .0413715
motivodeeg~( |   .0245531   .0035665     6.88   0.000      .017563    .0315433
motivodeeg~( |   .0189739   .0037741     5.03   0.000     .0115767     .026371
motivodeeg~( |   .0193773   .0039029     4.96   0.000     .0117278    .0270268
       _cons |  -3.983182     .10676   -37.31   0.000    -4.192428   -3.773936
------------------------------------------------------------------------------
 ***********
 family Cox tvc 7
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_7

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58441.688  
Iteration 2:   log likelihood = -56821.449  
Iteration 3:   log likelihood = -55847.944  
Iteration 4:   log likelihood = -55840.006  
Iteration 5:   log likelihood = -55840.004  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55840.004
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0822448   .0103688     7.93   0.000     .0619224    .1025672
edad_al_in~t |   .0071368   .0020025     3.56   0.000     .0032119    .0110617
edad_ini_c~s |   -.009499   .0018461    -5.15   0.000    -.0131172   -.0058807
     sex_enc |  -.2599518   .0190713   -13.63   0.000    -.2973308   -.2225728
     esc_rec |    .094074   .0119661     7.86   0.000     .0706208    .1175271
sus_prin_mod |   .1374891    .007972    17.25   0.000     .1218643    .1531139
 fr_sus_prin |   .0312069   .0074097     4.21   0.000     .0166841    .0457297
 comp_biosoc |   .1891027   .0138446    13.66   0.000     .1619678    .2162377
     ten_viv |  -.0184917   .0074526    -2.48   0.013    -.0330986   -.0038847
dg_cie_10_~c |   .0200554    .008532     2.35   0.019     .0033329    .0367779
sud_sever~10 |  -.0654986   .0187913    -3.49   0.000     -.102329   -.0286682
   macrozone |   .2010231   .0113416    17.72   0.000     .1787941    .2232522
 policonsumo |   .0881502   .0211475     4.17   0.000     .0467018    .1295985
   n_off_vio |    .273364   .0185858    14.71   0.000     .2369365    .3097914
   n_off_acq |   .6214058   .0173198    35.88   0.000     .5874596    .6553519
   n_off_sud |   .2192383   .0180387    12.15   0.000     .1838831    .2545934
   n_off_oth |   .3084919   .0184883    16.69   0.000     .2722554    .3447283
motivodeeg~( |  -.2237394   .0106414   -21.03   0.000    -.2445961   -.2028826
motivodeeg~( |   .0680987   .0060052    11.34   0.000     .0563288    .0798687
motivodeeg~( |    .033968   .0034056     9.97   0.000     .0272931    .0406429
motivodeeg~( |   .0262435   .0035511     7.39   0.000     .0192835    .0332035
motivodeeg~( |    .018354   .0036328     5.05   0.000     .0112338    .0254742
motivodeeg~( |   .0206197   .0038851     5.31   0.000      .013005    .0282343
motivodeeg~( |   .0157113   .0040648     3.87   0.000     .0077444    .0236781
       _cons |  -3.986804   .1068365   -37.32   0.000      -4.1962   -3.777409
------------------------------------------------------------------------------

. 
.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Gomp}&quot;
 family Gomp

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(gompertz)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood =  -20363295  
Iteration 1:   log likelihood =  -101600.4  
Iteration 2:   log likelihood = -60007.371  
Iteration 3:   log likelihood = -55790.714  
Iteration 4:   log likelihood = -55296.728  
Iteration 5:   log likelihood = -55295.494  
Iteration 6:   log likelihood = -55295.494  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55295.494
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1518344   .0095752    15.86   0.000     .1330674    .1706013
edad_al_in~t |   .0910542   .0028441    32.01   0.000     .0854798    .0966286
edad_ini_c~s |  -.0068168   .0018469    -3.69   0.000    -.0104367   -.0031969
     sex_enc |  -.2561736   .0190611   -13.44   0.000    -.2935327   -.2188144
     esc_rec |   .1022713   .0119351     8.57   0.000      .078879    .1256636
sus_prin_mod |   .1316613   .0080241    16.41   0.000     .1159343    .1473883
 fr_sus_prin |   .0305207   .0074212     4.11   0.000     .0159753    .0450661
 comp_biosoc |   .1868314   .0138518    13.49   0.000     .1596823    .2139805
     ten_viv |  -.0201482   .0074382    -2.71   0.007    -.0347269   -.0055695
dg_cie_10_~c |   .0207056   .0085777     2.41   0.016     .0038937    .0375176
sud_sever~10 |  -.0607297    .018793    -3.23   0.001    -.0975634   -.0238961
   macrozone |   .1916891   .0113481    16.89   0.000     .1694473    .2139309
 policonsumo |     .11712   .0211246     5.54   0.000     .0757165    .1585235
   n_off_vio |   .2504075   .0185634    13.49   0.000     .2140239     .286791
   n_off_acq |   .5814674   .0172835    33.64   0.000     .5475923    .6153425
   n_off_sud |   .1943594   .0180142    10.79   0.000     .1590522    .2296667
   n_off_oth |   .2800676   .0184676    15.17   0.000     .2438717    .3162635
       _cons |  -2.283584   .0868957   -26.28   0.000    -2.453896   -2.113271
       gamma |  -.1254275   .0028132   -44.59   0.000    -.1309412   -.1199137
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(gompertz, fail(_status)))
.         estimates store m2_1_gom

. 
.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Weibull}&quot;
 family Weibull

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(weibull)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -185437.49  
Iteration 1:   log likelihood = -58694.546  (not concave)
Iteration 2:   log likelihood = -57074.324  
Iteration 3:   log likelihood = -56617.145  
Iteration 4:   log likelihood = -56006.627  
Iteration 5:   log likelihood = -55984.458  
Iteration 6:   log likelihood = -55952.741  
Iteration 7:   log likelihood = -55894.644  
Iteration 8:   log likelihood = -55882.846  
Iteration 9:   log likelihood = -55858.695  
Iteration 10:  log likelihood = -55847.102  (not concave)
Iteration 11:  log likelihood = -55846.812  
Iteration 12:  log likelihood = -55842.488  
Iteration 13:  log likelihood = -55837.698  
Iteration 14:  log likelihood = -55828.413  
Iteration 15:  log likelihood = -55825.842  
Iteration 16:  log likelihood =   -55824.4  
Iteration 17:  log likelihood = -55823.947  
Iteration 18:  log likelihood = -55823.363  
Iteration 19:  log likelihood = -55823.186  
Iteration 20:  log likelihood = -55823.078  
Iteration 21:  log likelihood =  -55823.04  
Iteration 22:  log likelihood = -55823.033  
Iteration 23:  log likelihood = -55823.031  
Iteration 24:  log likelihood = -55823.031  
Iteration 25:  log likelihood = -55823.031  (not concave)
Iteration 26:  log likelihood = -55823.031  (not concave)
Iteration 27:  log likelihood = -55823.031  (not concave)
Iteration 28:  log likelihood = -55823.031  (not concave)
Iteration 29:  log likelihood = -55823.031  (not concave)
Iteration 30:  log likelihood = -55823.031  (not concave)
Iteration 31:  log likelihood = -55823.031  (not concave)
Iteration 32:  log likelihood = -55823.031  (not concave)
Iteration 33:  log likelihood = -55823.031  (not concave)
Iteration 34:  log likelihood = -55823.031  (not concave)
Iteration 35:  log likelihood = -55823.031  (not concave)
Iteration 36:  log likelihood = -55823.031  (not concave)
Iteration 37:  log likelihood = -55823.031  (not concave)
Iteration 38:  log likelihood = -55823.031  (not concave)
Iteration 39:  log likelihood = -55823.031  (not concave)
Iteration 40:  log likelihood = -55823.031  (not concave)
Iteration 41:  log likelihood = -55823.031  (not concave)
Iteration 42:  log likelihood = -55823.031  (not concave)
Iteration 43:  log likelihood = -55823.031  (not concave)
Iteration 44:  log likelihood = -55823.031  (not concave)
Iteration 45:  log likelihood = -55823.031  (not concave)
Iteration 46:  log likelihood = -55823.031  (not concave)
Iteration 47:  log likelihood = -55823.031  (not concave)
Iteration 48:  log likelihood = -55823.031  (not concave)
Iteration 49:  log likelihood = -55823.031  (not concave)
Iteration 50:  log likelihood = -55823.031  (not concave)
Iteration 51:  log likelihood = -55823.031  (not concave)
Iteration 52:  log likelihood = -55823.031  (not concave)
Iteration 53:  log likelihood = -55823.031  (not concave)
Iteration 54:  log likelihood = -55823.031  (not concave)
Iteration 55:  log likelihood = -55823.031  (not concave)
Iteration 56:  log likelihood = -55823.031  (not concave)
Iteration 57:  log likelihood = -55823.031  (not concave)
Iteration 58:  log likelihood = -55823.031  (not concave)
Iteration 59:  log likelihood = -55823.031  (not concave)
Iteration 60:  log likelihood = -55823.031  (not concave)
Iteration 61:  log likelihood = -55823.031  (not concave)
Iteration 62:  log likelihood = -55823.031  (not concave)
Iteration 63:  log likelihood = -55823.031  (not concave)
Iteration 64:  log likelihood = -55823.031  (not concave)
Iteration 65:  log likelihood = -55823.031  (not concave)
Iteration 66:  log likelihood = -55823.031  (not concave)
Iteration 67:  log likelihood = -55823.031  (not concave)
Iteration 68:  log likelihood = -55823.031  (not concave)
Iteration 69:  log likelihood = -55823.031  (not concave)
Iteration 70:  log likelihood = -55823.031  (not concave)
Iteration 71:  log likelihood = -55823.031  (not concave)
Iteration 72:  log likelihood = -55823.031  (not concave)
Iteration 73:  log likelihood = -55823.031  (not concave)
Iteration 74:  log likelihood = -55823.031  (not concave)
Iteration 75:  log likelihood = -55823.031  (not concave)
Iteration 76:  log likelihood = -55823.031  (not concave)
Iteration 77:  log likelihood = -55823.031  (not concave)
Iteration 78:  log likelihood = -55823.031  (not concave)
Iteration 79:  log likelihood = -55823.031  (not concave)
Iteration 80:  log likelihood = -55823.031  (not concave)
Iteration 81:  log likelihood = -55823.031  (not concave)
Iteration 82:  log likelihood = -55823.031  (not concave)
Iteration 83:  log likelihood = -55823.031  (not concave)
Iteration 84:  log likelihood = -55823.031  (not concave)
Iteration 85:  log likelihood = -55823.031  (not concave)
Iteration 86:  log likelihood = -55823.031  (not concave)
Iteration 87:  log likelihood = -55823.031  (not concave)
Iteration 88:  log likelihood = -55823.031  (not concave)
Iteration 89:  log likelihood = -55823.031  (not concave)
Iteration 90:  log likelihood = -55823.031  (not concave)
Iteration 91:  log likelihood = -55823.031  (not concave)
Iteration 92:  log likelihood = -55823.031  (not concave)
Iteration 93:  log likelihood = -55823.031  (not concave)
Iteration 94:  log likelihood = -55823.031  (not concave)
Iteration 95:  log likelihood = -55823.031  (not concave)
Iteration 96:  log likelihood = -55823.031  (not concave)
Iteration 97:  log likelihood = -55823.031  (not concave)
Iteration 98:  log likelihood = -55823.031  (not concave)
Iteration 99:  log likelihood = -55823.031  (not concave)
Iteration 100: log likelihood = -55823.031  (not concave)
Iteration 101: log likelihood = -55823.031  (not concave)
Iteration 102: log likelihood = -55823.031  (not concave)
Iteration 103: log likelihood = -55823.031  (not concave)
Iteration 104: log likelihood = -55823.031  (not concave)
Iteration 105: log likelihood = -55823.031  (not concave)
Iteration 106: log likelihood = -55823.031  (not concave)
Iteration 107: log likelihood = -55823.031  (not concave)
Iteration 108: log likelihood = -55823.031  (not concave)
Iteration 109: log likelihood = -55823.031  (not concave)
Iteration 110: log likelihood = -55823.031  (not concave)
Iteration 111: log likelihood = -55823.031  (not concave)
Iteration 112: log likelihood = -55823.031  (not concave)
Iteration 113: log likelihood = -55823.031  (not concave)
Iteration 114: log likelihood = -55823.031  (not concave)
Iteration 115: log likelihood = -55823.031  (not concave)
Iteration 116: log likelihood = -55823.031  (not concave)
Iteration 117: log likelihood = -55823.031  (not concave)
Iteration 118: log likelihood = -55823.031  (not concave)
Iteration 119: log likelihood = -55823.031  (not concave)
Iteration 120: log likelihood = -55823.031  (not concave)
Iteration 121: log likelihood = -55823.031  (not concave)
Iteration 122: log likelihood = -55823.031  (not concave)
Iteration 123: log likelihood = -55823.031  (not concave)
Iteration 124: log likelihood = -55823.031  (not concave)
Iteration 125: log likelihood = -55823.031  (not concave)
Iteration 126: log likelihood = -55823.031  (not concave)
Iteration 127: log likelihood = -55823.031  (not concave)
Iteration 128: log likelihood = -55823.031  (not concave)
Iteration 129: log likelihood = -55823.031  (not concave)
Iteration 130: log likelihood = -55823.031  (not concave)
Iteration 131: log likelihood = -55823.031  (not concave)
Iteration 132: log likelihood = -55823.031  (not concave)
Iteration 133: log likelihood = -55823.031  (not concave)
Iteration 134: log likelihood = -55823.031  (not concave)
Iteration 135: log likelihood = -55823.031  (not concave)
Iteration 136: log likelihood = -55823.031  (not concave)
Iteration 137: log likelihood = -55823.031  (not concave)
Iteration 138: log likelihood = -55823.031  (not concave)
Iteration 139: log likelihood = -55823.031  (not concave)
Iteration 140: log likelihood = -55823.031  (not concave)
Iteration 141: log likelihood = -55823.031  (not concave)
Iteration 142: log likelihood = -55823.031  (not concave)
Iteration 143: log likelihood = -55823.031  (not concave)
Iteration 144: log likelihood = -55823.031  (not concave)
Iteration 145: log likelihood = -55823.031  (not concave)
Iteration 146: log likelihood = -55823.031  (not concave)
Iteration 147: log likelihood = -55823.031  (not concave)
Iteration 148: log likelihood = -55823.031  (not concave)
Iteration 149: log likelihood = -55823.031  (not concave)
Iteration 150: log likelihood = -55823.031  (not concave)
Iteration 151: log likelihood = -55823.031  (not concave)
Iteration 152: log likelihood = -55823.031  (not concave)
Iteration 153: log likelihood = -55823.031  (not concave)
Iteration 154: log likelihood = -55823.031  (not concave)
Iteration 155: log likelihood = -55823.031  (not concave)
Iteration 156: log likelihood = -55823.031  (not concave)
Iteration 157: log likelihood = -55823.031  (not concave)
Iteration 158: log likelihood = -55823.031  (not concave)
Iteration 159: log likelihood = -55823.031  (not concave)
Iteration 160: log likelihood = -55823.031  (not concave)
Iteration 161: log likelihood = -55823.031  (not concave)
Iteration 162: log likelihood = -55823.031  (not concave)
Iteration 163: log likelihood = -55823.031  (not concave)
Iteration 164: log likelihood = -55823.031  (not concave)
Iteration 165: log likelihood = -55823.031  (not concave)
Iteration 166: log likelihood = -55823.031  (not concave)
Iteration 167: log likelihood = -55823.031  (not concave)
Iteration 168: log likelihood = -55823.031  (not concave)
Iteration 169: log likelihood = -55823.031  (not concave)
Iteration 170: log likelihood = -55823.031  (not concave)
Iteration 171: log likelihood = -55823.031  (not concave)
Iteration 172: log likelihood = -55823.031  (not concave)
Iteration 173: log likelihood = -55823.031  (not concave)
Iteration 174: log likelihood = -55823.031  (not concave)
Iteration 175: log likelihood = -55823.031  (not concave)
Iteration 176: log likelihood = -55823.031  (not concave)
Iteration 177: log likelihood = -55823.031  (not concave)
Iteration 178: log likelihood = -55823.031  (not concave)
Iteration 179: log likelihood = -55823.031  (not concave)
Iteration 180: log likelihood = -55823.031  (not concave)
Iteration 181: log likelihood = -55823.031  (not concave)
Iteration 182: log likelihood = -55823.031  (not concave)
Iteration 183: log likelihood = -55823.031  (not concave)
Iteration 184: log likelihood = -55823.031  (not concave)
Iteration 185: log likelihood = -55823.031  (not concave)
Iteration 186: log likelihood = -55823.031  (not concave)
Iteration 187: log likelihood = -55823.031  (not concave)
Iteration 188: log likelihood = -55823.031  (not concave)
Iteration 189: log likelihood = -55823.031  (not concave)
Iteration 190: log likelihood = -55823.031  (not concave)
Iteration 191: log likelihood = -55823.031  (not concave)
Iteration 192: log likelihood = -55823.031  (not concave)
Iteration 193: log likelihood = -55823.031  (not concave)
Iteration 194: log likelihood = -55823.031  (not concave)
Iteration 195: log likelihood = -55823.031  (not concave)
Iteration 196: log likelihood = -55823.031  (not concave)
Iteration 197: log likelihood = -55823.031  (not concave)
Iteration 198: log likelihood = -55823.031  (not concave)
Iteration 199: log likelihood = -55823.031  (not concave)
Iteration 200: log likelihood = -55823.031  (not concave)
Iteration 201: log likelihood = -55823.031  (not concave)
Iteration 202: log likelihood = -55823.031  (not concave)
Iteration 203: log likelihood = -55823.031  (not concave)
Iteration 204: log likelihood = -55823.031  (not concave)
Iteration 205: log likelihood = -55823.031  (not concave)
Iteration 206: log likelihood = -55823.031  (not concave)
Iteration 207: log likelihood = -55823.031  (not concave)
Iteration 208: log likelihood = -55823.031  (not concave)
Iteration 209: log likelihood = -55823.031  (not concave)
Iteration 210: log likelihood = -55823.031  (not concave)
Iteration 211: log likelihood = -55823.031  (not concave)
Iteration 212: log likelihood = -55823.031  (not concave)
Iteration 213: log likelihood = -55823.031  (not concave)
Iteration 214: log likelihood = -55823.031  (not concave)
Iteration 215: log likelihood = -55823.031  (not concave)
Iteration 216: log likelihood = -55823.031  (not concave)
Iteration 217: log likelihood = -55823.031  (not concave)
Iteration 218: log likelihood = -55823.031  (not concave)
Iteration 219: log likelihood = -55823.031  (not concave)
Iteration 220: log likelihood = -55823.031  (not concave)
Iteration 221: log likelihood = -55823.031  (not concave)
Iteration 222: log likelihood = -55823.031  (not concave)
Iteration 223: log likelihood = -55823.031  (not concave)
Iteration 224: log likelihood = -55823.031  (not concave)
Iteration 225: log likelihood = -55823.031  (not concave)
Iteration 226: log likelihood = -55823.031  (not concave)
Iteration 227: log likelihood = -55823.031  (not concave)
Iteration 228: log likelihood = -55823.031  (not concave)
Iteration 229: log likelihood = -55823.031  (not concave)
Iteration 230: log likelihood = -55823.031  (not concave)
Iteration 231: log likelihood = -55823.031  (not concave)
Iteration 232: log likelihood = -55823.031  (not concave)
Iteration 233: log likelihood = -55823.031  (not concave)
Iteration 234: log likelihood = -55823.031  (not concave)
Iteration 235: log likelihood = -55823.031  (not concave)
Iteration 236: log likelihood = -55823.031  (not concave)
Iteration 237: log likelihood = -55823.031  (not concave)
Iteration 238: log likelihood = -55823.031  (not concave)
Iteration 239: log likelihood = -55823.031  (not concave)
Iteration 240: log likelihood = -55823.031  (not concave)
Iteration 241: log likelihood = -55823.031  (not concave)
Iteration 242: log likelihood = -55823.031  (not concave)
Iteration 243: log likelihood = -55823.031  (not concave)
Iteration 244: log likelihood = -55823.031  (not concave)
Iteration 245: log likelihood = -55823.031  (not concave)
Iteration 246: log likelihood = -55823.031  (not concave)
Iteration 247: log likelihood = -55823.031  (not concave)
Iteration 248: log likelihood = -55823.031  (not concave)
Iteration 249: log likelihood = -55823.031  (not concave)
Iteration 250: log likelihood = -55823.031  (not concave)
Iteration 251: log likelihood = -55823.031  (not concave)
Iteration 252: log likelihood = -55823.031  (not concave)
Iteration 253: log likelihood = -55823.031  (not concave)
Iteration 254: log likelihood = -55823.031  (not concave)
Iteration 255: log likelihood = -55823.031  (not concave)
Iteration 256: log likelihood = -55823.031  (not concave)
Iteration 257: log likelihood = -55823.031  (not concave)
Iteration 258: log likelihood = -55823.031  (not concave)
Iteration 259: log likelihood = -55823.031  (not concave)
Iteration 260: log likelihood = -55823.031  (not concave)
Iteration 261: log likelihood = -55823.031  (not concave)
Iteration 262: log likelihood = -55823.031  (not concave)
Iteration 263: log likelihood = -55823.031  (not concave)
Iteration 264: log likelihood = -55823.031  (not concave)
Iteration 265: log likelihood = -55823.031  (not concave)
Iteration 266: log likelihood = -55823.031  (not concave)
Iteration 267: log likelihood = -55823.031  (not concave)
Iteration 268: log likelihood = -55823.031  (not concave)
Iteration 269: log likelihood = -55823.031  (not concave)
Iteration 270: log likelihood = -55823.031  (not concave)
Iteration 271: log likelihood = -55823.031  (not concave)
Iteration 272: log likelihood = -55823.031  (not concave)
Iteration 273: log likelihood = -55823.031  (not concave)
Iteration 274: log likelihood = -55823.031  (not concave)
Iteration 275: log likelihood = -55823.031  (not concave)
Iteration 276: log likelihood = -55823.031  (not concave)
Iteration 277: log likelihood = -55823.031  (not concave)
Iteration 278: log likelihood = -55823.031  (not concave)
Iteration 279: log likelihood = -55823.031  (not concave)
Iteration 280: log likelihood = -55823.031  (not concave)
Iteration 281: log likelihood = -55823.031  (not concave)
Iteration 282: log likelihood = -55823.031  (not concave)
Iteration 283: log likelihood = -55823.031  (not concave)
Iteration 284: log likelihood = -55823.031  (not concave)
Iteration 285: log likelihood = -55823.031  (not concave)
Iteration 286: log likelihood = -55823.031  (not concave)
Iteration 287: log likelihood = -55823.031  (not concave)
Iteration 288: log likelihood = -55823.031  (not concave)
Iteration 289: log likelihood = -55823.031  (not concave)
Iteration 290: log likelihood = -55823.031  (not concave)
Iteration 291: log likelihood = -55823.031  (not concave)
Iteration 292: log likelihood = -55823.031  (not concave)
Iteration 293: log likelihood = -55823.031  (not concave)
Iteration 294: log likelihood = -55823.031  (not concave)
Iteration 295: log likelihood = -55823.031  (not concave)
Iteration 296: log likelihood = -55823.031  (not concave)
Iteration 297: log likelihood = -55823.031  (not concave)
Iteration 298: log likelihood = -55823.031  (not concave)
Iteration 299: log likelihood = -55823.031  (not concave)
Iteration 300: log likelihood = -55823.031  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     61,141
Log likelihood = -55823.031
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1546243   .0095063    16.27   0.000     .1359923    .1732563
edad_al_in~t |  -.0052806   .0008982    -5.88   0.000    -.0070411   -.0035202
edad_ini_c~s |  -.0094715   .0018319    -5.17   0.000    -.0130619   -.0058811
     sex_enc |  -.2601927   .0190666   -13.65   0.000    -.2975626   -.2228228
     esc_rec |   .0882549   .0119176     7.41   0.000     .0648968    .1116129
sus_prin_mod |   .1379064    .007961    17.32   0.000     .1223031    .1535096
 fr_sus_prin |   .0302765   .0074157     4.08   0.000      .015742    .0448109
 comp_biosoc |    .189091   .0138322    13.67   0.000     .1619804    .2162017
     ten_viv |  -.0167403   .0074497    -2.25   0.025    -.0313415   -.0021391
dg_cie_10_~c |   .0196872   .0085486     2.30   0.021     .0029322    .0364422
sud_sever~10 |  -.0647499    .018772    -3.45   0.001    -.1015424   -.0279575
   macrozone |   .2000308   .0113298    17.66   0.000     .1778249    .2222367
 policonsumo |   .0969468   .0211304     4.59   0.000     .0555319    .1383617
   n_off_vio |   .2766083   .0185787    14.89   0.000     .2401947    .3130219
   n_off_acq |   .6208576   .0172989    35.89   0.000     .5869524    .6547628
   n_off_sud |   .2227601   .0180272    12.36   0.000     .1874275    .2580927
   n_off_oth |   .3129809   .0184896    16.93   0.000     .2767419    .3492199
       _cons |   16.69017          .        .       .            .           .
  log(gamma) |  -16.69173   .0861435  -193.77   0.000    -16.86057   -16.52289
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(gompertz, fail(_status)))
.         estimates store m2_1_wei

.         
.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Logl}&quot;
 family Logl

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(loglogistic)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -69205.587  
Iteration 1:   log likelihood = -59561.983  
Iteration 2:   log likelihood = -58540.572  
Iteration 3:   log likelihood = -57709.066  (not concave)
Iteration 4:   log likelihood = -57205.218  (not concave)
Iteration 5:   log likelihood = -56966.943  
Iteration 6:   log likelihood = -56829.496  
Iteration 7:   log likelihood = -56707.235  
Iteration 8:   log likelihood = -56702.564  
Iteration 9:   log likelihood = -56702.286  
Iteration 10:  log likelihood = -56702.273  
Iteration 11:  log likelihood = -56702.273  

Survival model                                  Number of obs     =     61,141
Log likelihood = -56702.273
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |  -.0657275   .0049151   -13.37   0.000    -.0753609    -.056094
edad_al_in~t |   .0300746    .000437    68.83   0.000     .0292182     .030931
edad_ini_c~s |   .0036199   .0007679     4.71   0.000     .0021149    .0051249
     sex_enc |   .1287747   .0092972    13.85   0.000     .1105526    .1469968
     esc_rec |  -.0548345   .0063245    -8.67   0.000    -.0672303   -.0424387
sus_prin_mod |  -.0701504   .0047725   -14.70   0.000    -.0795042   -.0607965
 fr_sus_prin |  -.0159293   .0037627    -4.23   0.000     -.023304   -.0085546
 comp_biosoc |  -.0899066   .0073597   -12.22   0.000    -.1043313   -.0754819
     ten_viv |    .006141   .0040979     1.50   0.134    -.0018907    .0141727
dg_cie_10_~c |  -.0040654   .0046302    -0.88   0.380    -.0131405    .0050097
sud_sever~10 |   .0122691   .0093539     1.31   0.190    -.0060641    .0306024
   macrozone |  -.0912635   .0073623   -12.40   0.000    -.1056933   -.0768337
 policonsumo |  -.0256448   .0097688    -2.63   0.009    -.0447913   -.0064983
   n_off_vio |  -.1938272   .0169867   -11.41   0.000    -.2271204   -.1605339
   n_off_acq |  -.8864703   .1883665    -4.71   0.000    -1.255662   -.5172786
   n_off_sud |  -.1813411   .0165959   -10.93   0.000    -.2138684   -.1488138
   n_off_oth |  -.2176995   .0191672   -11.36   0.000    -.2552665   -.1801326
       _cons |   3.121227   .0428637    72.82   0.000     3.037215    3.205238
       dap:1 |  -1.725078   .0107791  -160.04   0.000    -1.746205   -1.703952
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(loglogistic, fail(_status)))
.         estimates store m2_1_logl

. 
.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Logn}&quot;
 family Logn

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(lognormal)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -58971.542  (not concave)
Iteration 1:   log likelihood = -57141.241  (not concave)
Iteration 2:   log likelihood = -57081.814  (not concave)
Iteration 3:   log likelihood = -57054.863  (not concave)
Iteration 4:   log likelihood = -57026.838  (not concave)
Iteration 5:   log likelihood = -56972.792  (not concave)
Iteration 6:   log likelihood = -56949.771  (not concave)
Iteration 7:   log likelihood = -56921.657  (not concave)
Iteration 8:   log likelihood = -56838.449  (not concave)
Iteration 9:   log likelihood = -56695.955  (not concave)
Iteration 10:  log likelihood = -56689.639  (not concave)
Iteration 11:  log likelihood = -56668.747  (not concave)
Iteration 12:  log likelihood = -56660.971  (not concave)
Iteration 13:  log likelihood =  -56655.18  (not concave)
Iteration 14:  log likelihood = -56655.124  (not concave)
Iteration 15:  log likelihood = -56655.116  (not concave)
Iteration 16:  log likelihood = -56655.116  (not concave)
Iteration 17:  log likelihood = -56655.116  (not concave)
Iteration 18:  log likelihood = -56655.116  (not concave)
Iteration 19:  log likelihood = -56655.116  (not concave)
Iteration 20:  log likelihood = -56655.116  (not concave)
Iteration 21:  log likelihood = -56655.116  (not concave)
Iteration 22:  log likelihood = -56655.116  (not concave)
Iteration 23:  log likelihood = -56655.116  (not concave)
Iteration 24:  log likelihood = -56655.116  (not concave)
Iteration 25:  log likelihood = -56655.116  (not concave)
Iteration 26:  log likelihood = -56655.116  (not concave)
Iteration 27:  log likelihood = -56655.116  (not concave)
Iteration 28:  log likelihood = -56655.116  (not concave)
Iteration 29:  log likelihood = -56655.116  (not concave)
Iteration 30:  log likelihood = -56655.116  (not concave)
Iteration 31:  log likelihood = -56655.116  (not concave)
Iteration 32:  log likelihood = -56655.116  (not concave)
Iteration 33:  log likelihood = -56655.116  (not concave)
Iteration 34:  log likelihood = -56655.116  (not concave)
Iteration 35:  log likelihood = -56655.116  (not concave)
Iteration 36:  log likelihood = -56655.116  (not concave)
Iteration 37:  log likelihood = -56655.116  (not concave)
Iteration 38:  log likelihood = -56655.116  (not concave)
Iteration 39:  log likelihood = -56655.116  (not concave)
Iteration 40:  log likelihood = -56655.116  (not concave)
Iteration 41:  log likelihood = -56655.116  (not concave)
Iteration 42:  log likelihood = -56655.116  (not concave)
Iteration 43:  log likelihood = -56655.116  (not concave)
Iteration 44:  log likelihood = -56655.116  (not concave)
Iteration 45:  log likelihood = -56655.116  (not concave)
Iteration 46:  log likelihood = -56655.116  (not concave)
Iteration 47:  log likelihood = -56655.116  (not concave)
Iteration 48:  log likelihood = -56655.116  (not concave)
Iteration 49:  log likelihood = -56655.116  (not concave)
Iteration 50:  log likelihood = -56655.116  (not concave)
Iteration 51:  log likelihood = -56655.116  (not concave)
Iteration 52:  log likelihood = -56655.116  (not concave)
Iteration 53:  log likelihood = -56655.116  (not concave)
Iteration 54:  log likelihood = -56655.116  (not concave)
Iteration 55:  log likelihood = -56655.116  (not concave)
Iteration 56:  log likelihood = -56655.116  (not concave)
Iteration 57:  log likelihood = -56655.116  (not concave)
Iteration 58:  log likelihood = -56655.116  (not concave)
Iteration 59:  log likelihood = -56655.116  (not concave)
Iteration 60:  log likelihood = -56655.116  (not concave)
Iteration 61:  log likelihood = -56655.116  (not concave)
Iteration 62:  log likelihood = -56655.116  (not concave)
Iteration 63:  log likelihood = -56655.116  (not concave)
Iteration 64:  log likelihood = -56655.116  (not concave)
Iteration 65:  log likelihood = -56655.116  (not concave)
Iteration 66:  log likelihood = -56655.116  (not concave)
Iteration 67:  log likelihood = -56655.116  (not concave)
Iteration 68:  log likelihood = -56655.116  (not concave)
Iteration 69:  log likelihood = -56655.116  (not concave)
Iteration 70:  log likelihood = -56655.116  (not concave)
Iteration 71:  log likelihood = -56655.116  (not concave)
Iteration 72:  log likelihood = -56655.116  (not concave)
Iteration 73:  log likelihood = -56655.116  (not concave)
Iteration 74:  log likelihood = -56655.116  (not concave)
Iteration 75:  log likelihood = -56655.116  (not concave)
Iteration 76:  log likelihood = -56655.116  (not concave)
Iteration 77:  log likelihood = -56655.116  (not concave)
Iteration 78:  log likelihood = -56655.116  (not concave)
Iteration 79:  log likelihood = -56655.116  (not concave)
Iteration 80:  log likelihood = -56655.116  (not concave)
Iteration 81:  log likelihood = -56655.116  (not concave)
Iteration 82:  log likelihood = -56655.116  (not concave)
Iteration 83:  log likelihood = -56655.116  (not concave)
Iteration 84:  log likelihood = -56655.116  (not concave)
Iteration 85:  log likelihood = -56655.116  (not concave)
Iteration 86:  log likelihood = -56655.116  (not concave)
Iteration 87:  log likelihood = -56655.116  (not concave)
Iteration 88:  log likelihood = -56655.116  (not concave)
Iteration 89:  log likelihood = -56655.116  (not concave)
Iteration 90:  log likelihood = -56655.116  (not concave)
Iteration 91:  log likelihood = -56655.116  (not concave)
Iteration 92:  log likelihood = -56655.116  (not concave)
Iteration 93:  log likelihood = -56655.116  (not concave)
Iteration 94:  log likelihood = -56655.116  (not concave)
Iteration 95:  log likelihood = -56655.116  (not concave)
Iteration 96:  log likelihood = -56655.116  (not concave)
Iteration 97:  log likelihood = -56655.116  (not concave)
Iteration 98:  log likelihood = -56655.116  (not concave)
Iteration 99:  log likelihood = -56655.116  (not concave)
Iteration 100: log likelihood = -56655.116  (not concave)
Iteration 101: log likelihood = -56655.116  (not concave)
Iteration 102: log likelihood = -56655.116  (not concave)
Iteration 103: log likelihood = -56655.116  (not concave)
Iteration 104: log likelihood = -56655.116  (not concave)
Iteration 105: log likelihood = -56655.116  (not concave)
Iteration 106: log likelihood = -56655.116  (not concave)
Iteration 107: log likelihood = -56655.116  (not concave)
Iteration 108: log likelihood = -56655.116  (not concave)
Iteration 109: log likelihood = -56655.116  (not concave)
Iteration 110: log likelihood = -56655.116  (not concave)
Iteration 111: log likelihood = -56655.116  (not concave)
Iteration 112: log likelihood = -56655.116  (not concave)
Iteration 113: log likelihood = -56655.116  (not concave)
Iteration 114: log likelihood = -56655.116  (not concave)
Iteration 115: log likelihood = -56655.116  (not concave)
Iteration 116: log likelihood = -56655.116  (not concave)
Iteration 117: log likelihood = -56655.116  (not concave)
Iteration 118: log likelihood = -56655.116  (not concave)
Iteration 119: log likelihood = -56655.116  (not concave)
Iteration 120: log likelihood = -56655.116  (not concave)
Iteration 121: log likelihood = -56655.116  (not concave)
Iteration 122: log likelihood = -56655.116  (not concave)
Iteration 123: log likelihood = -56655.116  (not concave)
Iteration 124: log likelihood = -56655.116  (not concave)
Iteration 125: log likelihood = -56655.116  (not concave)
Iteration 126: log likelihood = -56655.116  (not concave)
Iteration 127: log likelihood = -56655.116  (not concave)
Iteration 128: log likelihood = -56655.116  (not concave)
Iteration 129: log likelihood = -56655.116  (not concave)
Iteration 130: log likelihood = -56655.116  (not concave)
Iteration 131: log likelihood = -56655.116  (not concave)
Iteration 132: log likelihood = -56655.116  (not concave)
Iteration 133: log likelihood = -56655.116  (not concave)
Iteration 134: log likelihood = -56655.116  (not concave)
Iteration 135: log likelihood = -56655.116  (not concave)
Iteration 136: log likelihood = -56655.116  (not concave)
Iteration 137: log likelihood = -56655.116  (not concave)
Iteration 138: log likelihood = -56655.116  (not concave)
Iteration 139: log likelihood = -56655.116  (not concave)
Iteration 140: log likelihood = -56655.116  (not concave)
Iteration 141: log likelihood = -56655.116  (not concave)
Iteration 142: log likelihood = -56655.116  (not concave)
Iteration 143: log likelihood = -56655.116  (not concave)
Iteration 144: log likelihood = -56655.116  (not concave)
Iteration 145: log likelihood = -56655.116  (not concave)
Iteration 146: log likelihood = -56655.116  (not concave)
Iteration 147: log likelihood = -56655.116  (not concave)
Iteration 148: log likelihood = -56655.116  (not concave)
Iteration 149: log likelihood = -56655.116  (not concave)
Iteration 150: log likelihood = -56655.116  (not concave)
Iteration 151: log likelihood = -56655.116  (not concave)
Iteration 152: log likelihood = -56655.116  (not concave)
Iteration 153: log likelihood = -56655.116  (not concave)
Iteration 154: log likelihood = -56655.116  (not concave)
Iteration 155: log likelihood = -56655.116  (not concave)
Iteration 156: log likelihood = -56655.116  (not concave)
Iteration 157: log likelihood = -56655.116  (not concave)
Iteration 158: log likelihood = -56655.116  (not concave)
Iteration 159: log likelihood = -56655.116  (not concave)
Iteration 160: log likelihood = -56655.116  (not concave)
Iteration 161: log likelihood = -56655.116  (not concave)
Iteration 162: log likelihood = -56655.116  (not concave)
Iteration 163: log likelihood = -56655.116  (not concave)
Iteration 164: log likelihood = -56655.116  (not concave)
Iteration 165: log likelihood = -56655.116  (not concave)
Iteration 166: log likelihood = -56655.116  (not concave)
Iteration 167: log likelihood = -56655.116  (not concave)
Iteration 168: log likelihood = -56655.116  (not concave)
Iteration 169: log likelihood = -56655.116  (not concave)
Iteration 170: log likelihood = -56655.116  (not concave)
Iteration 171: log likelihood = -56655.116  (not concave)
Iteration 172: log likelihood = -56655.116  (not concave)
Iteration 173: log likelihood = -56655.116  (not concave)
Iteration 174: log likelihood = -56655.116  (not concave)
Iteration 175: log likelihood = -56655.116  (not concave)
Iteration 176: log likelihood = -56655.116  (not concave)
Iteration 177: log likelihood = -56655.116  (not concave)
Iteration 178: log likelihood = -56655.116  (not concave)
Iteration 179: log likelihood = -56655.116  (not concave)
Iteration 180: log likelihood = -56655.116  (not concave)
Iteration 181: log likelihood = -56655.116  (not concave)
Iteration 182: log likelihood = -56655.116  (not concave)
Iteration 183: log likelihood = -56655.116  (not concave)
Iteration 184: log likelihood = -56655.116  (not concave)
Iteration 185: log likelihood = -56655.116  (not concave)
Iteration 186: log likelihood = -56655.116  (not concave)
Iteration 187: log likelihood = -56655.116  (not concave)
Iteration 188: log likelihood = -56655.116  (not concave)
Iteration 189: log likelihood = -56655.116  (not concave)
Iteration 190: log likelihood = -56655.116  (not concave)
Iteration 191: log likelihood = -56655.116  (not concave)
Iteration 192: log likelihood = -56655.116  (not concave)
Iteration 193: log likelihood = -56655.116  (not concave)
Iteration 194: log likelihood = -56655.116  (not concave)
Iteration 195: log likelihood = -56655.116  (not concave)
Iteration 196: log likelihood = -56655.116  (not concave)
Iteration 197: log likelihood = -56655.116  (not concave)
Iteration 198: log likelihood = -56655.116  (not concave)
Iteration 199: log likelihood = -56655.116  (not concave)
Iteration 200: log likelihood = -56655.116  (not concave)
Iteration 201: log likelihood = -56655.116  (not concave)
Iteration 202: log likelihood = -56655.116  (not concave)
Iteration 203: log likelihood = -56655.116  (not concave)
Iteration 204: log likelihood = -56655.116  (not concave)
Iteration 205: log likelihood = -56655.116  (not concave)
Iteration 206: log likelihood = -56655.116  (not concave)
Iteration 207: log likelihood = -56655.116  (not concave)
Iteration 208: log likelihood = -56655.116  (not concave)
Iteration 209: log likelihood = -56655.116  (not concave)
Iteration 210: log likelihood = -56655.116  (not concave)
Iteration 211: log likelihood = -56655.116  (not concave)
Iteration 212: log likelihood = -56655.116  (not concave)
Iteration 213: log likelihood = -56655.116  (not concave)
Iteration 214: log likelihood = -56655.116  (not concave)
Iteration 215: log likelihood = -56655.116  (not concave)
Iteration 216: log likelihood = -56655.116  (not concave)
Iteration 217: log likelihood = -56655.116  (not concave)
Iteration 218: log likelihood = -56655.116  (not concave)
Iteration 219: log likelihood = -56655.116  (not concave)
Iteration 220: log likelihood = -56655.116  (not concave)
Iteration 221: log likelihood = -56655.116  (not concave)
Iteration 222: log likelihood = -56655.116  (not concave)
Iteration 223: log likelihood = -56655.116  (not concave)
Iteration 224: log likelihood = -56655.116  (not concave)
Iteration 225: log likelihood = -56655.116  (not concave)
Iteration 226: log likelihood = -56655.116  (not concave)
Iteration 227: log likelihood = -56655.116  (not concave)
Iteration 228: log likelihood = -56655.116  (not concave)
Iteration 229: log likelihood = -56655.116  (not concave)
Iteration 230: log likelihood = -56655.116  (not concave)
Iteration 231: log likelihood = -56655.116  (not concave)
Iteration 232: log likelihood = -56655.116  (not concave)
Iteration 233: log likelihood = -56655.116  (not concave)
Iteration 234: log likelihood = -56655.116  (not concave)
Iteration 235: log likelihood = -56655.116  (not concave)
Iteration 236: log likelihood = -56655.116  (not concave)
Iteration 237: log likelihood = -56655.116  (not concave)
Iteration 238: log likelihood = -56655.116  (not concave)
Iteration 239: log likelihood = -56655.116  (not concave)
Iteration 240: log likelihood = -56655.116  (not concave)
Iteration 241: log likelihood = -56655.116  (not concave)
Iteration 242: log likelihood = -56655.116  (not concave)
Iteration 243: log likelihood = -56655.116  (not concave)
Iteration 244: log likelihood = -56655.116  (not concave)
Iteration 245: log likelihood = -56655.116  (not concave)
Iteration 246: log likelihood = -56655.116  (not concave)
Iteration 247: log likelihood = -56655.116  (not concave)
Iteration 248: log likelihood = -56655.116  (not concave)
Iteration 249: log likelihood = -56655.116  (not concave)
Iteration 250: log likelihood = -56655.116  (not concave)
Iteration 251: log likelihood = -56655.116  (not concave)
Iteration 252: log likelihood = -56655.116  (not concave)
Iteration 253: log likelihood = -56655.116  (not concave)
Iteration 254: log likelihood = -56655.116  (not concave)
Iteration 255: log likelihood = -56655.116  (not concave)
Iteration 256: log likelihood = -56655.116  (not concave)
Iteration 257: log likelihood = -56655.116  (not concave)
Iteration 258: log likelihood = -56655.116  (not concave)
Iteration 259: log likelihood = -56655.116  (not concave)
Iteration 260: log likelihood = -56655.116  (not concave)
Iteration 261: log likelihood = -56655.116  (not concave)
Iteration 262: log likelihood = -56655.116  (not concave)
Iteration 263: log likelihood = -56655.116  (not concave)
Iteration 264: log likelihood = -56655.116  (not concave)
Iteration 265: log likelihood = -56655.116  (not concave)
Iteration 266: log likelihood = -56655.116  (not concave)
Iteration 267: log likelihood = -56655.116  (not concave)
Iteration 268: log likelihood = -56655.116  (not concave)
Iteration 269: log likelihood = -56655.116  (not concave)
Iteration 270: log likelihood = -56655.116  (not concave)
Iteration 271: log likelihood = -56655.116  (not concave)
Iteration 272: log likelihood = -56655.116  (not concave)
Iteration 273: log likelihood = -56655.116  (not concave)
Iteration 274: log likelihood = -56655.116  (not concave)
Iteration 275: log likelihood = -56655.116  (not concave)
Iteration 276: log likelihood = -56655.116  (not concave)
Iteration 277: log likelihood = -56655.116  (not concave)
Iteration 278: log likelihood = -56655.116  (not concave)
Iteration 279: log likelihood = -56655.116  (not concave)
Iteration 280: log likelihood = -56655.116  (not concave)
Iteration 281: log likelihood = -56655.116  (not concave)
Iteration 282: log likelihood = -56655.116  (not concave)
Iteration 283: log likelihood = -56655.116  (not concave)
Iteration 284: log likelihood = -56655.116  (not concave)
Iteration 285: log likelihood = -56655.116  (not concave)
Iteration 286: log likelihood = -56655.116  (not concave)
Iteration 287: log likelihood = -56655.116  (not concave)
Iteration 288: log likelihood = -56655.116  (not concave)
Iteration 289: log likelihood = -56655.116  (not concave)
Iteration 290: log likelihood = -56655.116  (not concave)
Iteration 291: log likelihood = -56655.116  (not concave)
Iteration 292: log likelihood = -56655.116  (not concave)
Iteration 293: log likelihood = -56655.116  (not concave)
Iteration 294: log likelihood = -56655.116  (not concave)
Iteration 295: log likelihood = -56655.116  (not concave)
Iteration 296: log likelihood = -56655.116  (not concave)
Iteration 297: log likelihood = -56655.116  (not concave)
Iteration 298: log likelihood = -56655.116  (not concave)
Iteration 299: log likelihood = -56655.116  (not concave)
Iteration 300: log likelihood = -56655.116  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     61,141
Log likelihood = -56655.116
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |  -.0575644   .0001009  -570.31   0.000    -.0577622   -.0573666
edad_al_in~t |   .0227683   1.91e-06  1.2e+04   0.000     .0227646     .022772
edad_ini_c~s |   .0415979   3.10e-06  1.3e+04   0.000     .0415918     .041604
     sex_enc |   .3754547          .        .       .            .           .
     esc_rec |   .0379857   .0000296  1282.29   0.000     .0379277    .0380438
sus_prin_mod |  -.1948399   .0000291 -6704.32   0.000    -.1948969    -.194783
 fr_sus_prin |  -.0310263   .0000179 -1733.53   0.000    -.0310614   -.0309913
 comp_biosoc |   .0026036   .0000939    27.74   0.000     .0024196    .0027876
     ten_viv |   .0318364   .0000534   596.57   0.000     .0317318    .0319409
dg_cie_10_~c |   .0308837   .0000837   369.06   0.000     .0307196    .0310477
sud_sever~10 |   .2186509          .        .       .            .           .
   macrozone |  -.0779406          .        .       .            .           .
 policonsumo |  -.6345693          .        .       .            .           .
   n_off_vio |  -1.328413   .0000573 -2.3e+04   0.000    -1.328525     -1.3283
   n_off_acq |  -1.320305          .        .       .            .           .
   n_off_sud |  -.7419777          .        .       .            .           .
   n_off_oth |  -1.237428          .        .       .            .           .
       _cons |   .3077593          .        .       .            .           .
       dap:1 |  -.0534004   .0000414 -1290.53   0.000    -.0534815   -.0533193
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(lognormal, fail(_status)))
.         estimates store m2_1_logn

.         
.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Ggam}&quot;
 family Ggam

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(ggamma)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -65438.087  (not concave)
Iteration 1:   log likelihood = -60299.423  (not concave)
Iteration 2:   log likelihood = -56790.545  (not concave)
Iteration 3:   log likelihood =     -56737  (not concave)
Iteration 4:   log likelihood =   -56684.2  (not concave)
Iteration 5:   log likelihood = -56677.817  (not concave)
Iteration 6:   log likelihood = -56677.803  (not concave)
Iteration 7:   log likelihood =   -56677.8  (not concave)
Iteration 8:   log likelihood = -56597.983  (not concave)
Iteration 9:   log likelihood = -56581.456  (not concave)
Iteration 10:  log likelihood = -56575.328  (not concave)
Iteration 11:  log likelihood =  -56575.28  (not concave)
Iteration 12:  log likelihood =  -56575.26  (not concave)
Iteration 13:  log likelihood = -56575.259  (not concave)
Iteration 14:  log likelihood = -56575.258  (not concave)
Iteration 15:  log likelihood = -56575.258  (not concave)
Iteration 16:  log likelihood = -56575.258  (not concave)
Iteration 17:  log likelihood = -56575.258  (not concave)
Iteration 18:  log likelihood = -56575.258  (not concave)
Iteration 19:  log likelihood = -56575.258  (not concave)
Iteration 20:  log likelihood = -56575.258  (not concave)
Iteration 21:  log likelihood = -56575.258  (not concave)
Iteration 22:  log likelihood = -56575.258  (not concave)
Iteration 23:  log likelihood = -56575.258  (not concave)
Iteration 24:  log likelihood = -56575.258  (not concave)
Iteration 25:  log likelihood = -56575.258  (not concave)
Iteration 26:  log likelihood = -56575.258  (not concave)
Iteration 27:  log likelihood = -56575.258  (not concave)
Iteration 28:  log likelihood = -56575.258  (not concave)
Iteration 29:  log likelihood = -56575.258  (not concave)
Iteration 30:  log likelihood = -56575.258  (not concave)
Iteration 31:  log likelihood = -56575.258  (not concave)
Iteration 32:  log likelihood = -56575.258  (not concave)
Iteration 33:  log likelihood = -56575.258  (not concave)
Iteration 34:  log likelihood = -56575.258  (not concave)
Iteration 35:  log likelihood = -56575.258  (not concave)
Iteration 36:  log likelihood = -56575.258  (not concave)
Iteration 37:  log likelihood = -56575.258  (not concave)
Iteration 38:  log likelihood = -56575.258  (not concave)
Iteration 39:  log likelihood = -56575.258  (not concave)
Iteration 40:  log likelihood = -56575.258  (not concave)
Iteration 41:  log likelihood = -56575.258  (not concave)
Iteration 42:  log likelihood = -56575.258  (not concave)
Iteration 43:  log likelihood = -56575.258  (not concave)
Iteration 44:  log likelihood = -56575.258  (not concave)
Iteration 45:  log likelihood = -56575.258  (not concave)
Iteration 46:  log likelihood = -56575.258  (not concave)
Iteration 47:  log likelihood = -56575.258  (not concave)
Iteration 48:  log likelihood = -56575.258  (not concave)
Iteration 49:  log likelihood = -56575.258  (not concave)
Iteration 50:  log likelihood = -56575.258  (not concave)
Iteration 51:  log likelihood = -56575.258  (not concave)
Iteration 52:  log likelihood = -56575.258  (not concave)
Iteration 53:  log likelihood = -56575.258  (not concave)
Iteration 54:  log likelihood = -56575.258  (not concave)
Iteration 55:  log likelihood = -56575.258  (not concave)
Iteration 56:  log likelihood = -56575.258  (not concave)
Iteration 57:  log likelihood = -56575.258  (not concave)
Iteration 58:  log likelihood = -56575.258  (not concave)
Iteration 59:  log likelihood = -56575.258  (not concave)
Iteration 60:  log likelihood = -56575.258  (not concave)
Iteration 61:  log likelihood = -56575.258  (not concave)
Iteration 62:  log likelihood = -56575.258  (not concave)
Iteration 63:  log likelihood = -56575.258  (not concave)
Iteration 64:  log likelihood = -56575.258  (not concave)
Iteration 65:  log likelihood = -56575.258  (not concave)
Iteration 66:  log likelihood = -56575.258  (not concave)
Iteration 67:  log likelihood = -56575.258  (not concave)
Iteration 68:  log likelihood = -56575.258  (not concave)
Iteration 69:  log likelihood = -56575.258  (not concave)
Iteration 70:  log likelihood = -56575.258  (not concave)
Iteration 71:  log likelihood = -56575.258  (not concave)
Iteration 72:  log likelihood = -56575.258  (not concave)
Iteration 73:  log likelihood = -56575.258  (not concave)
Iteration 74:  log likelihood = -56575.258  (not concave)
Iteration 75:  log likelihood = -56575.258  (not concave)
Iteration 76:  log likelihood = -56575.258  (not concave)
Iteration 77:  log likelihood = -56575.258  (not concave)
Iteration 78:  log likelihood = -56575.258  (not concave)
Iteration 79:  log likelihood = -56575.258  (not concave)
Iteration 80:  log likelihood = -56575.258  (not concave)
Iteration 81:  log likelihood = -56575.258  (not concave)
Iteration 82:  log likelihood = -56575.258  (not concave)
Iteration 83:  log likelihood = -56575.258  (not concave)
Iteration 84:  log likelihood = -56575.258  (not concave)
Iteration 85:  log likelihood = -56575.258  (not concave)
Iteration 86:  log likelihood = -56575.258  (not concave)
Iteration 87:  log likelihood = -56575.258  (not concave)
Iteration 88:  log likelihood = -56575.258  (not concave)
Iteration 89:  log likelihood = -56575.258  (not concave)
Iteration 90:  log likelihood = -56575.258  (not concave)
Iteration 91:  log likelihood = -56575.258  (not concave)
Iteration 92:  log likelihood = -56575.258  (not concave)
Iteration 93:  log likelihood = -56575.258  (not concave)
Iteration 94:  log likelihood = -56575.258  (not concave)
Iteration 95:  log likelihood = -56575.258  (not concave)
Iteration 96:  log likelihood = -56575.258  (not concave)
Iteration 97:  log likelihood = -56575.258  (not concave)
Iteration 98:  log likelihood = -56575.258  (not concave)
Iteration 99:  log likelihood = -56575.258  (not concave)
Iteration 100: log likelihood = -56575.258  (not concave)
Iteration 101: log likelihood = -56575.258  (not concave)
Iteration 102: log likelihood = -56575.258  (not concave)
Iteration 103: log likelihood = -56575.258  (not concave)
Iteration 104: log likelihood = -56575.258  (not concave)
Iteration 105: log likelihood = -56575.258  (not concave)
Iteration 106: log likelihood = -56575.258  (not concave)
Iteration 107: log likelihood = -56575.258  (not concave)
Iteration 108: log likelihood = -56575.258  (not concave)
Iteration 109: log likelihood = -56575.258  (not concave)
Iteration 110: log likelihood = -56575.258  (not concave)
Iteration 111: log likelihood = -56575.258  (not concave)
Iteration 112: log likelihood = -56575.258  (not concave)
Iteration 113: log likelihood = -56575.258  (not concave)
Iteration 114: log likelihood = -56575.258  (not concave)
Iteration 115: log likelihood = -56575.258  (not concave)
Iteration 116: log likelihood = -56575.258  (not concave)
Iteration 117: log likelihood = -56575.258  (not concave)
Iteration 118: log likelihood = -56575.258  (not concave)
Iteration 119: log likelihood = -56575.258  (not concave)
Iteration 120: log likelihood = -56575.258  (not concave)
Iteration 121: log likelihood = -56575.258  (not concave)
Iteration 122: log likelihood = -56575.258  (not concave)
Iteration 123: log likelihood = -56575.258  (not concave)
Iteration 124: log likelihood = -56575.258  (not concave)
Iteration 125: log likelihood = -56575.258  (not concave)
Iteration 126: log likelihood = -56575.258  (not concave)
Iteration 127: log likelihood = -56575.258  (not concave)
Iteration 128: log likelihood = -56575.258  (not concave)
Iteration 129: log likelihood = -56575.258  (not concave)
Iteration 130: log likelihood = -56575.258  (not concave)
Iteration 131: log likelihood = -56575.258  (not concave)
Iteration 132: log likelihood = -56575.258  (not concave)
Iteration 133: log likelihood = -56575.258  (not concave)
Iteration 134: log likelihood = -56575.258  (not concave)
Iteration 135: log likelihood = -56575.258  (not concave)
Iteration 136: log likelihood = -56575.258  (not concave)
Iteration 137: log likelihood = -56575.258  (not concave)
Iteration 138: log likelihood = -56575.258  (not concave)
Iteration 139: log likelihood = -56575.258  (not concave)
Iteration 140: log likelihood = -56575.258  (not concave)
Iteration 141: log likelihood = -56575.258  (not concave)
Iteration 142: log likelihood = -56575.258  (not concave)
Iteration 143: log likelihood = -56575.258  (not concave)
Iteration 144: log likelihood = -56575.258  (not concave)
Iteration 145: log likelihood = -56575.258  (not concave)
Iteration 146: log likelihood = -56575.258  (not concave)
Iteration 147: log likelihood = -56575.258  (not concave)
Iteration 148: log likelihood = -56575.258  (not concave)
Iteration 149: log likelihood = -56575.258  (not concave)
Iteration 150: log likelihood = -56575.258  (not concave)
Iteration 151: log likelihood = -56575.258  (not concave)
Iteration 152: log likelihood = -56575.258  (not concave)
Iteration 153: log likelihood = -56575.258  (not concave)
Iteration 154: log likelihood = -56575.258  (not concave)
Iteration 155: log likelihood = -56575.258  (not concave)
Iteration 156: log likelihood = -56575.258  (not concave)
Iteration 157: log likelihood = -56575.258  (not concave)
Iteration 158: log likelihood = -56575.258  (not concave)
Iteration 159: log likelihood = -56575.258  (not concave)
Iteration 160: log likelihood = -56575.258  (not concave)
Iteration 161: log likelihood = -56575.258  (not concave)
Iteration 162: log likelihood = -56575.258  (not concave)
Iteration 163: log likelihood = -56575.258  (not concave)
Iteration 164: log likelihood = -56575.258  (not concave)
Iteration 165: log likelihood = -56575.258  (not concave)
Iteration 166: log likelihood = -56575.258  (not concave)
Iteration 167: log likelihood = -56575.258  (not concave)
Iteration 168: log likelihood = -56575.258  (not concave)
Iteration 169: log likelihood = -56575.258  (not concave)
Iteration 170: log likelihood = -56575.258  (not concave)
Iteration 171: log likelihood = -56575.258  (not concave)
Iteration 172: log likelihood = -56575.258  (not concave)
Iteration 173: log likelihood = -56575.258  (not concave)
Iteration 174: log likelihood = -56575.258  (not concave)
Iteration 175: log likelihood = -56575.258  (not concave)
Iteration 176: log likelihood = -56575.258  (not concave)
Iteration 177: log likelihood = -56575.258  (not concave)
Iteration 178: log likelihood = -56575.258  (not concave)
Iteration 179: log likelihood = -56575.258  (not concave)
Iteration 180: log likelihood = -56575.258  (not concave)
Iteration 181: log likelihood = -56575.258  (not concave)
Iteration 182: log likelihood = -56575.258  (not concave)
Iteration 183: log likelihood = -56575.258  (not concave)
Iteration 184: log likelihood = -56575.258  (not concave)
Iteration 185: log likelihood = -56575.258  (not concave)
Iteration 186: log likelihood = -56575.258  (not concave)
Iteration 187: log likelihood = -56575.258  (not concave)
Iteration 188: log likelihood = -56575.258  (not concave)
Iteration 189: log likelihood = -56575.258  (not concave)
Iteration 190: log likelihood = -56575.258  (not concave)
Iteration 191: log likelihood = -56575.258  (not concave)
Iteration 192: log likelihood = -56575.258  (not concave)
Iteration 193: log likelihood = -56575.258  (not concave)
Iteration 194: log likelihood = -56575.258  (not concave)
Iteration 195: log likelihood = -56575.258  (not concave)
Iteration 196: log likelihood = -56575.258  (not concave)
Iteration 197: log likelihood = -56575.258  (not concave)
Iteration 198: log likelihood = -56575.258  (not concave)
Iteration 199: log likelihood = -56575.258  (not concave)
Iteration 200: log likelihood = -56575.258  (not concave)
Iteration 201: log likelihood = -56575.258  (not concave)
Iteration 202: log likelihood = -56575.258  (not concave)
Iteration 203: log likelihood = -56575.258  (not concave)
Iteration 204: log likelihood = -56575.258  (not concave)
Iteration 205: log likelihood = -56575.258  (not concave)
Iteration 206: log likelihood = -56575.258  (not concave)
Iteration 207: log likelihood = -56575.258  (not concave)
Iteration 208: log likelihood = -56575.258  (not concave)
Iteration 209: log likelihood = -56575.258  (not concave)
Iteration 210: log likelihood = -56575.258  (not concave)
Iteration 211: log likelihood = -56575.258  (not concave)
Iteration 212: log likelihood = -56575.258  (not concave)
Iteration 213: log likelihood = -56575.258  (not concave)
Iteration 214: log likelihood = -56575.258  (not concave)
Iteration 215: log likelihood = -56575.258  (not concave)
Iteration 216: log likelihood = -56575.258  (not concave)
Iteration 217: log likelihood = -56575.258  (not concave)
Iteration 218: log likelihood = -56575.258  (not concave)
Iteration 219: log likelihood = -56575.258  (not concave)
Iteration 220: log likelihood = -56575.258  (not concave)
Iteration 221: log likelihood = -56575.258  (not concave)
Iteration 222: log likelihood = -56575.258  (not concave)
Iteration 223: log likelihood = -56575.258  (not concave)
Iteration 224: log likelihood = -56575.258  (not concave)
Iteration 225: log likelihood = -56575.258  (not concave)
Iteration 226: log likelihood = -56575.258  (not concave)
Iteration 227: log likelihood = -56575.258  (not concave)
Iteration 228: log likelihood = -56575.258  (not concave)
Iteration 229: log likelihood = -56575.258  (not concave)
Iteration 230: log likelihood = -56575.258  (not concave)
Iteration 231: log likelihood = -56575.258  (not concave)
Iteration 232: log likelihood = -56575.258  (not concave)
Iteration 233: log likelihood = -56575.258  (not concave)
Iteration 234: log likelihood = -56575.258  (not concave)
Iteration 235: log likelihood = -56575.258  (not concave)
Iteration 236: log likelihood = -56575.258  (not concave)
Iteration 237: log likelihood = -56575.258  (not concave)
Iteration 238: log likelihood = -56575.258  (not concave)
Iteration 239: log likelihood = -56575.258  (not concave)
Iteration 240: log likelihood = -56575.258  (not concave)
Iteration 241: log likelihood = -56575.258  (not concave)
Iteration 242: log likelihood = -56575.258  (not concave)
Iteration 243: log likelihood = -56575.258  (not concave)
Iteration 244: log likelihood = -56575.258  (not concave)
Iteration 245: log likelihood = -56575.258  (not concave)
Iteration 246: log likelihood = -56575.258  (not concave)
Iteration 247: log likelihood = -56575.258  (not concave)
Iteration 248: log likelihood = -56575.258  (not concave)
Iteration 249: log likelihood = -56575.258  (not concave)
Iteration 250: log likelihood = -56575.258  (not concave)
Iteration 251: log likelihood = -56575.258  (not concave)
Iteration 252: log likelihood = -56575.258  (not concave)
Iteration 253: log likelihood = -56575.258  (not concave)
Iteration 254: log likelihood = -56575.258  (not concave)
Iteration 255: log likelihood = -56575.258  (not concave)
Iteration 256: log likelihood = -56575.258  (not concave)
Iteration 257: log likelihood = -56575.258  (not concave)
Iteration 258: log likelihood = -56575.258  (not concave)
Iteration 259: log likelihood = -56575.258  (not concave)
Iteration 260: log likelihood = -56575.258  (not concave)
Iteration 261: log likelihood = -56575.258  (not concave)
Iteration 262: log likelihood = -56575.258  (not concave)
Iteration 263: log likelihood = -56575.258  (not concave)
Iteration 264: log likelihood = -56575.258  (not concave)
Iteration 265: log likelihood = -56575.258  (not concave)
Iteration 266: log likelihood = -56575.258  (not concave)
Iteration 267: log likelihood = -56575.258  (not concave)
Iteration 268: log likelihood = -56575.258  (not concave)
Iteration 269: log likelihood = -56575.258  (not concave)
Iteration 270: log likelihood = -56575.258  (not concave)
Iteration 271: log likelihood = -56575.258  (not concave)
Iteration 272: log likelihood = -56575.258  (not concave)
Iteration 273: log likelihood = -56575.258  (not concave)
Iteration 274: log likelihood = -56575.258  (not concave)
Iteration 275: log likelihood = -56575.258  (not concave)
Iteration 276: log likelihood = -56575.258  (not concave)
Iteration 277: log likelihood = -56575.258  (not concave)
Iteration 278: log likelihood = -56575.258  (not concave)
Iteration 279: log likelihood = -56575.258  (not concave)
Iteration 280: log likelihood = -56575.258  (not concave)
Iteration 281: log likelihood = -56575.258  (not concave)
Iteration 282: log likelihood = -56575.258  (not concave)
Iteration 283: log likelihood = -56575.258  (not concave)
Iteration 284: log likelihood = -56575.258  (not concave)
Iteration 285: log likelihood = -56575.258  (not concave)
Iteration 286: log likelihood = -56575.258  (not concave)
Iteration 287: log likelihood = -56575.258  (not concave)
Iteration 288: log likelihood = -56575.258  (not concave)
Iteration 289: log likelihood = -56575.258  (not concave)
Iteration 290: log likelihood = -56575.258  (not concave)
Iteration 291: log likelihood = -56575.258  (not concave)
Iteration 292: log likelihood = -56575.258  (not concave)
Iteration 293: log likelihood = -56575.258  (not concave)
Iteration 294: log likelihood = -56575.258  (not concave)
Iteration 295: log likelihood = -56575.258  (not concave)
Iteration 296: log likelihood = -56575.258  (not concave)
Iteration 297: log likelihood = -56575.258  (not concave)
Iteration 298: log likelihood = -56575.258  (not concave)
Iteration 299: log likelihood = -56575.258  (not concave)
Iteration 300: log likelihood = -56575.258  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     61,141
Log likelihood = -56575.258
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |  -.0957883          .        .       .            .           .
edad_al_in~t |   .0073613   4.55e-06  1617.76   0.000     .0073524    .0073702
edad_ini_c~s |    .008319   .0000235   353.48   0.000     .0082729    .0083651
     sex_enc |   .3230755          .        .       .            .           .
     esc_rec |    -.09904          .        .       .            .           .
sus_prin_mod |  -.1023146          .        .       .            .           .
 fr_sus_prin |  -.0194115   .0000216  -899.51   0.000    -.0194538   -.0193692
 comp_biosoc |  -.0674706    .000033 -2043.19   0.000    -.0675353   -.0674058
     ten_viv |  -.0004391          .        .       .            .           .
dg_cie_10_~c |  -.0306602   .0001007  -304.51   0.000    -.0308575   -.0304628
sud_sever~10 |   .0607883          .        .       .            .           .
   macrozone |  -.1036001   .0000417 -2485.96   0.000    -.1036818   -.1035184
 policonsumo |  -.1746929          .        .       .            .           .
   n_off_vio |  -.6405414   .0001045 -6128.67   0.000    -.6407463   -.6403366
   n_off_acq |  -1.266554          .        .       .            .           .
   n_off_sud |  -.5552113          .        .       .            .           .
   n_off_oth |  -.7102406          .        .       .            .           .
       _cons |    .007678          .        .       .            .           .
  log(sigma) |   .9290414   9.23e-06  1.0e+05   0.000     .9290233    .9290595
       kappa |   1.340526          .        .       .            .           .
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(ggamma, fail(_status)))
.         estimates store m2_1_ggam

. 
.         // Royston Parmar models
.         forvalues j=1/10 {
  2.                 di in yellow &quot;{bf: ***********}&quot;
  3.                 di in yellow &quot;{bf: family RP`j'}&quot;
  4.                 di in yellow &quot;{bf: ***********}&quot;
  5.                 set seed 2125
  6.                 qui cap noi stmerlin $covs_2, dist(rp) df(`j')
  7.                 //qui cap noi merlin (_time $covs if _trans == 1, family(rp, df(`j') fail(_status)))
.                 estimates store m2_1_rp`j'
  8.                 *estimates save &quot;${pathdata2}parmodels.ster&quot;, append    
.         }       
 ***********
 family RP1
 ***********
note; a delayed entry model is being fitted
variables created: _rcs1_1 to _rcs1_1

Fitting full model:

Iteration 0:   log likelihood = -71417.328  (not concave)
Iteration 1:   log likelihood = -62671.177  (not concave)
Iteration 2:   log likelihood = -58621.657  
Iteration 3:   log likelihood = -56732.528  (not concave)
Iteration 4:   log likelihood = -56299.736  (not concave)
Iteration 5:   log likelihood = -56247.538  
Iteration 6:   log likelihood = -56124.641  
Iteration 7:   log likelihood = -55988.186  
Iteration 8:   log likelihood = -55949.485  
Iteration 9:   log likelihood =  -55887.01  
Iteration 10:  log likelihood = -55884.214  
Iteration 11:  log likelihood = -55865.004  (not concave)
Iteration 12:  log likelihood = -55864.944  
Iteration 13:  log likelihood = -55861.327  
Iteration 14:  log likelihood = -55849.016  
Iteration 15:  log likelihood = -55841.721  (not concave)
Iteration 16:  log likelihood = -55841.636  
Iteration 17:  log likelihood = -55840.124  
Iteration 18:  log likelihood = -55839.917  
Iteration 19:  log likelihood = -55836.153  (not concave)
Iteration 20:  log likelihood = -55836.135  
Iteration 21:  log likelihood = -55835.253  
Iteration 22:  log likelihood =  -55832.67  
Iteration 23:  log likelihood = -55830.759  
Iteration 24:  log likelihood = -55829.542  
Iteration 25:  log likelihood = -55827.835  (not concave)
Iteration 26:  log likelihood = -55827.802  
Iteration 27:  log likelihood = -55827.529  
Iteration 28:  log likelihood = -55826.838  
Iteration 29:  log likelihood =  -55826.44  
Iteration 30:  log likelihood =  -55826.21  
Iteration 31:  log likelihood = -55825.885  
Iteration 32:  log likelihood =  -55825.58  
Iteration 33:  log likelihood = -55825.414  
Iteration 34:  log likelihood =  -55825.19  
Iteration 35:  log likelihood = -55824.989  
Iteration 36:  log likelihood = -55824.838  
Iteration 37:  log likelihood = -55824.595  
Iteration 38:  log likelihood = -55824.536  
Iteration 39:  log likelihood = -55824.435  
Iteration 40:  log likelihood = -55824.349  
Iteration 41:  log likelihood = -55824.241  
Iteration 42:  log likelihood =  -55824.17  
Iteration 43:  log likelihood = -55824.082  
Iteration 44:  log likelihood = -55824.023  
Iteration 45:  log likelihood = -55823.949  
Iteration 46:  log likelihood =   -55823.9  
Iteration 47:  log likelihood = -55823.838  
Iteration 48:  log likelihood = -55823.799  
Iteration 49:  log likelihood = -55823.731  
Iteration 50:  log likelihood = -55823.682  
Iteration 51:  log likelihood = -55823.665  
Iteration 52:  log likelihood = -55823.579  (not concave)
Iteration 53:  log likelihood = -55823.579  
Iteration 54:  log likelihood = -55823.565  
Iteration 55:  log likelihood = -55823.553  
Iteration 56:  log likelihood =  -55823.49  (not concave)
Iteration 57:  log likelihood = -55823.487  (not concave)
Iteration 58:  log likelihood = -55823.486  
Iteration 59:  log likelihood =  -55823.48  
Iteration 60:  log likelihood = -55823.453  (not concave)
Iteration 61:  log likelihood = -55823.449  (not concave)
Iteration 62:  log likelihood = -55823.449  
Iteration 63:  log likelihood = -55823.439  
Iteration 64:  log likelihood = -55823.417  
Iteration 65:  log likelihood = -55823.398  
Iteration 66:  log likelihood = -55823.375  
Iteration 67:  log likelihood = -55823.347  
Iteration 68:  log likelihood = -55823.329  (not concave)
Iteration 69:  log likelihood = -55823.329  
Iteration 70:  log likelihood = -55823.326  
Iteration 71:  log likelihood =  -55823.31  (not concave)
Iteration 72:  log likelihood =  -55823.31  
Iteration 73:  log likelihood = -55823.304  
Iteration 74:  log likelihood = -55823.298  
Iteration 75:  log likelihood = -55823.271  
Iteration 76:  log likelihood = -55823.266  
Iteration 77:  log likelihood = -55823.257  
Iteration 78:  log likelihood = -55823.251  
Iteration 79:  log likelihood = -55823.242  
Iteration 80:  log likelihood = -55823.228  
Iteration 81:  log likelihood = -55823.225  
Iteration 82:  log likelihood = -55823.216  
Iteration 83:  log likelihood = -55823.212  
Iteration 84:  log likelihood = -55823.196  
Iteration 85:  log likelihood = -55823.192  
Iteration 86:  log likelihood = -55823.186  
Iteration 87:  log likelihood = -55823.181  
Iteration 88:  log likelihood = -55823.176  
Iteration 89:  log likelihood = -55823.171  
Iteration 90:  log likelihood = -55823.163  
Iteration 91:  log likelihood = -55823.161  
Iteration 92:  log likelihood = -55823.154  
Iteration 93:  log likelihood = -55823.152  
Iteration 94:  log likelihood = -55823.148  
Iteration 95:  log likelihood = -55823.142  
Iteration 96:  log likelihood = -55823.139  
Iteration 97:  log likelihood = -55823.135  
Iteration 98:  log likelihood = -55823.132  
Iteration 99:  log likelihood = -55823.128  
Iteration 100: log likelihood = -55823.123  
Iteration 101: log likelihood = -55823.122  
Iteration 102: log likelihood = -55823.117  
Iteration 103: log likelihood = -55823.116  
Iteration 104: log likelihood =  -55823.11  
Iteration 105: log likelihood = -55823.109  
Iteration 106: log likelihood = -55823.106  
Iteration 107: log likelihood = -55823.102  
Iteration 108: log likelihood = -55823.101  
Iteration 109: log likelihood = -55823.098  
Iteration 110: log likelihood = -55823.097  
Iteration 111: log likelihood = -55823.094  
Iteration 112: log likelihood = -55823.092  (not concave)
Iteration 113: log likelihood = -55823.092  
Iteration 114: log likelihood = -55823.091  
Iteration 115: log likelihood =  -55823.09  
Iteration 116: log likelihood = -55823.088  
Iteration 117: log likelihood = -55823.086  
Iteration 118: log likelihood = -55823.084  
Iteration 119: log likelihood = -55823.081  
Iteration 120: log likelihood =  -55823.08  
Iteration 121: log likelihood = -55823.078  
Iteration 122: log likelihood = -55823.075  (not concave)
Iteration 123: log likelihood = -55823.075  (backed up)
Iteration 124: log likelihood = -55823.075  
Iteration 125: log likelihood = -55823.073  (not concave)
Iteration 126: log likelihood = -55823.073  
Iteration 127: log likelihood = -55823.073  
Iteration 128: log likelihood = -55823.072  
Iteration 129: log likelihood = -55823.071  (not concave)
Iteration 130: log likelihood = -55823.071  (backed up)
Iteration 131: log likelihood =  -55823.07  
Iteration 132: log likelihood =  -55823.07  
Iteration 133: log likelihood = -55823.068  (not concave)
Iteration 134: log likelihood = -55823.068  
Iteration 135: log likelihood = -55823.067  
Iteration 136: log likelihood = -55823.066  (not concave)
Iteration 137: log likelihood = -55823.066  
Iteration 138: log likelihood = -55823.066  
Iteration 139: log likelihood = -55823.065  
Iteration 140: log likelihood = -55823.063  
Iteration 141: log likelihood = -55823.063  
Iteration 142: log likelihood = -55823.063  
Iteration 143: log likelihood = -55823.062  
Iteration 144: log likelihood = -55823.061  
Iteration 145: log likelihood = -55823.061  
Iteration 146: log likelihood =  -55823.06  
Iteration 147: log likelihood = -55823.059  
Iteration 148: log likelihood = -55823.059  
Iteration 149: log likelihood = -55823.058  
Iteration 150: log likelihood = -55823.057  (not concave)
Iteration 151: log likelihood = -55823.057  
Iteration 152: log likelihood = -55823.057  
Iteration 153: log likelihood = -55823.056  (not concave)
Iteration 154: log likelihood = -55823.056  
Iteration 155: log likelihood = -55823.056  
Iteration 156: log likelihood = -55823.056  
Iteration 157: log likelihood = -55823.055  
Iteration 158: log likelihood = -55823.055  
Iteration 159: log likelihood = -55823.054  
Iteration 160: log likelihood = -55823.054  
Iteration 161: log likelihood = -55823.053  
Iteration 162: log likelihood = -55823.052  
Iteration 163: log likelihood = -55823.052  (not concave)
Iteration 164: log likelihood = -55823.052  
Iteration 165: log likelihood = -55823.052  
Iteration 166: log likelihood = -55823.051  
Iteration 167: log likelihood = -55823.051  
Iteration 168: log likelihood = -55823.051  
Iteration 169: log likelihood =  -55823.05  
Iteration 170: log likelihood =  -55823.05  
Iteration 171: log likelihood =  -55823.05  
Iteration 172: log likelihood = -55823.049  
Iteration 173: log likelihood = -55823.049  
Iteration 174: log likelihood = -55823.049  
Iteration 175: log likelihood = -55823.048  
Iteration 176: log likelihood = -55823.048  
Iteration 177: log likelihood = -55823.048  (not concave)
Iteration 178: log likelihood = -55823.048  
Iteration 179: log likelihood = -55823.047  
Iteration 180: log likelihood = -55823.047  
Iteration 181: log likelihood = -55823.047  
Iteration 182: log likelihood = -55823.046  
Iteration 183: log likelihood = -55823.046  
Iteration 184: log likelihood = -55823.046  
Iteration 185: log likelihood = -55823.046  (not concave)
Iteration 186: log likelihood = -55823.046  
Iteration 187: log likelihood = -55823.046  
Iteration 188: log likelihood = -55823.045  
Iteration 189: log likelihood = -55823.045  
Iteration 190: log likelihood = -55823.045  
Iteration 191: log likelihood = -55823.045  
Iteration 192: log likelihood = -55823.044  
Iteration 193: log likelihood = -55823.044  
Iteration 194: log likelihood = -55823.044  
Iteration 195: log likelihood = -55823.044  
Iteration 196: log likelihood = -55823.043  
Iteration 197: log likelihood = -55823.043  
Iteration 198: log likelihood = -55823.043  
Iteration 199: log likelihood = -55823.043  
Iteration 200: log likelihood = -55823.043  
Iteration 201: log likelihood = -55823.042  
Iteration 202: log likelihood = -55823.042  
Iteration 203: log likelihood = -55823.042  
Iteration 204: log likelihood = -55823.042  
Iteration 205: log likelihood = -55823.042  
Iteration 206: log likelihood = -55823.042  
Iteration 207: log likelihood = -55823.041  
Iteration 208: log likelihood = -55823.041  
Iteration 209: log likelihood = -55823.041  
Iteration 210: log likelihood = -55823.041  
Iteration 211: log likelihood = -55823.041  
Iteration 212: log likelihood = -55823.041  
Iteration 213: log likelihood =  -55823.04  
Iteration 214: log likelihood =  -55823.04  
Iteration 215: log likelihood =  -55823.04  
Iteration 216: log likelihood =  -55823.04  
Iteration 217: log likelihood =  -55823.04  
Iteration 218: log likelihood =  -55823.04  
Iteration 219: log likelihood =  -55823.04  (not concave)
Iteration 220: log likelihood =  -55823.04  
Iteration 221: log likelihood =  -55823.04  
Iteration 222: log likelihood = -55823.039  
Iteration 223: log likelihood = -55823.039  
Iteration 224: log likelihood = -55823.039  
Iteration 225: log likelihood = -55823.039  
Iteration 226: log likelihood = -55823.039  (not concave)
Iteration 227: log likelihood = -55823.039  
Iteration 228: log likelihood = -55823.039  
Iteration 229: log likelihood = -55823.039  
Iteration 230: log likelihood = -55823.039  
Iteration 231: log likelihood = -55823.039  
Iteration 232: log likelihood = -55823.038  
Iteration 233: log likelihood = -55823.038  
Iteration 234: log likelihood = -55823.038  
Iteration 235: log likelihood = -55823.038  
Iteration 236: log likelihood = -55823.038  
Iteration 237: log likelihood = -55823.038  
Iteration 238: log likelihood = -55823.038  
Iteration 239: log likelihood = -55823.038  
Iteration 240: log likelihood = -55823.038  
Iteration 241: log likelihood = -55823.038  
Iteration 242: log likelihood = -55823.037  
Iteration 243: log likelihood = -55823.037  
Iteration 244: log likelihood = -55823.037  
Iteration 245: log likelihood = -55823.037  
Iteration 246: log likelihood = -55823.037  
Iteration 247: log likelihood = -55823.037  
Iteration 248: log likelihood = -55823.037  
Iteration 249: log likelihood = -55823.037  
Iteration 250: log likelihood = -55823.037  
Iteration 251: log likelihood = -55823.037  
Iteration 252: log likelihood = -55823.037  (not concave)
Iteration 253: log likelihood = -55823.037  (backed up)
Iteration 254: log likelihood = -55823.037  (backed up)
Iteration 255: log likelihood = -55823.036  (not concave)
Iteration 256: log likelihood = -55823.036  (backed up)
Iteration 257: log likelihood = -55823.036  (backed up)
Iteration 258: log likelihood = -55823.036  
Iteration 259: log likelihood = -55823.036  (not concave)
Iteration 260: log likelihood = -55823.036  (backed up)
Iteration 261: log likelihood = -55823.036  
Iteration 262: log likelihood = -55823.036  (not concave)
Iteration 263: log likelihood = -55823.036  
Iteration 264: log likelihood = -55823.036  (backed up)
Iteration 265: log likelihood = -55823.036  
Iteration 266: log likelihood = -55823.036  (not concave)
Iteration 267: log likelihood = -55823.036  (backed up)
Iteration 268: log likelihood = -55823.036  
Iteration 269: log likelihood = -55823.036  
Iteration 270: log likelihood = -55823.036  
Iteration 271: log likelihood = -55823.036  
Iteration 272: log likelihood = -55823.036  
Iteration 273: log likelihood = -55823.036  
Iteration 274: log likelihood = -55823.036  
Iteration 275: log likelihood = -55823.036  
Iteration 276: log likelihood = -55823.035  (not concave)
Iteration 277: log likelihood = -55823.035  (backed up)
Iteration 278: log likelihood = -55823.035  
Iteration 279: log likelihood = -55823.035  
Iteration 280: log likelihood = -55823.035  
Iteration 281: log likelihood = -55823.035  
Iteration 282: log likelihood = -55823.035  
Iteration 283: log likelihood = -55823.035  
Iteration 284: log likelihood = -55823.035  
Iteration 285: log likelihood = -55823.035  
Iteration 286: log likelihood = -55823.035  
Iteration 287: log likelihood = -55823.035  
Iteration 288: log likelihood = -55823.035  
Iteration 289: log likelihood = -55823.035  (not concave)
Iteration 290: log likelihood = -55823.035  (backed up)
Iteration 291: log likelihood = -55823.035  
Iteration 292: log likelihood = -55823.035  (not concave)
Iteration 293: log likelihood = -55823.035  (backed up)
Iteration 294: log likelihood = -55823.035  
Iteration 295: log likelihood = -55823.035  (not concave)
Iteration 296: log likelihood = -55823.035  (backed up)
Iteration 297: log likelihood = -55823.035  
Iteration 298: log likelihood = -55823.035  
Iteration 299: log likelihood = -55823.035  
Iteration 300: log likelihood = -55823.035  
convergence not achieved

Survival model                                  Number of obs     =     61,141
Log likelihood = -55823.035
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1546246   .0095065    16.27   0.000     .1359922    .1732571
edad_al_in~t |   -.005281   .0008982    -5.88   0.000    -.0070415   -.0035205
edad_ini_c~s |  -.0094714   .0018319    -5.17   0.000    -.0130619   -.0058809
     sex_enc |   -.260193   .0190671   -13.65   0.000    -.2975638   -.2228221
     esc_rec |   .0882556   .0119179     7.41   0.000      .064897    .1116142
sus_prin_mod |   .1379061   .0079612    17.32   0.000     .1223025    .1535097
 fr_sus_prin |   .0302768   .0074159     4.08   0.000      .015742    .0448116
 comp_biosoc |   .1890917   .0138325    13.67   0.000     .1619804     .216203
     ten_viv |  -.0167399   .0074499    -2.25   0.025    -.0313414   -.0021383
dg_cie_10_~c |   .0196869   .0085488     2.30   0.021     .0029315    .0364424
sud_sever~10 |  -.0647484   .0187724    -3.45   0.001    -.1015418   -.0279551
   macrozone |   .2000308     .01133    17.65   0.000     .1778244    .2222373
 policonsumo |   .0969464   .0211309     4.59   0.000     .0555306    .1383623
   n_off_vio |   .2766084   .0185792    14.89   0.000     .2401939    .3130228
   n_off_acq |   .6208578   .0172993    35.89   0.000     .5869517    .6547638
   n_off_sud |   .2227603   .0180276    12.36   0.000     .1874268    .2580937
   n_off_oth |    .312981   .0184901    16.93   0.000     .2767412    .3492208
       _cons |    10.9994   1.109729     9.91   0.000     8.824368    13.17443
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP2
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_2

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55816.426  (not concave)
Iteration 2:   log likelihood = -55804.342  (not concave)
Iteration 3:   log likelihood = -55790.182  (not concave)
Iteration 4:   log likelihood =  -55785.25  
Iteration 5:   log likelihood = -55730.343  
Iteration 6:   log likelihood =  -55536.03  
Iteration 7:   log likelihood = -55446.155  
Iteration 8:   log likelihood = -55372.379  
Iteration 9:   log likelihood = -55353.556  (not concave)
Iteration 10:  log likelihood = -55353.549  
Iteration 11:  log likelihood = -55353.519  (not concave)
Iteration 12:  log likelihood = -55353.519  (backed up)
Iteration 13:  log likelihood = -55353.519  (backed up)
Iteration 14:  log likelihood = -55353.519  (not concave)
Iteration 15:  log likelihood = -55353.519  (backed up)
Iteration 16:  log likelihood = -55353.519  
Iteration 17:  log likelihood = -55353.519  
Iteration 18:  log likelihood = -55353.519  
Iteration 19:  log likelihood = -55353.519  
Iteration 20:  log likelihood = -55353.519  
Iteration 21:  log likelihood = -55353.519  (not concave)
Iteration 22:  log likelihood = -55353.519  (backed up)
Iteration 23:  log likelihood = -55353.519  
Iteration 24:  log likelihood = -55353.519  
Iteration 25:  log likelihood = -55353.519  
Iteration 26:  log likelihood = -55353.519  
Iteration 27:  log likelihood = -55353.519  
Iteration 28:  log likelihood = -55353.518  
Iteration 29:  log likelihood = -55353.518  
Iteration 30:  log likelihood = -55353.518  
Iteration 31:  log likelihood = -55353.518  (not concave)
Iteration 32:  log likelihood = -55353.518  (backed up)
Iteration 33:  log likelihood = -55353.518  
Iteration 34:  log likelihood = -55353.518  
Iteration 35:  log likelihood = -55353.518  
Iteration 36:  log likelihood = -55353.518  
Iteration 37:  log likelihood = -55353.518  
Iteration 38:  log likelihood = -55353.518  
Iteration 39:  log likelihood = -55353.518  
Iteration 40:  log likelihood = -55353.518  
Iteration 41:  log likelihood = -55353.518  
Iteration 42:  log likelihood = -55353.518  
Iteration 43:  log likelihood = -55353.518  
Iteration 44:  log likelihood = -55353.518  
Iteration 45:  log likelihood = -55353.518  
Iteration 46:  log likelihood = -55353.518  
Iteration 47:  log likelihood = -55353.518  
Iteration 48:  log likelihood = -55353.518  
Iteration 49:  log likelihood = -55353.518  
Iteration 50:  log likelihood = -55353.518  
Iteration 51:  log likelihood = -55353.518  
Iteration 52:  log likelihood = -55353.518  
Iteration 53:  log likelihood = -55353.518  
Iteration 54:  log likelihood = -55353.518  
Iteration 55:  log likelihood = -55353.518  
Iteration 56:  log likelihood = -55353.518  
Iteration 57:  log likelihood = -55353.518  
Iteration 58:  log likelihood = -55353.518  
Iteration 59:  log likelihood = -55353.518  
Iteration 60:  log likelihood = -55353.518  (not concave)
Iteration 61:  log likelihood = -55353.518  (backed up)
Iteration 62:  log likelihood = -55353.518  
Iteration 63:  log likelihood = -55353.518  
Iteration 64:  log likelihood = -55353.518  
Iteration 65:  log likelihood = -55353.518  
Iteration 66:  log likelihood = -55353.518  
Iteration 67:  log likelihood = -55353.518  
Iteration 68:  log likelihood = -55353.518  
Iteration 69:  log likelihood = -55353.518  (not concave)
Iteration 70:  log likelihood = -55353.518  (backed up)
Iteration 71:  log likelihood = -55353.518  
Iteration 72:  log likelihood = -55353.518  
Iteration 73:  log likelihood = -55353.518  
Iteration 74:  log likelihood = -55353.518  
Iteration 75:  log likelihood = -55353.518  
Iteration 76:  log likelihood = -55353.518  
Iteration 77:  log likelihood = -55353.518  
Iteration 78:  log likelihood = -55353.518  
Iteration 79:  log likelihood = -55353.518  
Iteration 80:  log likelihood = -55353.518  
Iteration 81:  log likelihood = -55353.518  
Iteration 82:  log likelihood = -55353.518  
Iteration 83:  log likelihood = -55353.518  
Iteration 84:  log likelihood = -55353.518  
Iteration 85:  log likelihood = -55353.518  
Iteration 86:  log likelihood = -55353.518  
Iteration 87:  log likelihood = -55353.518  
Iteration 88:  log likelihood = -55353.518  
Iteration 89:  log likelihood = -55353.518  
Iteration 90:  log likelihood = -55353.518  
Iteration 91:  log likelihood = -55353.518  
Iteration 92:  log likelihood = -55353.518  
Iteration 93:  log likelihood = -55353.518  
Iteration 94:  log likelihood = -55353.518  (not concave)
Iteration 95:  log likelihood = -55353.518  (backed up)
Iteration 96:  log likelihood = -55353.518  
Iteration 97:  log likelihood = -55353.518  
Iteration 98:  log likelihood = -55353.518  
Iteration 99:  log likelihood = -55353.518  
Iteration 100: log likelihood = -55353.518  (not concave)
Iteration 101: log likelihood = -55353.518  (backed up)
Iteration 102: log likelihood = -55353.518  
Iteration 103: log likelihood = -55353.518  (not concave)
Iteration 104: log likelihood = -55353.518  (backed up)
Iteration 105: log likelihood = -55353.518  
Iteration 106: log likelihood = -55353.518  (not concave)
Iteration 107: log likelihood = -55353.518  (backed up)
Iteration 108: log likelihood = -55353.518  
Iteration 109: log likelihood = -55353.518  (not concave)
Iteration 110: log likelihood = -55353.518  (not concave)
Iteration 111: log likelihood = -55353.518  (backed up)
Iteration 112: log likelihood = -55353.517  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55353.517
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1497887   .0095458    15.69   0.000     .1310793     .168498
edad_al_in~t |   .0601186   .0010021    60.00   0.000     .0581546    .0620826
edad_ini_c~s |  -.0078602   .0018577    -4.23   0.000    -.0115012   -.0042193
     sex_enc |  -.2567439   .0190577   -13.47   0.000    -.2940964   -.2193914
     esc_rec |   .1070284   .0119321     8.97   0.000     .0836418    .1304149
sus_prin_mod |   .1356856   .0080102    16.94   0.000     .1199859    .1513853
 fr_sus_prin |   .0312411   .0074141     4.21   0.000     .0167098    .0457725
 comp_biosoc |   .1863793    .013845    13.46   0.000     .1592437    .2135149
     ten_viv |  -.0219284   .0074349    -2.95   0.003    -.0365006   -.0073562
dg_cie_10_~c |    .020124   .0085672     2.35   0.019     .0033325    .0369154
sud_sever~10 |  -.0599727   .0187837    -3.19   0.001    -.0967881   -.0231573
   macrozone |   .1989832   .0113378    17.55   0.000     .1767616    .2212048
 policonsumo |   .0975465   .0210653     4.63   0.000     .0562593    .1388336
   n_off_vio |   .2617821   .0185479    14.11   0.000     .2254289    .2981352
   n_off_acq |   .6001134   .0172414    34.81   0.000      .566321    .6339059
   n_off_sud |   .1998323   .0180032    11.10   0.000     .1645467    .2351179
   n_off_oth |   .2911498   .0184533    15.78   0.000      .254982    .3273176
       _cons |   9.748748   2.034081     4.79   0.000     5.762022    13.73547
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP3
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_3

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55787.763  (not concave)
Iteration 2:   log likelihood = -55779.647  (not concave)
Iteration 3:   log likelihood = -55763.513  (not concave)
Iteration 4:   log likelihood = -55755.002  
Iteration 5:   log likelihood = -55588.973  
Iteration 6:   log likelihood = -55406.834  
Iteration 7:   log likelihood = -55354.786  
Iteration 8:   log likelihood =  -55334.29  
Iteration 9:   log likelihood = -55334.259  
Iteration 10:  log likelihood = -55334.259  (backed up)
Iteration 11:  log likelihood = -55334.259  (not concave)
Iteration 12:  log likelihood = -55334.259  (backed up)
Iteration 13:  log likelihood = -55334.259  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55334.259
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1507933   .0095545    15.78   0.000     .1320669    .1695197
edad_al_in~t |   .0660295   .0014541    45.41   0.000     .0631794    .0688795
edad_ini_c~s |  -.0077193   .0018493    -4.17   0.000    -.0113439   -.0040947
     sex_enc |  -.2564275   .0190605   -13.45   0.000    -.2937854   -.2190696
     esc_rec |    .101364    .011961     8.47   0.000     .0779209    .1248071
sus_prin_mod |   .1356417   .0080031    16.95   0.000     .1199559    .1513275
 fr_sus_prin |   .0305489   .0074188     4.12   0.000     .0160084    .0450894
 comp_biosoc |   .1869998   .0138461    13.51   0.000      .159862    .2141376
     ten_viv |  -.0205576   .0074392    -2.76   0.006    -.0351381   -.0059771
dg_cie_10_~c |   .0199354   .0085697     2.33   0.020      .003139    .0367318
sud_sever~10 |  -.0612981   .0187856    -3.26   0.001    -.0981172    -.024479
   macrozone |   .1962508   .0113475    17.29   0.000       .17401    .2184915
 policonsumo |   .1054616   .0211281     4.99   0.000     .0640513    .1468719
   n_off_vio |   .2580285   .0185619    13.90   0.000     .2216477    .2944092
   n_off_acq |   .5938017   .0172844    34.35   0.000     .5599249    .6276785
   n_off_sud |   .1998725   .0180062    11.10   0.000      .164581    .2351639
   n_off_oth |   .2893364   .0184544    15.68   0.000     .2531665    .3255063
       _cons |   8.715653   2.167157     4.02   0.000     4.468104     12.9632
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP4
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_4

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55790.829  (not concave)
Iteration 2:   log likelihood = -55758.198  (not concave)
Iteration 3:   log likelihood =  -55746.43  (not concave)
Iteration 4:   log likelihood = -55736.541  
Iteration 5:   log likelihood =  -55670.17  
Iteration 6:   log likelihood = -55518.771  
Iteration 7:   log likelihood = -55444.153  
Iteration 8:   log likelihood = -55395.184  
Iteration 9:   log likelihood = -55367.259  
Iteration 10:  log likelihood = -55340.273  
Iteration 11:  log likelihood = -55330.272  
Iteration 12:  log likelihood = -55330.243  
Iteration 13:  log likelihood = -55330.243  (backed up)
Iteration 14:  log likelihood = -55330.243  
Iteration 15:  log likelihood = -55330.243  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55330.243
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1509808   .0095559    15.80   0.000     .1322516    .1697099
edad_al_in~t |   .0665139   .0017135    38.82   0.000     .0631556    .0698722
edad_ini_c~s |  -.0076994   .0018487    -4.16   0.000    -.0113228   -.0040761
     sex_enc |  -.2562272   .0190617   -13.44   0.000    -.2935874    -.218867
     esc_rec |   .1002982   .0119729     8.38   0.000     .0768318    .1237645
sus_prin_mod |   .1354602   .0080017    16.93   0.000     .1197772    .1511432
 fr_sus_prin |    .030312   .0074206     4.08   0.000     .0157678    .0448561
 comp_biosoc |    .186953   .0138469    13.50   0.000     .1598136    .2140925
     ten_viv |  -.0202411   .0074415    -2.72   0.007    -.0348262   -.0056561
dg_cie_10_~c |   .0199001   .0085703     2.32   0.020     .0031027    .0366976
sud_sever~10 |  -.0618613   .0187924    -3.29   0.001    -.0986937   -.0250289
   macrozone |   .1958757   .0113485    17.26   0.000      .173633    .2181183
 policonsumo |   .1063409   .0211365     5.03   0.000     .0649141    .1477677
   n_off_vio |    .257644   .0185641    13.88   0.000     .2212591     .294029
   n_off_acq |   .5930463   .0172902    34.30   0.000     .5591581    .6269344
   n_off_sud |   .2004935   .0180225    11.12   0.000       .16517     .235817
   n_off_oth |   .2893028   .0184578    15.67   0.000     .2531261    .3254795
       _cons |   8.839496   2.517391     3.51   0.000     3.905501    13.77349
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP5
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_5

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55800.431  (not concave)
Iteration 2:   log likelihood = -55771.478  (not concave)
Iteration 3:   log likelihood = -55745.262  (not concave)
Iteration 4:   log likelihood = -55721.037  
Iteration 5:   log likelihood = -55552.162  
Iteration 6:   log likelihood = -55334.004  
Iteration 7:   log likelihood = -55325.753  
Iteration 8:   log likelihood = -55321.037  
Iteration 9:   log likelihood = -55317.184  
Iteration 10:  log likelihood = -55317.055  
Iteration 11:  log likelihood = -55317.048  (not concave)
Iteration 12:  log likelihood = -55317.048  (not concave)
Iteration 13:  log likelihood = -55317.048  (backed up)
Iteration 14:  log likelihood = -55317.048  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55317.048
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1510934   .0095603    15.80   0.000     .1323555    .1698312
edad_al_in~t |   .0702465   .0019136    36.71   0.000     .0664959    .0739971
edad_ini_c~s |  -.0074706   .0018483    -4.04   0.000    -.0110932   -.0038481
     sex_enc |  -.2559777   .0190613   -13.43   0.000     -.293337   -.2186183
     esc_rec |    .100577   .0119792     8.40   0.000     .0770982    .1240558
sus_prin_mod |   .1340694   .0080096    16.74   0.000     .1183709    .1497679
 fr_sus_prin |   .0298383    .007422     4.02   0.000     .0152914    .0443852
 comp_biosoc |   .1868107   .0138494    13.49   0.000     .1596663     .213955
     ten_viv |  -.0200881   .0074433    -2.70   0.007    -.0346768   -.0054995
dg_cie_10_~c |   .0201203   .0085717     2.35   0.019     .0033201    .0369205
sud_sever~10 |  -.0620477   .0187944    -3.30   0.001     -.098884   -.0252114
   macrozone |   .1952744   .0113488    17.21   0.000     .1730312    .2175176
 policonsumo |   .1081022   .0211489     5.11   0.000     .0666511    .1495532
   n_off_vio |   .2570192   .0185645    13.84   0.000     .2206335    .2934049
   n_off_acq |   .5916589   .0172939    34.21   0.000     .5577634    .6255544
   n_off_sud |   .2003625   .0180235    11.12   0.000     .1650371     .235688
   n_off_oth |   .2884123   .0184579    15.63   0.000     .2522354    .3245891
       _cons |   8.652039   2.558146     3.38   0.001     3.638165    13.66591
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP6
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_6

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55801.623  (not concave)
Iteration 2:   log likelihood = -55761.085  (not concave)
Iteration 3:   log likelihood = -55740.982  (not concave)
Iteration 4:   log likelihood = -55719.687  
Iteration 5:   log likelihood = -55581.578  
Iteration 6:   log likelihood = -55466.335  
Iteration 7:   log likelihood = -55405.458  
Iteration 8:   log likelihood = -55367.672  
Iteration 9:   log likelihood = -55330.035  
Iteration 10:  log likelihood = -55315.141  
Iteration 11:  log likelihood =     -55315  
Iteration 12:  log likelihood =     -55315  
Iteration 13:  log likelihood = -55314.999  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55314.999
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1511626   .0095615    15.81   0.000     .1324223    .1699029
edad_al_in~t |   .0712423   .0020451    34.84   0.000      .067234    .0752507
edad_ini_c~s |  -.0074274   .0018483    -4.02   0.000    -.0110501   -.0038047
     sex_enc |  -.2561149   .0190615   -13.44   0.000    -.2934746   -.2187551
     esc_rec |   .1005534   .0119824     8.39   0.000     .0770684    .1240384
sus_prin_mod |    .133831   .0080113    16.71   0.000     .1181292    .1495329
 fr_sus_prin |   .0298025    .007422     4.02   0.000     .0152557    .0443494
 comp_biosoc |    .186639   .0138498    13.48   0.000     .1594938    .2137842
     ten_viv |  -.0200468   .0074441    -2.69   0.007    -.0346371   -.0054565
dg_cie_10_~c |   .0201527    .008572     2.35   0.019     .0033519    .0369535
sud_sever~10 |   -.062097    .018795    -3.30   0.001    -.0989345   -.0252594
   macrozone |   .1949848     .01135    17.18   0.000     .1727393    .2172304
 policonsumo |    .108685   .0211522     5.14   0.000     .0672274    .1501425
   n_off_vio |   .2569547   .0185647    13.84   0.000     .2205685    .2933409
   n_off_acq |   .5914654   .0172961    34.20   0.000     .5575657     .625365
   n_off_sud |   .2005892   .0180257    11.13   0.000     .1652594    .2359189
   n_off_oth |   .2881036   .0184589    15.61   0.000     .2519249    .3242823
       _cons |   8.496765   6.110303     1.39   0.164     -3.47921    20.47274
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP7
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_7

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55801.677  (not concave)
Iteration 2:   log likelihood = -55757.632  (not concave)
Iteration 3:   log likelihood = -55736.085  (not concave)
Iteration 4:   log likelihood = -55702.883  
Iteration 5:   log likelihood = -55563.829  
Iteration 6:   log likelihood = -55470.814  
Iteration 7:   log likelihood = -55408.126  
Iteration 8:   log likelihood = -55369.193  
Iteration 9:   log likelihood = -55329.342  
Iteration 10:  log likelihood = -55312.322  
Iteration 11:  log likelihood = -55312.062  
Iteration 12:  log likelihood = -55312.062  
Iteration 13:  log likelihood =  -55312.06  (not concave)
Iteration 14:  log likelihood =  -55312.06  (backed up)

Survival model                                  Number of obs     =     61,141
Log likelihood =  -55312.06
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1511871   .0095628    15.81   0.000     .1324442    .1699299
edad_al_in~t |   .0724915   .0021814    33.23   0.000      .068216    .0767671
edad_ini_c~s |  -.0073715   .0018486    -3.99   0.000    -.0109946   -.0037483
     sex_enc |  -.2562002   .0190616   -13.44   0.000    -.2935603   -.2188401
     esc_rec |   .1007234   .0119844     8.40   0.000     .0772344    .1242124
sus_prin_mod |   .1335806   .0080129    16.67   0.000     .1178755    .1492856
 fr_sus_prin |   .0297685   .0074221     4.01   0.000     .0152215    .0443155
 comp_biosoc |   .1864609   .0138507    13.46   0.000     .1593141    .2136078
     ten_viv |  -.0200369   .0074443    -2.69   0.007    -.0346274   -.0054464
dg_cie_10_~c |   .0201837   .0085724     2.35   0.019     .0033821    .0369854
sud_sever~10 |  -.0621845   .0187954    -3.31   0.001    -.0990228   -.0253462
   macrozone |   .1947566   .0113512    17.16   0.000     .1725088    .2170045
 policonsumo |     .10921   .0211555     5.16   0.000      .067746    .1506741
   n_off_vio |   .2568341   .0185651    13.83   0.000     .2204472    .2932209
   n_off_acq |    .591018   .0172972    34.17   0.000      .557116    .6249199
   n_off_sud |   .2005142   .0180272    11.12   0.000     .1651816    .2358469
   n_off_oth |    .287704   .0184602    15.59   0.000     .2515227    .3238853
       _cons |   8.578216   5.564336     1.54   0.123    -2.327683    19.48411
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP8
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_8

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55803.449  (not concave)
Iteration 2:   log likelihood = -55760.812  (not concave)
Iteration 3:   log likelihood = -55735.733  (not concave)
Iteration 4:   log likelihood = -55723.107  (not concave)
Iteration 5:   log likelihood = -55703.002  (not concave)
Iteration 6:   log likelihood = -55687.817  
Iteration 7:   log likelihood = -55579.384  
Iteration 8:   log likelihood = -55418.339  
Iteration 9:   log likelihood = -55334.229  
Iteration 10:  log likelihood =  -55315.36  
Iteration 11:  log likelihood = -55310.004  (not concave)
Iteration 12:  log likelihood =     -55310  
Iteration 13:  log likelihood = -55309.983  
Iteration 14:  log likelihood = -55309.983  

Survival model                                  Number of obs     =     61,141
Log likelihood = -55309.983
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |     .15121    .009564    15.81   0.000     .1324649     .169955
edad_al_in~t |   .0738328   .0022741    32.47   0.000     .0693756    .0782899
edad_ini_c~s |  -.0073281   .0018491    -3.96   0.000    -.0109522    -.003704
     sex_enc |  -.2563254   .0190618   -13.45   0.000    -.2936858    -.218965
     esc_rec |   .1009482   .0119856     8.42   0.000     .0774568    .1244396
sus_prin_mod |   .1333976   .0080142    16.65   0.000     .1176899    .1491052
 fr_sus_prin |   .0297856   .0074221     4.01   0.000     .0152387    .0443326
 comp_biosoc |   .1862244   .0138515    13.44   0.000      .159076    .2133728
     ten_viv |  -.0200564   .0074442    -2.69   0.007    -.0346468   -.0054659
dg_cie_10_~c |   .0202087   .0085729     2.36   0.018     .0034061    .0370114
sud_sever~10 |  -.0622503   .0187958    -3.31   0.001    -.0990894   -.0254112
   macrozone |   .1945512   .0113521    17.14   0.000     .1723015     .216801
 policonsumo |    .109676   .0211565     5.18   0.000       .06821     .151142
   n_off_vio |   .2566838   .0185653    13.83   0.000     .2202965    .2930712
   n_off_acq |   .5906228   .0172971    34.15   0.000      .556721    .6245246
   n_off_sud |   .2004759   .0180274    11.12   0.000     .1651428    .2358089
   n_off_oth |   .2872406   .0184606    15.56   0.000     .2510585    .3234228
       _cons |   8.574776   5.909763     1.45   0.147    -3.008147     20.1577
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP9
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_9

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood =  -55810.15  (not concave)
Iteration 2:   log likelihood = -55761.322  (not concave)
Iteration 3:   log likelihood = -55739.477  (not concave)
Iteration 4:   log likelihood = -55717.809  
Iteration 5:   log likelihood = -55625.606  
Iteration 6:   log likelihood = -55430.413  
Iteration 7:   log likelihood = -55386.078  
Iteration 8:   log likelihood = -55335.095  
Iteration 9:   log likelihood =  -55305.09  
Iteration 10:  log likelihood =   -55304.1  
Iteration 11:  log likelihood = -55304.077  
Iteration 12:  log likelihood = -55304.061  (not concave)
Iteration 13:  log likelihood = -55304.061  
Iteration 14:  log likelihood = -55304.061  
Iteration 15:  log likelihood = -55304.061  (backed up)

Survival model                                  Number of obs     =     61,141
Log likelihood = -55304.061
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1511959   .0095658    15.81   0.000     .1324472    .1699445
edad_al_in~t |   .0759232   .0023579    32.20   0.000     .0713019    .0805446
edad_ini_c~s |  -.0072416   .0018499    -3.91   0.000    -.0108674   -.0036158
     sex_enc |  -.2564623   .0190618   -13.45   0.000    -.2938227   -.2191019
     esc_rec |   .1014548   .0119863     8.46   0.000      .077962    .1249475
sus_prin_mod |   .1331791   .0080161    16.61   0.000     .1174679    .1488903
 fr_sus_prin |   .0297604   .0074223     4.01   0.000     .0152128    .0443079
 comp_biosoc |   .1858536   .0138517    13.42   0.000     .1587048    .2130024
     ten_viv |  -.0200219   .0074436    -2.69   0.007    -.0346112   -.0054327
dg_cie_10_~c |   .0202298   .0085739     2.36   0.018     .0034253    .0370343
sud_sever~10 |  -.0626147   .0187961    -3.33   0.001    -.0994544    -.025775
   macrozone |   .1942681    .011353    17.11   0.000     .1720166    .2165196
 policonsumo |   .1100164   .0211559     5.20   0.000     .0685515    .1514813
   n_off_vio |   .2564812   .0185651    13.82   0.000     .2200942    .2928681
   n_off_acq |   .5897091    .017298    34.09   0.000     .5558057    .6236124
   n_off_sud |   .2000892   .0180281    11.10   0.000     .1647548    .2354237
   n_off_oth |   .2865696   .0184617    15.52   0.000     .2503853    .3227539
       _cons |   8.616403   3.218198     2.68   0.007     2.308851    14.92395
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP10
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_10

Fitting full model:

Iteration 0:   log likelihood = -55823.035  (not concave)
Iteration 1:   log likelihood = -55818.804  (not concave)
Iteration 2:   log likelihood = -55761.106  (not concave)
Iteration 3:   log likelihood = -55742.653  (not concave)
Iteration 4:   log likelihood = -55727.817  (not concave)
Iteration 5:   log likelihood = -55716.401  (not concave)
Iteration 6:   log likelihood = -55706.651  
Iteration 7:   log likelihood = -55658.971  (backed up)
Iteration 8:   log likelihood = -55477.611  (not concave)
Iteration 9:   log likelihood = -55415.304  (not concave)
Iteration 10:  log likelihood = -55378.064  (not concave)
Iteration 11:  log likelihood = -55362.498  (not concave)
Iteration 12:  log likelihood = -55350.564  (not concave)
Iteration 13:  log likelihood = -55342.151  (not concave)
Iteration 14:  log likelihood = -55335.325  (not concave)
Iteration 15:  log likelihood = -55330.434  (not concave)
Iteration 16:  log likelihood = -55326.161  (not concave)
Iteration 17:  log likelihood = -55322.475  (not concave)
Iteration 18:  log likelihood = -55319.869  
Iteration 19:  log likelihood =  -55308.68  
Iteration 20:  log likelihood = -55299.421  
Iteration 21:  log likelihood =  -55299.36  
Iteration 22:  log likelihood =  -55299.36  

Survival model                                  Number of obs     =     61,141
Log likelihood =  -55299.36
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1513009   .0095671    15.81   0.000     .1325499     .170052
edad_al_in~t |   .0775875   .0024134    32.15   0.000     .0728574    .0823176
edad_ini_c~s |    -.00718   .0018509    -3.88   0.000    -.0108076   -.0035524
     sex_enc |  -.2564957   .0190617   -13.46   0.000    -.2938559   -.2191354
     esc_rec |   .1018221   .0119868     8.49   0.000     .0783284    .1253159
sus_prin_mod |   .1330146   .0080173    16.59   0.000      .117301    .1487281
 fr_sus_prin |   .0297885   .0074225     4.01   0.000     .0152407    .0443363
 comp_biosoc |   .1856002    .013852    13.40   0.000     .1584509    .2127495
     ten_viv |  -.0200829   .0074431    -2.70   0.007     -.034671   -.0054947
dg_cie_10_~c |   .0202248   .0085745     2.36   0.018     .0034191    .0370305
sud_sever~10 |  -.0628633   .0187968    -3.34   0.001    -.0997044   -.0260222
   macrozone |   .1940873   .0113538    17.09   0.000     .1718343    .2163402
 policonsumo |   .1100288   .0211553     5.20   0.000     .0685651    .1514925
   n_off_vio |   .2562162   .0185651    13.80   0.000     .2198292    .2926032
   n_off_acq |    .588965    .017298    34.05   0.000     .5550616    .6228683
   n_off_sud |   .1996398   .0180285    11.07   0.000     .1643045     .234975
   n_off_oth |   .2859826   .0184618    15.49   0.000     .2497981    .3221671
       _cons |   8.555646   29.17054     0.29   0.769    -48.61756    65.72885
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. 
. *rcs(time, df(3) orthog)
. estwrite _all using &quot;${pathdata2}parmodels_m2_nov_22.sters&quot;, replace
(saving m2_1_cox1)
(saving m2_1_cox2)
(saving m2_1_cox3)
(saving m2_1_cox4)
(saving m2_1_cox5)
(saving m2_1_cox6)
(saving m2_1_cox7)
(saving m2_1_gom)
(saving m2_1_wei)
(saving m2_1_logl)
(saving m2_1_logn)
(saving m2_1_ggam)
(saving m2_1_rp1)
(saving m2_1_rp2)
(saving m2_1_rp3)
(saving m2_1_rp4)
(saving m2_1_rp5)
(saving m2_1_rp6)
(saving m2_1_rp7)
(saving m2_1_rp8)
(saving m2_1_rp9)
(saving m2_1_rp10)
(file parmodels_m2_nov_22.sters saved)

</code></pre>
<p>We obtained a summary of distributions by AICs and BICs.</p>
<pre><code>. *file:///G:/Mi%20unidad/Alvacast/SISTRAT%202019%20(github)/_supp_mstates/stata/1806.01615.pdf
. *rcs - restricted cubic splines on log hazard scale
. *rp - Royston-Parmar model (restricted cubic spline on log cumulative hazard scale)
. qui count if _d == 1

.         // we count the amount of cases with the event in the strata
.         //we call the estimates stored, and the results...
. estimates stat m2_1_*, n(`r(N)')

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
   m2_1_cox1 |     22,966          .  -55924.21      19   111886.4   112039.2
   m2_1_cox2 |     22,966          .   -55887.9      20   111815.8   111976.6
   m2_1_cox3 |     22,966          .  -55854.65      21   111751.3   111920.2
   m2_1_cox4 |     22,966          .  -55850.96      22   111745.9   111922.8
   m2_1_cox5 |     22,966          .  -55845.85      23   111737.7   111922.7
   m2_1_cox6 |     22,966          .   -55840.3      24   111728.6   111921.6
   m2_1_cox7 |     22,966          .     -55840      25     111730   111931.1
    m2_1_gom |     22,966          .  -55295.49      19     110629   110781.8
    m2_1_wei |     22,966          .  -55823.03      18   111682.1   111826.8
   m2_1_logl |     22,966          .  -56702.27      19   113442.5   113595.3
   m2_1_logn |     22,966          .  -56655.12      11   113332.2   113420.7
   m2_1_ggam |     22,966          .  -56575.26       8   113166.5   113230.9
    m2_1_rp1 |     22,966          .  -55823.03      19   111684.1   111836.9
    m2_1_rp2 |     22,966          .  -55353.52      20     110747   110907.9
    m2_1_rp3 |     22,966          .  -55334.26      21   110710.5   110879.4
    m2_1_rp4 |     22,966          .  -55330.24      22   110704.5   110881.4
    m2_1_rp5 |     22,966          .  -55317.05      23   110680.1   110865.1
    m2_1_rp6 |     22,966          .     -55315      24     110678     110871
    m2_1_rp7 |     22,966          .  -55312.06      25   110674.1   110875.2
    m2_1_rp8 |     22,966          .  -55309.98      26     110672   110881.1
    m2_1_rp9 |     22,966          .  -55304.06      27   110662.1   110879.3
   m2_1_rp10 |     22,966          .  -55299.36      28   110654.7   110879.9
-----------------------------------------------------------------------------

.         //we store in a matrix de survival
. matrix stats_1=r(S)

. 
. 
. estimates clear

. 
. ** to order AICs
. *https://www.statalist.org/forums/forum/general-stata-discussion/general/1665263-sorting-matrix-including-rownames
. mata :
------------------------------------------------- mata (type end to exit) -------------------------------------------------------------------------------------------------------------
: 
: void st_sort_matrix(
&gt; //argumento de la matriz
&gt;     string scalar matname, 
&gt; //argumento de las columnas
&gt;     real   rowvector columns
&gt;     )
&gt; {
&gt;     string matrix   rownames
&gt;     real  colvector sort_order
&gt; // defino una base      
&gt;         Y = st_matrix(matname)
&gt;         //[.,(1, 2, 3, 4, 6, 5)]
&gt;  //ordeno las columnas  
&gt;     rownames = st_matrixrowstripe(matname) //[.,(1, 2, 3, 4, 6, 5)]
&gt;     sort_order = order(st_matrix(matname),  (columns))
&gt;     st_replacematrix(matname, st_matrix(matname)[sort_order,.])
&gt;     st_matrixrowstripe(matname, rownames[sort_order,.])
&gt; }
note: variable Y set but not used

: 
: end
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

. //mata: mata drop st_sort_matrix()
. 
. mata : st_sort_matrix(&quot;stats_1&quot;, 5)

. esttab matrix(stats_1) using &quot;testreg_aic_nov_22.csv&quot;, replace
(output written to testreg_aic_nov_22.csv)

. esttab matrix(stats_1) using &quot;testreg_aic_nov_22.html&quot;, replace
(output written to testreg_aic_nov_22.html)

. 
</code></pre>
<table border="0" width="*">
<tr><td colspan=7><hr></td></tr>
<tr><td>            </td><td>     stats_1</td><td>            </td><td>            </td><td>            </td><td>            </td><td>            </td></tr>
<tr><td>            </td><td>           N</td><td>         ll0</td><td>          ll</td><td>          df</td><td>         AIC</td><td>         BIC</td></tr>
<tr><td colspan=7><hr></td></tr>
<tr><td>m2_1_gom    </td><td>       22966</td><td>           .</td><td>   -55295.49</td><td>          19</td><td>      110629</td><td>    110781.8</td></tr>
<tr><td>m2_1_rp10   </td><td>       22966</td><td>           .</td><td>   -55299.36</td><td>          28</td><td>    110654.7</td><td>    110879.9</td></tr>
<tr><td>m2_1_rp9    </td><td>       22966</td><td>           .</td><td>   -55304.06</td><td>          27</td><td>    110662.1</td><td>    110879.3</td></tr>
<tr><td>m2_1_rp8    </td><td>       22966</td><td>           .</td><td>   -55309.98</td><td>          26</td><td>      110672</td><td>    110881.1</td></tr>
<tr><td>m2_1_rp7    </td><td>       22966</td><td>           .</td><td>   -55312.06</td><td>          25</td><td>    110674.1</td><td>    110875.2</td></tr>
<tr><td>m2_1_rp6    </td><td>       22966</td><td>           .</td><td>      -55315</td><td>          24</td><td>      110678</td><td>      110871</td></tr>
<tr><td>m2_1_rp5    </td><td>       22966</td><td>           .</td><td>   -55317.05</td><td>          23</td><td>    110680.1</td><td>    110865.1</td></tr>
<tr><td>m2_1_rp4    </td><td>       22966</td><td>           .</td><td>   -55330.24</td><td>          22</td><td>    110704.5</td><td>    110881.4</td></tr>
<tr><td>m2_1_rp3    </td><td>       22966</td><td>           .</td><td>   -55334.26</td><td>          21</td><td>    110710.5</td><td>    110879.4</td></tr>
<tr><td>m2_1_rp2    </td><td>       22966</td><td>           .</td><td>   -55353.52</td><td>          20</td><td>      110747</td><td>    110907.9</td></tr>
<tr><td>m2_1_wei    </td><td>       22966</td><td>           .</td><td>   -55823.03</td><td>          18</td><td>    111682.1</td><td>    111826.8</td></tr>
<tr><td>m2_1_rp1    </td><td>       22966</td><td>           .</td><td>   -55823.03</td><td>          19</td><td>    111684.1</td><td>    111836.9</td></tr>
<tr><td>m2_1_cox6   </td><td>       22966</td><td>           .</td><td>    -55840.3</td><td>          24</td><td>    111728.6</td><td>    111921.6</td></tr>
<tr><td>m2_1_cox7   </td><td>       22966</td><td>           .</td><td>      -55840</td><td>          25</td><td>      111730</td><td>    111931.1</td></tr>
<tr><td>m2_1_cox5   </td><td>       22966</td><td>           .</td><td>   -55845.85</td><td>          23</td><td>    111737.7</td><td>    111922.7</td></tr>
<tr><td>m2_1_cox4   </td><td>       22966</td><td>           .</td><td>   -55850.96</td><td>          22</td><td>    111745.9</td><td>    111922.8</td></tr>
<tr><td>m2_1_cox3   </td><td>       22966</td><td>           .</td><td>   -55854.65</td><td>          21</td><td>    111751.3</td><td>    111920.2</td></tr>
<tr><td>m2_1_cox2   </td><td>       22966</td><td>           .</td><td>    -55887.9</td><td>          20</td><td>    111815.8</td><td>    111976.6</td></tr>
<tr><td>m2_1_cox1   </td><td>       22966</td><td>           .</td><td>   -55924.21</td><td>          19</td><td>    111886.4</td><td>    112039.2</td></tr>
<tr><td>m2_1_ggam   </td><td>       22966</td><td>           .</td><td>   -56575.26</td><td>           8</td><td>    113166.5</td><td>    113230.9</td></tr>
<tr><td>m2_1_logn   </td><td>       22966</td><td>           .</td><td>   -56655.12</td><td>          11</td><td>    113332.2</td><td>    113420.7</td></tr>
<tr><td>m2_1_logl   </td><td>       22966</td><td>           .</td><td>   -56702.27</td><td>          19</td><td>    113442.5</td><td>    113595.3</td></tr>
<tr><td colspan=7><hr></td></tr>
</table>
<p>In case of the more flexible parametric models (non-standard), we selected the models that showed the best trade-off between lower complexity and better fit, and this is why we also considered the BIC. If a model with less parameters had greater or equal AIC (or differences lower than 2) but also had better BIC (&lt;=2), we favoured the model with less parameters.</p>
<h3><a href="#iptcw" id="iptcw">IPTCW</a></h3>
<p>We estimated a Survival-time inverse-probability weighting, these estimate the weights attributed to the treatment-assignment (likelihood of being treated) and time-to-censoring models, and use them to estimate the weighted averages of the outcomes for each treatment level.</p>
<pre><code>. *reset time, only compatible with stteffects (same entry times)
. stset diff, failure(event ==1) 

     failure event:  event == 1
obs. time interval:  (0, diff]
 exit on or before:  failure

------------------------------------------------------------------------------
     72,377  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
     72,376  observations remaining, representing
     22,966  failures in single-record/single-failure data
 235,121.16  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =  10.75828

. 
. cap rm bsreg1.dta bsreg2.dta

. 
. stteffects ipw (motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone pol
&gt; iconsumo n_off_vio n_off_acq n_off_sud n_off_oth) (comp_biosoc cut_fec_nac, gamma), vce(bootstrap, nodots seed(2125) rep(200) saving(bsreg1, replace))

Survival treatment-effects estimation           Number of obs     =     61,140
Estimator      : inverse-probability weights
Outcome model  : weighted mean
Treatment model: logit
Censoring model: gamma
---------------------------------------------------------------------------------------------
                            |   Observed   Bootstrap                         Normal-based
                         _t |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
ATE                         |
motivodeegreso_mod_imp_rec3 |
                  (2 vs 1)  |  -.0842087   .0979971    -0.86   0.390    -.2762794     .107862
                  (3 vs 1)  |  -.0847165   .0741432    -1.14   0.253    -.2300345    .0606015
----------------------------+----------------------------------------------------------------
POmean                      |
motivodeegreso_mod_imp_rec3 |
                         1  |   2.746809   .0648727    42.34   0.000     2.619661    2.873957
---------------------------------------------------------------------------------------------

. cap stteffects ra

. 
. stteffects ipw (motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone pol
&gt; iconsumo n_off_vio n_off_acq n_off_sud n_off_oth) (comp_biosoc cut_fec_nac, lnormal), vce(bootstrap, nodots seed(2125) rep(200) saving(bsreg2, replace))

Survival treatment-effects estimation           Number of obs     =     61,140
Estimator      : inverse-probability weights
Outcome model  : weighted mean
Treatment model: logit
Censoring model: lnormal
---------------------------------------------------------------------------------------------
                            |   Observed   Bootstrap                         Normal-based
                         _t |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
ATE                         |
motivodeegreso_mod_imp_rec3 |
                  (2 vs 1)  |  -.1137463   .0698528    -1.63   0.103    -.2506553    .0231627
                  (3 vs 1)  |  -.0859405   .0564161    -1.52   0.128    -.1965139     .024633
----------------------------+----------------------------------------------------------------
POmean                      |
motivodeegreso_mod_imp_rec3 |
                         1  |   2.580825   .0494156    52.23   0.000     2.483972    2.677678
---------------------------------------------------------------------------------------------

. cap stteffects ra

. 
. *count if missing(motivodeegreso_mod_imp_rec3, edad_al_ing_fmt, edad_ini_cons, dias_treat_imp_sin_na_1, esc_rec, sus_prin_mod, fr_sus_prin, comp_biosoc, ten_viv, dg_cie_10_rec, sud_
&gt; severity_icd10, macrozone, policonsumo, n_off_vio, n_off_acq, n_off_sud, n_off_oth)
</code></pre>
<p>The model indicated that is complicated to include the days in treatment, because of collinearity. However, there was no statistically significant average effect of a type of treatment.</p>
<h3><a href="#iptw-royston-parmar" id="iptw-royston-parmar">IPTW Royston-Parmar</a></h3>
<p>First we calculated the difference between those patients who did and did not complete baseline treatment, given that the analysis is restricted to .</p>
<pre><code>. *Micki Hill &amp; Paul C Lambert &amp; Michael J Crowther, 2021. &quot;Introducing stipw: inverse probability weighted parametric survival models,&quot; London Stata Conference 2021 15, Stata Users G
&gt; roup.
. *https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ffmwww.bc.edu%2Frepec%2Fusug2021%2Fusug21_hill.pptx&amp;wdOrigin=BROWSELINK
. 
. *Treatment variable should be a binary variable with values 0 and 1.
. gen     motivodeegreso_mod_imp_rec2 = 0

. replace motivodeegreso_mod_imp_rec2 = 1 if strpos(motivodeegreso_mod_imp_rec,&quot;Early&quot;)&gt;0
(16,147 real changes made)

. replace motivodeegreso_mod_imp_rec2 = 1 if strpos(motivodeegreso_mod_imp_rec,&quot;Late&quot;)&gt;0
(36,446 real changes made)

. 
. stpm2 motivodeegreso_mod_imp_rec2, scale(hazard) df(10) eform

Iteration 0:   log likelihood = -74921.867  
Iteration 1:   log likelihood = -74920.822  
Iteration 2:   log likelihood = -74920.822  

Log likelihood = -74920.822                     Number of obs     =     72,376

---------------------------------------------------------------------------------------------
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.844462   .0320927    35.18   0.000     1.782622    1.908448
                      _rcs1 |   2.486746   .0142845   158.59   0.000     2.458906    2.514901
                      _rcs2 |   1.098068   .0060005    17.12   0.000      1.08637    1.109892
                      _rcs3 |   1.046843   .0042046    11.40   0.000     1.038635    1.055116
                      _rcs4 |   1.018442   .0025555     7.28   0.000     1.013446    1.023463
                      _rcs5 |   1.011602   .0016644     7.01   0.000     1.008345    1.014869
                      _rcs6 |   1.008139    .001262     6.48   0.000     1.005669    1.010616
                      _rcs7 |   1.006799   .0010824     6.30   0.000     1.004679    1.008922
                      _rcs8 |   1.005282   .0009655     5.49   0.000     1.003392    1.007177
                      _rcs9 |   1.004031   .0009151     4.41   0.000     1.002239    1.005826
                     _rcs10 |   1.003162   .0007907     4.00   0.000     1.001613    1.004713
                      _cons |   .1511553   .0024233  -117.86   0.000     .1464796    .1559802
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone polico
&gt; nsumo n_off_vio n_off_acq n_off_sud n_off_oth), distribution(rp) df(10) ipwtype(stabilised) vce(mestimation) eform
11236 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -36009.812  
Iteration 1:   log likelihood = -34316.382  
Iteration 2:   log likelihood = -34290.621  
Iteration 3:   log likelihood = -34290.601  
Iteration 4:   log likelihood = -34290.601  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -36009.812  
Iteration 1:   log likelihood = -36009.812  

Fitting weighted survival model to obtain point estimates

Iteration 0:   log pseudolikelihood =  -59887.48  
Iteration 1:   log pseudolikelihood = -59887.443  
Iteration 2:   log pseudolikelihood = -59887.443  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood = -59887.443               Number of obs     =     61,141

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.470155   .0287716    19.69   0.000     1.414832    1.527642
                      _rcs1 |   2.482209   .0162462   138.91   0.000      2.45057    2.514256
                      _rcs2 |   1.087304   .0064475    14.12   0.000      1.07474    1.100014
                      _rcs3 |   1.040957   .0046227     9.04   0.000     1.031936    1.050057
                      _rcs4 |   1.016452   .0029178     5.68   0.000     1.010749    1.022187
                      _rcs5 |   1.010519   .0019204     5.51   0.000     1.006762     1.01429
                      _rcs6 |   1.006557   .0014617     4.50   0.000     1.003696    1.009426
                      _rcs7 |   1.004989   .0012502     4.00   0.000     1.002541    1.007442
                      _rcs8 |   1.004146   .0011224     3.70   0.000     1.001948    1.006348
                      _rcs9 |   1.003114   .0010619     2.94   0.003     1.001035    1.005197
                     _rcs10 |   1.002516   .0009194     2.74   0.006     1.000715    1.004319
                      _cons |   .1671697   .0030569   -97.82   0.000     .1612843    .1732698
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. predict rmst03 in 1, at(motivodeegreso_mod_imp_rec2 0) rmst stdp tmax(3)

. predict rmst13 in 1, at(motivodeegreso_mod_imp_rec2 1) rmst stdp tmax(3)

. predictnl drmst= predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3))- predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) in 1, se(drmst_se)
Warning: prediction doesn't vary with respect to e(b).
(72,376 missing values generated)
Warning: prediction constant over observations; perhaps you meant to run nlcom.

. 
. cap list rmst03 rmst13  drmst in 1

</code></pre>
<p>We used another model with only 4 degrees of freedom according to the lowest BIC</p>
<pre><code>. 
. stpm2 motivodeegreso_mod_imp_rec2, scale(hazard) df(4) eform

Iteration 0:   log likelihood = -74952.753  
Iteration 1:   log likelihood = -74937.653  
Iteration 2:   log likelihood = -74937.628  
Iteration 3:   log likelihood = -74937.628  

Log likelihood = -74937.628                     Number of obs     =     72,376

---------------------------------------------------------------------------------------------
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.845495   .0321101    35.22   0.000     1.783621    1.909515
                      _rcs1 |   2.487455   .0143029   158.48   0.000     2.459579    2.515647
                      _rcs2 |   1.105304   .0058639    18.87   0.000     1.093871    1.116857
                      _rcs3 |   1.039675   .0034825    11.62   0.000     1.032872    1.046523
                      _rcs4 |   1.011753   .0020399     5.80   0.000     1.007763    1.015759
                      _cons |   .1511024   .0024225  -117.88   0.000     .1464283    .1559257
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone polico
&gt; nsumo n_off_vio n_off_acq n_off_sud n_off_oth), distribution(rp) df(4) ipwtype(stabilised) vce(mestimation) eform
11236 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -36009.812  
Iteration 1:   log likelihood = -34316.382  
Iteration 2:   log likelihood = -34290.621  
Iteration 3:   log likelihood = -34290.601  
Iteration 4:   log likelihood = -34290.601  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -36009.812  
Iteration 1:   log likelihood = -36009.812  

Fitting weighted survival model to obtain point estimates

Iteration 0:   log pseudolikelihood = -59899.864  
Iteration 1:   log pseudolikelihood = -59895.095  
Iteration 2:   log pseudolikelihood = -59895.092  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood = -59895.092               Number of obs     =     61,141

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.470601   .0287833    19.70   0.000     1.415256    1.528112
                      _rcs1 |   2.482562   .0163856   137.77   0.000     2.450653    2.514885
                      _rcs2 |   1.093057   .0065997    14.74   0.000     1.080198    1.106069
                      _rcs3 |    1.03535   .0039538     9.10   0.000     1.027629    1.043128
                      _rcs4 |   1.009628   .0023443     4.13   0.000     1.005044    1.014233
                      _cons |   .1671389   .0030567   -97.82   0.000      .161254    .1732386
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. predict rmst03_b in 1, at(motivodeegreso_mod_imp_rec2 0) rmst stdp tmax(3)

. predict rmst13_b in 1, at(motivodeegreso_mod_imp_rec2 1) rmst stdp tmax(3)

. predictnl drmst_b= predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3))- predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) in 1, se(drmst_b_se)
Warning: prediction doesn't vary with respect to e(b).
(72,376 missing values generated)
Warning: prediction constant over observations; perhaps you meant to run nlcom.

. 
. cap list rmst03_b rmst13_b  drmst_b in 1

</code></pre>
<p>Saved at= 19:16:35 11 Nov 2022</p>
<pre><code>
</code></pre>
