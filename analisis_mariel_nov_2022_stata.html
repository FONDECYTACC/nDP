<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<pre><code>. clear all

. cap noi which tabout
C:\Users\CISS Fondecyt\ado\plus\t\tabout.ado
*! 2.0.8 Ian Watson 15mar2019
*! tabout version 3 (beta) available at: http://tabout.net.au

. if _rc==111 {
.         cap noi ssc install tabout
.         }

. cap noi which pathutil
C:\Users\CISS Fondecyt\ado\plus\p\pathutil.ado
*! version 2.2.0 19nov2020 daniel klein

. if _rc==111 {
.         cap noi net install pathutil, from(&quot;http://fmwww.bc.edu/repec/bocode/p/&quot;) 
.         }

. cap noi which pathutil
C:\Users\CISS Fondecyt\ado\plus\p\pathutil.ado
*! version 2.2.0 19nov2020 daniel klein

. if _rc==111 {
.         ssc install dirtools    
.         }

. cap noi which project
C:\Users\CISS Fondecyt\ado\plus\p\project.ado
*! version 1.3.1  22dec2013  picard@netbox.com

. if _rc==111 {   
.         ssc install project
.         }

. cap noi which stipw
C:\Users\CISS Fondecyt\ado\plus\s\stipw.ado
*! Version 1.0.0 17Jan2022

. if _rc==111 {   
.         ssc install stipw
.         }

. cap noi which stpm2
C:\Users\CISS Fondecyt\ado\plus\s\stpm2.ado
*! version 1.7.5 May2021

. if _rc==111 {   
.         ssc install stpm2
.         }       

. cap noi which rcsgen
C:\Users\CISS Fondecyt\ado\plus\r\rcsgen.ado
*! version 1.5.9 13FEB2022

. if _rc==111 {   
.         ssc install rcsgen
.         }       

. cap noi which matselrc
C:\Users\CISS Fondecyt\ado\plus\m\matselrc.ado
*! NJC 1.1.0 20 Apr 2000  (STB-56: dm79)

. if _rc==111 {           
. cap noi net install dm79, from(http://www.stata.com/stb/stb56)
.         }

</code></pre>
<h1><a href="#exercise" id="exercise">Exercise</a></h1>
<p>Date created: 13:38:26 19 Dec 2022.</p>
<p>Get the folder</p>
<pre><code>
C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2022 (github)


Fecha: 19 Dec 2022, considerando un SO Windows para el usuario: CISS Fondecyt

</code></pre>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<p>Path data= ;</p>
<p>Tiempo: 19 Dec 2022, considerando un SO Windows</p>
<p>The file is located and named as: C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2022 (github)fiscalia_mariel_oct_2022_match_SENDA.dta</p>
<p>=============================================================================</p>
<h2><a href="#structure-database-and-survival" id="structure-database-and-survival">Structure database and survival</a></h2>
<p>=============================================================================</p>
<p>We open the files</p>
<pre><code>. use &quot;fiscalia_mariel_oct_2022_match_SENDA.dta&quot;, clear

. encode escolaridad_rec, generate(esc_rec)

. encode sex, gen(sex_enc)

. encode sus_principal_mod, generate(sus_prin_mod)

. encode freq_cons_sus_prin, generate(fr_sus_prin)

. encode compromiso_biopsicosocial, generate(comp_biosoc)

. encode tenencia_de_la_vivienda_mod, generate(ten_viv)

. *encode dg_cie_10_rec, generate(dg_cie_10_mental_h) *already numeric
. encode dg_trs_cons_sus_or, generate(sud_severity_icd10)

. encode macrozona, generate(macrozone)

. gen     motivodeegreso_mod_imp_rec3 = 1

. replace motivodeegreso_mod_imp_rec3 = 2 if strpos(motivodeegreso_mod_imp_rec,&quot;Early&quot;)&gt;0
(15,797 real changes made)

. replace motivodeegreso_mod_imp_rec3 = 3 if strpos(motivodeegreso_mod_imp_rec,&quot;Late&quot;)&gt;0
(35,781 real changes made)

. 
. *encode policonsumo, generate(policon) *already numeric
. 
. *motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons dias_treat_imp_sin_na_1 i.escolaridad_rec i.sus_principal_mod i.freq_cons_sus_prin i.compromiso_biopsicosocial i.tenencia_de_la_vivienda_mod i.dg_cie_1
&gt; 0_rec i.dg_trs_cons_sus_or i.macrozona i.n_off_vio i.n_off_acq i.n_off_sud i.n_off_oth
</code></pre>
<p>Then we set the data base in surirval format and bring the urban-rural classification of municipallities from this <a href="&quot;https://view.officeapps.live.com/op/view.aspx?src=https%3A%2F%2Fwww.masvidarural.gob.cl%2Fwp-content%2Fuploads%2F2021%2F04%2FClasificacion-comunas-PNDR.xlsx&amp;wdOrigin=BROWSELINK&quot;">link</a>.</p>
<pre><code>. cap qui noi frame create temp

. frame temp: import excel &quot;Clasificacion-comunas-PNDR.xlsx&quot;, firstrow clear
(11 vars, 345 obs)

. *frame temp: browse
. frame change default

. 
. *select code of municipality
. gen str20 comuna = ustrregexs(1) if ustrregexm(comuna_residencia_cod,&quot;([\d,]+)&quot;)
(2 missing values generated)

. 
. *recode comuna if 
. *http://www.sinim.cl/archivos/centro_descargas/modificacion_instructivo_pres_codigos.pdf
. *file:///C:/Users/CISSFO~1/AppData/Local/Temp/MicrosoftEdgeDownloads/4ef08de9-6832-4db6-8124-f69a7b256270/codigoComunas-20180801%20(1).pdf
. 
. replace comuna= &quot;16101&quot; if strpos(strlower(comuna),&quot;8401&quot;)&gt;0
(434 real changes made)

. replace comuna= &quot;16102&quot; if strpos(strlower(comuna),&quot;8402&quot;)&gt;0
(10 real changes made)

. replace comuna= &quot;16103&quot; if strpos(strlower(comuna),&quot;8406&quot;)&gt;0
(32 real changes made)

. replace comuna= &quot;16104&quot; if strpos(strlower(comuna),&quot;8407&quot;)&gt;0
(2 real changes made)

. replace comuna= &quot;16105&quot; if strpos(strlower(comuna),&quot;8410&quot;)&gt;0
(1 real change made)

. replace comuna= &quot;16106&quot; if strpos(strlower(comuna),&quot;8411&quot;)&gt;0
(8 real changes made)

. replace comuna= &quot;16107&quot; if strpos(strlower(comuna),&quot;8413&quot;)&gt;0
(12 real changes made)

. replace comuna= &quot;16108&quot; if strpos(strlower(comuna),&quot;8418&quot;)&gt;0
(4 real changes made)

. replace comuna= &quot;16109&quot; if strpos(strlower(comuna),&quot;8421&quot;)&gt;0
(6 real changes made)

. replace comuna= &quot;16201&quot; if strpos(strlower(comuna),&quot;8414&quot;)&gt;0
(22 real changes made)

. replace comuna= &quot;16202&quot; if strpos(strlower(comuna),&quot;8403&quot;)&gt;0
(0 real changes made)

. replace comuna= &quot;16203&quot; if strpos(strlower(comuna),&quot;8404&quot;)&gt;0
(13 real changes made)

. replace comuna= &quot;16204&quot; if strpos(strlower(comuna),&quot;8408&quot;)&gt;0
(1 real change made)

. replace comuna= &quot;16205&quot; if strpos(strlower(comuna),&quot;8412&quot;)&gt;0
(1 real change made)

. replace comuna= &quot;16206&quot; if strpos(strlower(comuna),&quot;8415&quot;)&gt;0
(2 real changes made)

. replace comuna= &quot;16207&quot; if strpos(strlower(comuna),&quot;8420&quot;)&gt;0
(1 real change made)

. replace comuna= &quot;16301&quot; if strpos(strlower(comuna),&quot;8416&quot;)&gt;0
(12 real changes made)

. replace comuna= &quot;16302&quot; if strpos(strlower(comuna),&quot;8405&quot;)&gt;0
(6 real changes made)

. replace comuna= &quot;16303&quot; if strpos(strlower(comuna),&quot;8409&quot;)&gt;0
(0 real changes made)

. replace comuna= &quot;16304&quot; if strpos(strlower(comuna),&quot;8417&quot;)&gt;0
(0 real changes made)

. replace comuna= &quot;16305&quot; if strpos(strlower(comuna),&quot;8419&quot;)&gt;0
(0 real changes made)

. 
. destring comuna, replace
comuna: all characters numeric; replaced as int
(2 missing values generated)

. 
. *frame temp: gen str20 comuna = ustrregexs(1) if ustrregexm(cod_com,&quot;([\d,]+)&quot;)
. 
. frlink m:1 comuna, frame(temp cod_com) //*Clasificación
  (2 observations in frame default unmatched)

. frget Clasificación, from(temp)
(2 missing values generated)
  (1 variable copied from linked frame)

. 
. encode Clasificación, generate(clas)

. *encode clas, replace
. *70,863
</code></pre>
<pre><code>. *si no está perdido cod_region, significa que hubo un registro (0/1) y el tiempo es el tiempo desde 
. *set the indicator
. gen event=0

. replace event=1 if !missing(offender_d)
(22,287 real changes made)

. *replace event=1 if !missing(sex)
. 
. gen diff= age_offending_imp-edad_al_egres_imp

. 
. *age time
. stset age_offending_imp, fail(event ==1) enter(edad_al_egres_imp)

     failure event:  event == 1
obs. time interval:  (0, age_offending_imp]
 enter on or after:  time edad_al_egres_imp
 exit on or before:  failure

------------------------------------------------------------------------------
     70,863  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
     70,862  observations remaining, representing
     22,287  failures in single-record/single-failure data
 229,620.92  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =  10.95068
                                          last observed exit t =  90.65027

. 
. stdescribe, weight

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

                                   |-------------- per subject --------------|
Category                   total        mean         min     median        max
------------------------------------------------------------------------------
no. of subjects            70862   
no. of records             70862           1           1          1          1

(first) entry time                  36.52205    10.95068    34.6274   88.91507
(final) exit time                   39.76244    14.84463   38.01506   90.65027

subjects with gap              0   
time on gap if gap             0   
time at risk           229620.92    3.240396    .0000449   2.665753   10.75828

failures                   22287    .3145127           0          0          1
------------------------------------------------------------------------------

</code></pre>
<p>We calculate the incidence rate.</p>
<pre><code>. stsum, by (motivodeegreso_mod_imp_rec)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

         |               Incidence     Number of   |------ Survival time -----|
motivo~c | Time at risk       rate      subjects        25%       50%       75%
---------+---------------------------------------------------------------------
Treatmen |  63,974.7794   .0597892         19275   19.60301  22.39014   28.2026
Treatmen |  46,815.0893   .1309407         15797   18.18207  19.15674  21.12526
Treatmen |  118,806.623   .1037484         35781   16.49829  17.60986  20.97467
---------+---------------------------------------------------------------------
   Total |  229,596.491   .0970442         70853   16.67765   18.3436  21.03217

</code></pre>
<p>=============================================================================</p>
<h2><a href="#descriptives" id="descriptives">Descriptives</a></h2>
<p>=============================================================================</p>
<pre><code>. 
. local ttl `&quot; &quot;Tr Completion&quot; &quot;Tr Disch (Early)&quot; &quot;Tr Disch (Late)&quot; &quot;' 

. forvalues i = 1/3 {
  2. cap drop sum_*
  3.         gettoken title ttl: ttl
  4. cap qui egen sum_`i' = total(_t) if motivodeegreso_mod_imp_rec3==`i'
  5. cap qui tab _d motivodeegreso_mod_imp_rec3 if _d==1 &amp; motivodeegreso_mod_imp_rec3==`i'
  6. scalar n_eventos`i' =r(N)
  7. qui tabstat sum_`i', save
  8. scalar sum_`i'_total =r(StatTotal)[1,1]
  9. scalar ir_t = round((n_eventos`i'/sum_`i'_total)*1000,.1)
 10. *di ir_t
. *es numérico, para no generar incompatibilidad, se pasa a escalar
. global dens_inc`i' &quot;Incidence rate ratio for `title' (`i') (x1,000 person-days):  `=scalar(ir_t)'&quot;
 11. *di %9.1f (n_eventos`i'/sum_`i'_total)*1000
. }

</code></pre>
<ul>
<li>
<p>Incidence rate ratio for Tr Completion (1) (x1,000 person-days):  4.600000000000001</p>
</li>
<li>
<p>Incidence rate ratio for Tr Disch (Early) (2) (x1,000 person-days):  10.5</p>
</li>
<li>
<p>Incidence rate ratio for Tr Disch (Late) (3) (x1,000 person-days):  8.800000000000001</p>
</li>
</ul>
<p>We recode the discharge cause to contrast them</p>
<pre><code>. cap noi recode motivodeegreso_mod_imp_rec3 (1=0 &quot;Tr Completion&quot; ) ///
&gt;                          (2=1 &quot;Early Disch&quot;) ///
&gt;                          (else=.), gen(tto_2_1)
(70863 differences between motivodeegreso_mod_imp_rec3 and tto_2_1)

. cap noi recode motivodeegreso_mod_imp_rec3 (1=0 &quot;Tr Completion&quot; ) ///
&gt;                          (3=1 &quot;Late Disch&quot;) ///
&gt;                          (else=.), gen(tto_3_1)
(70863 differences between motivodeegreso_mod_imp_rec3 and tto_3_1)

. cap noi recode motivodeegreso_mod_imp_rec3 (2=0 &quot;Early Disch&quot; ) ///
&gt;                          (3=1 &quot;Late Disch&quot;) ///
&gt;                          (else=.), gen(tto_3_2)
(70863 differences between motivodeegreso_mod_imp_rec3 and tto_3_2)

</code></pre>
<p>We explored the inicidence rate ratios (IRR) of each cause of discharge.</p>
<pre><code>. 
. *set trace on
. local stname `&quot; &quot;2_1&quot; &quot;3_1&quot; &quot;3_2&quot; &quot;' 

. local titl `&quot; &quot;Early Disch vs Tr Completion&quot; &quot;Late Disch vs Tr Completion&quot; &quot;Late vs Early Disch&quot; &quot;' 

. foreach s of local stname {
  2.         gettoken title titl: titl
  3. cap noi qui ir _d tto_`s' _t
  4. scalar ir_`s' =round(r(irr),.01)
  5. *di ir_`s'
. scalar ir_`s'_lb =round(r(lb_irr),.01) 
  6. *di ir_`s'_lb
. scalar ir_`s'_ub =round(r(ub_irr),.01)
  7. *di ir_`s'_ub
. local ir1= ir_`s'
  8. local ir2= ir_`s'_lb
  9. local ir3= ir_`s'_ub
 10. *di  in gr _col(13) &quot; `title': IRR `ir1' (IC 95% `ir2' - `ir3') &quot;
. global irr_`s' &quot; `title': IRR `ir1' (IC 95% `ir2' - `ir3') &quot;
 11. global ir_`s' &quot;`ir1' (IC 95% `ir2' - `ir3')&quot;
 12. }       

</code></pre>
<p>We generated a log-rank test to compare the expected to the observed result, obtaining that:</p>
<ul>
<li>
<p>Early Disch vs Tr Completion: IRR 2.3 (IC 95% 2.21 - 2.39) , so patients with an Early Discharge had a greater incidence rate than patients in Tr Completion</p>
</li>
<li>
<p>Late Disch vs Tr Completion: IRR 1.91 (IC 95% 1.85 - 1.99) , so patients with a Late Discharge had a greater incidence rate than patients in Tr Completion</p>
</li>
<li>
<p>Late vs Early Disch: IRR .8300000000000001 (IC 95% .8100000000000001 - .86) , so patients with a Late Discharge had a lower incidence rate than patients with an Early Discharge</p>
</li>
</ul>
<pre><code>. *set trace on
. local stname `&quot; &quot;2_1&quot; &quot;3_1&quot; &quot;3_2&quot; &quot;' 

. local titl `&quot; &quot;Early Disch vs Tr Completion&quot; &quot;Late Disch vs Tr Completion&quot; &quot;Late vs Early Disch&quot; &quot;' 

. foreach s of local stname {
  2.         gettoken title titl: titl
  3. cap noi qui sts test tto_`s', logrank
  4. scalar logrank_chi`s'= round(r(chi2),.01)
  5. scalar logrank_df`s'= r(df)
  6. scalar logrank_p_`s'= round(chiprob(r(df),r(chi2)),.001)
  7. local lr1= logrank_chi`s'
  8. local lr2= logrank_df`s'
  9. local lr3= logrank_p_`s'
 10. global logrank_`s' &quot; Chi^2(`lr2')=`lr1',p=`lr3'&quot;
 11. }

. *set trace off
</code></pre>
<ul>
<li>
<p>With a value of  Chi^2(1)=699.0500000000001,p=0, survival curves between patients that had an Early Disch y Tr Completion were significantly different.</p>
</li>
<li>
<p>With a value of  Chi^2(1)=486.13,p=0, survival curves between patients that had an Late Disch y Tr Completion were significantly different.</p>
</li>
<li>
<p>With a value of  Chi^2(1)=87.27,p=0, survival curves between patients that had an Late y Early Disch were significantly different.</p>
</li>
</ul>
<p>=============================================================================</p>
<h2><a href="#graph" id="graph">Graph</a></h2>
<p>=============================================================================</p>
<p>We generated a graph with every type of treatment and the Nelson-Aalen estimate.</p>
<pre><code>. sts graph, na by (motivodeegreso_mod_imp_rec) ci ///
&gt; title(&quot;Comission of an offense (end with imprisonment)&quot;) /// 
&gt; subtitle(&quot;Nelson-Aalen Cum Hazards w/ Confidence Intervals 95%&quot;) ///
&gt; risktable(, size(*.5) order(1 &quot;Tr Completion&quot; 2 &quot;Early Disch&quot; 3 &quot;Late Disch&quot;)) ///
&gt; ytitle(&quot;Cum. Hazards&quot;) ylabel(#8) ///
&gt; xtitle(&quot;Years of age&quot;) xlabel(#8) ///
&gt; note(&quot;Source: nDP, SENDA's SUD Treatments &amp; POs Office Data period 2010-2019 &quot;) ///
&gt; legend(rows(3)) ///
&gt; legend(cols(4)) ///
&gt; graphregion(color(white) lwidth(large)) bgcolor(white) ///
&gt; plotregion(fcolor(white)) graphregion(fcolor(white) ) /// //text(.5 1 &quot;IR = &lt;0.001&quot;) ///
&gt; legend(order(1 &quot;95CI Tr Completion&quot; 2 &quot;Tr Completion&quot; 3 &quot;95CI Early Tr Disch&quot; 4 &quot;Early Tr Disch &quot; 5 &quot;95CI Late Tr Disch&quot; 6 &quot;Late Tr Disch&quot; )size(*.5)region(lstyle(none)) region(c(none)) nobox)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp
(note:  named style large not found in class linewidth, default attributes used)
(note:  linewidth not found in scheme, default attributes used)
(note:  named style large not found in class linewidth, default attributes used)
(note:  linewidth not found in scheme, default attributes used)

. graph save &quot;tto.gph&quot;, replace
(file tto.gph saved)

</code></pre>
<p><img src="tto.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#survival-analyses" id="survival-analyses">Survival Analyses</a></h2>
<p>=============================================================================</p>
<p>We tested the schoefeld residuals.</p>
<pre><code>. *c(&quot;edad_al_ing_fmt&quot;, &quot;edad_ini_cons&quot;, &quot;dias_treat_imp_sin_na_1&quot;, &quot;escolaridad_rec&quot;, &quot;sus_principal_mod&quot;, &quot;freq_cons_sus_prin&quot;, &quot;compromiso_biopsicosocial&quot;, &quot;tenencia_de_la_vivienda_mod&quot;, &quot;dg_cie_10_rec&quot;, &quot;dg_t
&gt; rs_cons_sus_or&quot;, &quot;macrozona&quot;, &quot;policonsumo&quot;, &quot;n_prev_off&quot;, &quot;n_off_vio&quot;, &quot;n_off_acq&quot;, &quot;n_off_sud&quot;, &quot;n_off_oth&quot;)
. 
. global sim 1e5 //5e1 1e5 

. global boots 1e3 //5e1 2e3

. global times 0 90 365 1096 1826

. range timevar0 90 1826 90
(70,773 missing values generated)

. 
. global covs &quot;edad_al_ing_fmt edad_ini_cons dias_treat_imp_sin_na_1 sex esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_off_sud c
&gt; las&quot;

. global covs_2 &quot;motivodeegreso_mod_imp_rec3 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n
&gt; _off_sud clas&quot;

. 
. 
. stcox  $covs_2 , efron robust nolog schoenfeld(sch*) scaledsch(sca*)

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp

Cox regression -- Efron method for ties

No. of subjects      =       59,755             Number of obs    =      59,755
No. of failures      =       17,595
Time at risk         =  180456.8824
                                                Wald chi2(17)    =     4058.47
Log pseudolikelihood =    -145896.3             Prob &gt; chi2      =      0.0000

---------------------------------------------------------------------------------------------
                            |               Robust
                         _t | Haz. Ratio   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
motivodeegreso_mod_imp_rec3 |    1.16301   .0118092    14.87   0.000     1.140093    1.186387
            edad_al_ing_fmt |   1.098006   .0059054    17.38   0.000     1.086493    1.109642
              edad_ini_cons |   .9921413   .0019837    -3.95   0.000      .988261    .9960369
                    sex_enc |   .7571876   .0156001   -13.50   0.000      .727221    .7883889
                    esc_rec |   1.129802   .0144896     9.52   0.000     1.101757    1.158561
               sus_prin_mod |   1.137535   .0095994    15.27   0.000     1.118876    1.156506
                fr_sus_prin |   1.034208   .0081215     4.28   0.000     1.018412    1.050249
                comp_biosoc |   1.206742   .0179564    12.63   0.000     1.172056    1.242454
                    ten_viv |   .9783452   .0079682    -2.69   0.007     .9628518     .994088
              dg_cie_10_rec |   1.023534   .0094327     2.52   0.012     1.005212     1.04219
         sud_severity_icd10 |   .9402721   .0185945    -3.11   0.002     .9045249    .9774321
                  macrozone |     1.2285   .0155234    16.29   0.000     1.198449    1.259305
                policonsumo |   1.118452   .0254613     4.92   0.000     1.069645    1.169485
                  n_off_vio |   1.345764   .0273887    14.59   0.000      1.29314     1.40053
                  n_off_acq |   1.866119   .0359728    32.36   0.000     1.796929    1.937973
                  n_off_sud |   1.226438   .0245915    10.18   0.000     1.179175    1.275596
                       clas |   1.016891   .0138164     1.23   0.218     .9901691    1.044335
---------------------------------------------------------------------------------------------

. estat phtest, log detail

      Test of proportional-hazards assumption

      Time:  Log(t)
      ----------------------------------------------------------------
                  |       rho            chi2       df       Prob&gt;chi2
      ------------+---------------------------------------------------
      motivodeeg~3|      0.01152         2.41        1         0.1207
      edad_al_in~t|     -0.02713        38.11        1         0.0000
      edad_ini_c~s|      0.00297         0.18        1         0.6736
      sex_enc     |      0.00207         0.09        1         0.7683
      esc_rec     |     -0.02366        10.74        1         0.0010
      sus_prin_mod|     -0.00517         0.46        1         0.4962
      fr_sus_prin |     -0.00088         0.01        1         0.9043
      comp_biosoc |     -0.01077         2.30        1         0.1294
      ten_viv     |      0.01201         3.01        1         0.0829
      dg_cie_10_~c|      0.01344         3.47        1         0.0624
      sud_sever~10|      0.02140         8.56        1         0.0034
      macrozone   |      0.00136         0.04        1         0.8488
      policonsumo |      0.02015         8.16        1         0.0043
      n_off_vio   |      0.04169        37.45        1         0.0000
      n_off_acq   |      0.02535        14.39        1         0.0001
      n_off_sud   |      0.02321        11.80        1         0.0006
      clas        |     -0.01869         6.97        1         0.0083
      ------------+---------------------------------------------------
      global test |                    151.40       17         0.0000
      ----------------------------------------------------------------

note: robust variance-covariance matrix used.

. scalar chi2_scho_test = r(chi2)

.  
. mat mat_scho_test = r(phtest)

. 
. esttab matrix(mat_scho_test) using &quot;mat_scho_test.csv&quot;, replace
(output written to mat_scho_test.csv)

. esttab matrix(mat_scho_test) using &quot;mat_scho_test.html&quot;, replace
(output written to mat_scho_test.html)

. 
</code></pre>
<table border="0" width="*">
<tr><td colspan=5><hr></td></tr>
<tr><td>            </td><td>mat_scho_test</td><td>            </td><td>            </td><td>            </td></tr>
<tr><td>            </td><td>         rho</td><td>        chi2</td><td>          df</td><td>           p</td></tr>
<tr><td colspan=5><hr></td></tr>
<tr><td>motivodeegreso_mod_imp_rec3</td><td>    .0115184</td><td>    2.408646</td><td>           1</td><td>    .1206667</td></tr>
<tr><td>edad_al_ing_fmt</td><td>    -.027133</td><td>    38.11038</td><td>           1</td><td>    6.69e-10</td></tr>
<tr><td>edad_ini_cons</td><td>    .0029675</td><td>    .1774422</td><td>           1</td><td>    .6735807</td></tr>
<tr><td>sex_enc     </td><td>    .0020687</td><td>    .0868049</td><td>           1</td><td>     .768279</td></tr>
<tr><td>esc_rec     </td><td>   -.0236609</td><td>    10.74268</td><td>           1</td><td>    .0010469</td></tr>
<tr><td>sus_prin_mod</td><td>   -.0051678</td><td>     .462994</td><td>           1</td><td>     .496228</td></tr>
<tr><td>fr_sus_prin </td><td>   -.0008779</td><td>    .0144646</td><td>           1</td><td>    .9042702</td></tr>
<tr><td>comp_biosoc </td><td>   -.0107651</td><td>    2.299385</td><td>           1</td><td>    .1294253</td></tr>
<tr><td>ten_viv     </td><td>    .0120061</td><td>     3.00724</td><td>           1</td><td>    .0828933</td></tr>
<tr><td>dg_cie_10_rec</td><td>    .0134353</td><td>    3.472934</td><td>           1</td><td>    .0623806</td></tr>
<tr><td>sud_severity_icd10</td><td>    .0213966</td><td>    8.564236</td><td>           1</td><td>    .0034283</td></tr>
<tr><td>macrozone   </td><td>    .0013571</td><td>    .0363516</td><td>           1</td><td>    .8487912</td></tr>
<tr><td>policonsumo </td><td>    .0201476</td><td>    8.160644</td><td>           1</td><td>    .0042809</td></tr>
<tr><td>n_off_vio   </td><td>    .0416942</td><td>    37.44639</td><td>           1</td><td>    9.40e-10</td></tr>
<tr><td>n_off_acq   </td><td>    .0253548</td><td>    14.39384</td><td>           1</td><td>    .0001483</td></tr>
<tr><td>n_off_sud   </td><td>    .0232095</td><td>     11.8004</td><td>           1</td><td>    .0005922</td></tr>
<tr><td>clas        </td><td>   -.0186948</td><td>    6.973061</td><td>           1</td><td>    .0082746</td></tr>
<tr><td colspan=5><hr></td></tr>
</table>
<pre><code>. /*
&gt; stphplot, by(n_off_vio) adjust($covs_health) ///
&gt;  xtitle(&quot;Log Time (days)&quot;, size(small)) ///
&gt;         ylabel(-4(2)8, labsize(vsmall)) ///     
&gt;         legend(pos(7) ring(0) col(1) symysize(zero) keygap(1) symxsize(large) order( 1 2) lab(1 &quot;Outpatient&quot;) lab(2 &quot;Residential&quot;) size(small)) ///
&gt;         ytitle(&quot;Schoenfeld residuals&quot;, size(small)) scheme(sj) graphregion(color(white)) ///
&gt;         note(&quot;{it:Note. Means and 95% CI's; Bandwidth=.8; Natural log of analysis time used.}&quot;,size(vsmall)) ///
&gt;         title(&quot;Plot of −ln{−ln(survival)} vs. ln(analysis time)&quot; &quot;by Treatment Modality at Baseline&quot;, size(medium)) ///
&gt;         subtitle(&quot;{it: Fourth transition}&quot;,size(small)) ///
&gt;         name(stphplot_trans_4, replace)  ///
&gt;         saving(stphplot_trans_4.gph, replace)
&gt; */
. 
</code></pre>
<p>We generated a list of parametric survival models with different distributions (Exponential, Weibull, Gompertz, Log-logistic, Log-normal &amp; Generalized gamma). Aditionally, we defined a series of Royston-Parmar models with a function of restricted cubic splines, in which the knots (#df -1) are defined in each percentile of the distribution. We saved the estimates in the file called `parmodels_m2_nov_22&rsquo;.</p>
<pre><code>. *Hannah Bower, Michael J. Crowther, Mark J. Rutherford, Therese M.-L. Andersson, Mark Clements, Xing-Rong Liu, Paul W. Dickman &amp; Paul C. Lambert (2021) Capturing simple and complex time-dependent effects using 
&gt; flexible parametric survival models: A simulation study, Communications in Statistics - Simulation and Computation, 50:11, 3777-3793, DOI: 10.1080/03610918.2019.1634201
. *can be used in case of nonproportional hazards
. *Our usualstarting point is to use 5 degrees of freedom for the baseline and 3 degrees of freedomfor any time-dependent effects
. *The results presented indicate that restricted cubic splines accurately capture time-dependent effects if appropriate degrees of freedom are selected; these results are con-sistent with the findings of Rutherf
&gt; ord et al. (Rutherford, Crowther, and Lambert2015)for proportional-hazards models
.                 // Cox w/tvc
.         forvalues j=1/7 {
  2.                 di in yellow &quot;{bf: ***********}&quot;
  3.                 di in yellow &quot;{bf: family Cox tvc `j'}&quot;
  4.                 di in yellow &quot;{bf: ***********}&quot;
  5.                 set seed 2125
  6.                 qui cap noi stmerlin $covs_2 , dist(exponential) tvc(motivodeegreso_mod_imp_rec3) dftvc(`j')
  7.                 estimates store m2_1_cox`j'     
  8.         }
 ***********
 family Cox tvc 1
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_1

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood =  -56714.59  
Iteration 2:   log likelihood = -55185.844  
Iteration 3:   log likelihood = -54302.436  
Iteration 4:   log likelihood = -54293.831  
Iteration 5:   log likelihood = -54293.829  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54293.829
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1179685   .0099597    11.84   0.000     .0984479    .1374891
edad_al_in~t |  -.0037611   .0017838    -2.11   0.035    -.0072573   -.0002649
edad_ini_c~s |  -.0107384    .001866    -5.75   0.000    -.0143956   -.0070811
     sex_enc |  -.2885901   .0194193   -14.86   0.000    -.3266512   -.2505289
     esc_rec |    .105131    .012143     8.66   0.000     .0813312    .1289308
sus_prin_mod |     .13443   .0080889    16.62   0.000      .118576     .150284
 fr_sus_prin |   .0322869   .0075331     4.29   0.000     .0175223    .0470516
 comp_biosoc |   .1938634   .0140735    13.78   0.000     .1662798    .2214469
     ten_viv |  -.0179314   .0076008    -2.36   0.018    -.0328286   -.0030342
dg_cie_10_~c |   .0216352   .0086894     2.49   0.013     .0046043    .0386661
sud_sever~10 |  -.0635654   .0190604    -3.33   0.001    -.1009231   -.0262077
   macrozone |   .2115674   .0116584    18.15   0.000     .1887172    .2344175
 policonsumo |    .104634   .0216137     4.84   0.000      .062272     .146996
   n_off_vio |   .3270068   .0185704    17.61   0.000     .2906095    .3634041
   n_off_acq |   .6661216   .0173677    38.35   0.000     .6320816    .7001616
   n_off_sud |   .2378508   .0182739    13.02   0.000     .2020346     .273667
        clas |   .0177564   .0127718     1.39   0.164    -.0072758    .0427887
motivodeeg~( |  -.1352365   .0071533   -18.91   0.000    -.1492567   -.1212164
       _cons |   -3.65832   .1094877   -33.41   0.000    -3.872912   -3.443728
------------------------------------------------------------------------------
 ***********
 family Cox tvc 2
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_2

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood = -56702.777  
Iteration 2:   log likelihood = -55115.234  
Iteration 3:   log likelihood = -54268.604  
Iteration 4:   log likelihood =   -54259.8  
Iteration 5:   log likelihood = -54259.797  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54259.797
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1009343    .010241     9.86   0.000     .0808622    .1210063
edad_al_in~t |    .003033   .0019762     1.53   0.125    -.0008403    .0069063
edad_ini_c~s |  -.0107726    .001878    -5.74   0.000    -.0144535   -.0070917
     sex_enc |  -.2882152   .0194166   -14.84   0.000     -.326271   -.2501595
     esc_rec |   .1137271   .0121882     9.33   0.000     .0898387    .1376155
sus_prin_mod |   .1345952   .0081059    16.60   0.000     .1187079    .1504825
 fr_sus_prin |   .0338583   .0075307     4.50   0.000     .0190985    .0486181
 comp_biosoc |   .1938287   .0140768    13.77   0.000     .1662386    .2214187
     ten_viv |  -.0204236   .0076025    -2.69   0.007    -.0353242    -.005523
dg_cie_10_~c |   .0221357   .0086871     2.55   0.011     .0051092    .0391622
sud_sever~10 |  -.0602248   .0190654    -3.16   0.002    -.0975924   -.0228573
   macrozone |   .2141303   .0116622    18.36   0.000     .1912729    .2369877
 policonsumo |   .0971112   .0216125     4.49   0.000     .0547514    .1394709
   n_off_vio |   .3270165   .0185615    17.62   0.000     .2906366    .3633964
   n_off_acq |   .6674092   .0173524    38.46   0.000     .6333991    .7014193
   n_off_sud |   .2315885   .0182822    12.67   0.000     .1957561     .267421
        clas |   .0185368   .0127745     1.45   0.147    -.0065008    .0435744
motivodeeg~( |  -.1824324   .0093202   -19.57   0.000    -.2006997   -.1641651
motivodeeg~( |   .0323103   .0039852     8.11   0.000     .0244995    .0401212
       _cons |  -3.904153   .1140589   -34.23   0.000    -4.127704   -3.680602
------------------------------------------------------------------------------
 ***********
 family Cox tvc 3
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_3

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood = -56695.575  
Iteration 2:   log likelihood = -55087.847  
Iteration 3:   log likelihood =   -54235.9  
Iteration 4:   log likelihood = -54227.373  
Iteration 5:   log likelihood =  -54227.37  

Survival model                                  Number of obs     =     59,755
Log likelihood =  -54227.37
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |    .092188   .0103751     8.89   0.000     .0718531    .1125229
edad_al_in~t |   .0048273    .002013     2.40   0.016     .0008818    .0087728
edad_ini_c~s |  -.0106837   .0018849    -5.67   0.000     -.014378   -.0069895
     sex_enc |  -.2872453   .0194167   -14.79   0.000    -.3253013   -.2491894
     esc_rec |   .1136764   .0121783     9.33   0.000     .0898074    .1375454
sus_prin_mod |   .1333139   .0081026    16.45   0.000     .1174331    .1491946
 fr_sus_prin |   .0332172   .0075303     4.41   0.000      .018458    .0479764
 comp_biosoc |   .1919463   .0140804    13.63   0.000     .1643493    .2195434
     ten_viv |  -.0199039   .0076002    -2.62   0.009       -.0348   -.0050079
dg_cie_10_~c |   .0217492   .0086877     2.50   0.012     .0047216    .0387769
sud_sever~10 |  -.0643015    .019071    -3.37   0.001    -.1016801    -.026923
   macrozone |   .2141508   .0116657    18.36   0.000     .1912865    .2370151
 policonsumo |   .0937422    .021581     4.34   0.000     .0514442    .1360402
   n_off_vio |   .3272607   .0185601    17.63   0.000     .2908835    .3636379
   n_off_acq |   .6682246   .0173483    38.52   0.000     .6342227    .7022266
   n_off_sud |    .235362   .0182836    12.87   0.000     .1995269    .2711972
        clas |   .0168197   .0127761     1.32   0.188     -.008221    .0418604
motivodeeg~( |  -.2041983   .0099604   -20.50   0.000    -.2237203   -.1846763
motivodeeg~( |   .0518697   .0047998    10.81   0.000     .0424623    .0612772
motivodeeg~( |   .0281031   .0033056     8.50   0.000     .0216242    .0345819
       _cons |  -3.945503   .1146559   -34.41   0.000    -4.170225   -3.720782
------------------------------------------------------------------------------
 ***********
 family Cox tvc 4
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_4

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood =  -56693.85  
Iteration 2:   log likelihood = -55086.236  
Iteration 3:   log likelihood = -54232.225  
Iteration 4:   log likelihood = -54223.601  
Iteration 5:   log likelihood = -54223.598  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54223.598
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |    .089711   .0104436     8.59   0.000      .069242      .11018
edad_al_in~t |   .0052824   .0020271     2.61   0.009     .0013093    .0092555
edad_ini_c~s |  -.0107227   .0018861    -5.69   0.000    -.0144194    -.007026
     sex_enc |  -.2868994   .0194177   -14.78   0.000    -.3249574   -.2488414
     esc_rec |   .1134713   .0121774     9.32   0.000     .0896041    .1373385
sus_prin_mod |   .1338405   .0081056    16.51   0.000     .1179539    .1497272
 fr_sus_prin |   .0333421   .0075312     4.43   0.000     .0185812     .048103
 comp_biosoc |   .1919297   .0140795    13.63   0.000     .1643345    .2195249
     ten_viv |  -.0199279    .007599    -2.62   0.009    -.0348216   -.0050341
dg_cie_10_~c |   .0216242   .0086879     2.49   0.013     .0045962    .0386523
sud_sever~10 |  -.0642498   .0190714    -3.37   0.001     -.101629   -.0268706
   macrozone |   .2141769   .0116669    18.36   0.000     .1913103    .2370436
 policonsumo |   .0928165   .0215756     4.30   0.000     .0505291    .1351039
   n_off_vio |   .3265532   .0185636    17.59   0.000     .2901692    .3629371
   n_off_acq |    .667565   .0173522    38.47   0.000     .6335553    .7015747
   n_off_sud |   .2349352    .018285    12.85   0.000     .1990972    .2707732
        clas |   .0168292   .0127768     1.32   0.188    -.0082129    .0418714
motivodeeg~( |  -.2098536   .0102836   -20.41   0.000    -.2300091   -.1896981
motivodeeg~( |   .0565728   .0052555    10.76   0.000     .0462722    .0668733
motivodeeg~( |   .0319708   .0035936     8.90   0.000     .0249275    .0390142
motivodeeg~( |    .014738   .0035554     4.15   0.000     .0077696    .0217064
       _cons |  -3.959797    .114936   -34.45   0.000    -4.185067   -3.734526
------------------------------------------------------------------------------
 ***********
 family Cox tvc 5
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_5

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood =  -56693.97  
Iteration 2:   log likelihood = -55085.073  
Iteration 3:   log likelihood = -54226.621  
Iteration 4:   log likelihood = -54218.182  
Iteration 5:   log likelihood = -54218.179  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54218.179
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0871272   .0104993     8.30   0.000     .0665489    .1077055
edad_al_in~t |   .0056928   .0020371     2.79   0.005     .0017001    .0096854
edad_ini_c~s |  -.0106892   .0018866    -5.67   0.000    -.0143867   -.0069916
     sex_enc |  -.2871824   .0194185   -14.79   0.000     -.325242   -.2491228
     esc_rec |    .113685     .01218     9.33   0.000     .0898127    .1375574
sus_prin_mod |   .1342636   .0081047    16.57   0.000     .1183787    .1501485
 fr_sus_prin |   .0335353   .0075302     4.45   0.000     .0187764    .0482941
 comp_biosoc |   .1916865   .0140788    13.62   0.000     .1640925    .2192804
     ten_viv |  -.0198618   .0075985    -2.61   0.009    -.0347546   -.0049689
dg_cie_10_~c |   .0215331    .008688     2.48   0.013      .004505    .0385613
sud_sever~10 |  -.0644605   .0190728    -3.38   0.001    -.1018424   -.0270785
   macrozone |   .2138521   .0116684    18.33   0.000     .1909824    .2367218
 policonsumo |   .0923784   .0215687     4.28   0.000     .0501046    .1346521
   n_off_vio |   .3267317   .0185636    17.60   0.000     .2903477    .3631157
   n_off_acq |   .6679922   .0173525    38.50   0.000     .6339819    .7020024
   n_off_sud |   .2347787   .0182844    12.84   0.000     .1989419    .2706155
        clas |   .0168024   .0127762     1.32   0.188    -.0082384    .0418433
motivodeeg~( |  -.2157808   .0105329   -20.49   0.000     -.236425   -.1951366
motivodeeg~( |    .061981   .0056125    11.04   0.000     .0509806    .0729813
motivodeeg~( |   .0334542   .0035026     9.55   0.000     .0265892    .0403192
motivodeeg~( |   .0215094   .0036948     5.82   0.000     .0142678     .028751
motivodeeg~( |   .0166316   .0037824     4.40   0.000     .0092183     .024045
       _cons |  -3.973654   .1151276   -34.52   0.000      -4.1993   -3.748008
------------------------------------------------------------------------------
 ***********
 family Cox tvc 6
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_6

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood = -56693.012  
Iteration 2:   log likelihood =   -55084.8  
Iteration 3:   log likelihood = -54220.197  
Iteration 4:   log likelihood = -54211.848  
Iteration 5:   log likelihood = -54211.845  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54211.845
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0846452   .0105503     8.02   0.000      .063967    .1053235
edad_al_in~t |   .0059846   .0020449     2.93   0.003     .0019767    .0099925
edad_ini_c~s |  -.0106474   .0018868    -5.64   0.000    -.0143455   -.0069492
     sex_enc |  -.2866876   .0194189   -14.76   0.000    -.3247479   -.2486273
     esc_rec |   .1138352   .0121818     9.34   0.000     .0899593    .1377112
sus_prin_mod |   .1342092   .0081058    16.56   0.000     .1183221    .1500962
 fr_sus_prin |   .0335649   .0075308     4.46   0.000     .0188048     .048325
 comp_biosoc |   .1918485   .0140789    13.63   0.000     .1642544    .2194427
     ten_viv |  -.0199086   .0075984    -2.62   0.009    -.0348012    -.005016
dg_cie_10_~c |   .0215391   .0086879     2.48   0.013     .0045111    .0385672
sud_sever~10 |  -.0639825    .019073    -3.35   0.001    -.1013649   -.0266002
   macrozone |   .2137543   .0116683    18.32   0.000     .1908849    .2366237
 policonsumo |   .0912605   .0215651     4.23   0.000     .0489936    .1335274
   n_off_vio |   .3260748   .0185646    17.56   0.000     .2896889    .3624607
   n_off_acq |   .6676957   .0173533    38.48   0.000     .6336838    .7017076
   n_off_sud |   .2340028   .0182855    12.80   0.000     .1981639    .2698416
        clas |   .0164838   .0127758     1.29   0.197    -.0085563     .041524
motivodeeg~( |  -.2208157    .010735   -20.57   0.000    -.2418559   -.1997755
motivodeeg~( |   .0666764   .0059021    11.30   0.000     .0551085    .0782442
motivodeeg~( |   .0350662   .0035133     9.98   0.000     .0281804    .0419521
motivodeeg~( |   .0251108   .0036219     6.93   0.000      .018012    .0322096
motivodeeg~( |   .0195258   .0038317     5.10   0.000     .0120158    .0270358
motivodeeg~( |    .020635   .0039661     5.20   0.000     .0128617    .0284084
       _cons |  -3.982903   .1152899   -34.55   0.000    -4.208867   -3.756939
------------------------------------------------------------------------------
 ***********
 family Cox tvc 7
 ***********
note; a delayed entry model is being fitted
variables created for model 1, component 18: _cmp_1_18_1 to _cmp_1_18_7

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood = -56692.888  
Iteration 2:   log likelihood = -55085.864  
Iteration 3:   log likelihood = -54219.776  
Iteration 4:   log likelihood = -54211.365  
Iteration 5:   log likelihood = -54211.362  

Survival model                                  Number of obs     =     59,755
Log likelihood = -54211.362
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .0837871   .0105815     7.92   0.000     .0630478    .1045264
edad_al_in~t |   .0061109   .0020489     2.98   0.003     .0020952    .0101266
edad_ini_c~s |  -.0106382    .001887    -5.64   0.000    -.0143367   -.0069396
     sex_enc |  -.2865934   .0194191   -14.76   0.000    -.3246542   -.2485327
     esc_rec |   .1138139   .0121822     9.34   0.000     .0899373    .1376906
sus_prin_mod |   .1341605   .0081058    16.55   0.000     .1182734    .1500476
 fr_sus_prin |   .0335927   .0075308     4.46   0.000     .0188326    .0483528
 comp_biosoc |   .1918313   .0140797    13.62   0.000     .1642356    .2194271
     ten_viv |  -.0199653   .0075983    -2.63   0.009    -.0348578   -.0050729
dg_cie_10_~c |   .0215171   .0086878     2.48   0.013     .0044893     .038545
sud_sever~10 |  -.0638185   .0190737    -3.35   0.001    -.1012022   -.0264349
   macrozone |   .2137991   .0116683    18.32   0.000     .1909297    .2366684
 policonsumo |   .0911724   .0215636     4.23   0.000     .0489086    .1334362
   n_off_vio |   .3259474   .0185648    17.56   0.000     .2895611    .3623338
   n_off_acq |   .6676588   .0173533    38.47   0.000     .6336469    .7016706
   n_off_sud |   .2339404   .0182855    12.79   0.000     .1981016    .2697793
        clas |   .0164805   .0127755     1.29   0.197     -.008559    .0415199
motivodeeg~( |  -.2228815    .010875   -20.49   0.000     -.244196    -.201567
motivodeeg~( |   .0685951   .0061213    11.21   0.000     .0565976    .0805925
motivodeeg~( |   .0345223   .0034649     9.96   0.000     .0277312    .0413133
motivodeeg~( |    .026954   .0036106     7.47   0.000     .0198772    .0340307
motivodeeg~( |    .018835   .0036929     5.10   0.000     .0115971    .0260729
motivodeeg~( |   .0217403   .0039464     5.51   0.000     .0140055    .0294751
motivodeeg~( |   .0170066    .004133     4.11   0.000     .0089061     .025107
       _cons |  -3.986986   .1153666   -34.56   0.000      -4.2131   -3.760871
------------------------------------------------------------------------------

. 
.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Gomp}&quot;
 family Gomp

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(gompertz)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood =  -19896900  
Iteration 1:   log likelihood = -98203.419  
Iteration 2:   log likelihood = -57949.194  
Iteration 3:   log likelihood = -54131.047  
Iteration 4:   log likelihood = -53671.948  
Iteration 5:   log likelihood = -53671.056  
Iteration 6:   log likelihood = -53671.056  

Survival model                                  Number of obs     =     59,755
Log likelihood = -53671.056
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1522604   .0097697    15.58   0.000     .1331122    .1714087
edad_al_in~t |   .0929886    .002922    31.82   0.000     .0872615    .0987157
edad_ini_c~s |  -.0079881   .0018879    -4.23   0.000    -.0116883   -.0042879
     sex_enc |  -.2793719   .0194059   -14.40   0.000    -.3174069    -.241337
     esc_rec |   .1182824   .0121481     9.74   0.000     .0944725    .1420923
sus_prin_mod |   .1292527   .0081551    15.85   0.000     .1132689    .1452365
 fr_sus_prin |     .03328   .0075421     4.41   0.000     .0184978    .0480621
 comp_biosoc |   .1903907   .0140849    13.52   0.000     .1627849    .2179965
     ten_viv |  -.0212908   .0075837    -2.81   0.005    -.0361547    -.006427
dg_cie_10_~c |   .0234054   .0087373     2.68   0.007     .0062807    .0405302
sud_sever~10 |  -.0600939   .0190742    -3.15   0.002    -.0974788   -.0227091
   macrozone |   .2047354   .0116752    17.54   0.000     .1818525    .2276183
 policonsumo |   .1217561   .0215429     5.65   0.000     .0795328    .1639793
   n_off_vio |   .2954181   .0185693    15.91   0.000      .259023    .3318132
   n_off_acq |   .6215289   .0173462    35.83   0.000      .587531    .6555268
   n_off_sud |   .2037994   .0182693    11.16   0.000     .1679923    .2396065
        clas |   .0186976   .0127576     1.47   0.143    -.0063068     .043702
       _cons |  -2.298898   .0957411   -24.01   0.000    -2.486547   -2.111249
       gamma |  -.1278994   .0028856   -44.32   0.000    -.1335551   -.1222438
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(gompertz, fail(_status)))
.         estimates store m2_1_gom

. 
.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Weibull}&quot;
 family Weibull

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(weibull)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -180456.88  
Iteration 1:   log likelihood = -56935.467  (not concave)
Iteration 2:   log likelihood =  -55409.67  
Iteration 3:   log likelihood = -54507.955  
Iteration 4:   log likelihood = -54403.145  
Iteration 5:   log likelihood = -54376.574  
Iteration 6:   log likelihood = -54345.473  
Iteration 7:   log likelihood =  -54297.79  
Iteration 8:   log likelihood =  -54274.28  
Iteration 9:   log likelihood = -54244.655  
Iteration 10:  log likelihood = -54238.253  
Iteration 11:  log likelihood = -54224.534  (not concave)
Iteration 12:  log likelihood = -54223.146  
Iteration 13:  log likelihood = -54217.837  
Iteration 14:  log likelihood = -54210.159  
Iteration 15:  log likelihood = -54201.981  
Iteration 16:  log likelihood = -54198.946  
Iteration 17:  log likelihood = -54196.143  
Iteration 18:  log likelihood = -54194.608  
Iteration 19:  log likelihood = -54192.887  
Iteration 20:  log likelihood = -54192.727  
Iteration 21:  log likelihood = -54192.704  
Iteration 22:  log likelihood = -54192.701  
Iteration 23:  log likelihood =   -54192.7  
Iteration 24:  log likelihood =   -54192.7  
Iteration 25:  log likelihood =   -54192.7  (not concave)
Iteration 26:  log likelihood =   -54192.7  (not concave)
Iteration 27:  log likelihood =   -54192.7  (not concave)
Iteration 28:  log likelihood =   -54192.7  (not concave)
Iteration 29:  log likelihood =   -54192.7  (not concave)
Iteration 30:  log likelihood =   -54192.7  (not concave)
Iteration 31:  log likelihood =   -54192.7  (not concave)
Iteration 32:  log likelihood =   -54192.7  (not concave)
Iteration 33:  log likelihood =   -54192.7  (not concave)
Iteration 34:  log likelihood =   -54192.7  (not concave)
Iteration 35:  log likelihood =   -54192.7  (not concave)
Iteration 36:  log likelihood =   -54192.7  (not concave)
Iteration 37:  log likelihood =   -54192.7  (not concave)
Iteration 38:  log likelihood =   -54192.7  (not concave)
Iteration 39:  log likelihood =   -54192.7  (not concave)
Iteration 40:  log likelihood =   -54192.7  (not concave)
Iteration 41:  log likelihood =   -54192.7  (not concave)
Iteration 42:  log likelihood =   -54192.7  (not concave)
Iteration 43:  log likelihood =   -54192.7  (not concave)
Iteration 44:  log likelihood =   -54192.7  (not concave)
Iteration 45:  log likelihood =   -54192.7  (not concave)
Iteration 46:  log likelihood =   -54192.7  (not concave)
Iteration 47:  log likelihood =   -54192.7  (not concave)
Iteration 48:  log likelihood =   -54192.7  (not concave)
Iteration 49:  log likelihood =   -54192.7  (not concave)
Iteration 50:  log likelihood =   -54192.7  (not concave)
Iteration 51:  log likelihood =   -54192.7  (not concave)
Iteration 52:  log likelihood =   -54192.7  (not concave)
Iteration 53:  log likelihood =   -54192.7  (not concave)
Iteration 54:  log likelihood =   -54192.7  (not concave)
Iteration 55:  log likelihood =   -54192.7  (not concave)
Iteration 56:  log likelihood =   -54192.7  (not concave)
Iteration 57:  log likelihood =   -54192.7  (not concave)
Iteration 58:  log likelihood =   -54192.7  (not concave)
Iteration 59:  log likelihood =   -54192.7  (not concave)
Iteration 60:  log likelihood =   -54192.7  (not concave)
Iteration 61:  log likelihood =   -54192.7  (not concave)
Iteration 62:  log likelihood =   -54192.7  (not concave)
Iteration 63:  log likelihood =   -54192.7  (not concave)
Iteration 64:  log likelihood =   -54192.7  (not concave)
Iteration 65:  log likelihood =   -54192.7  (not concave)
Iteration 66:  log likelihood =   -54192.7  (not concave)
Iteration 67:  log likelihood =   -54192.7  (not concave)
Iteration 68:  log likelihood =   -54192.7  (not concave)
Iteration 69:  log likelihood =   -54192.7  (not concave)
Iteration 70:  log likelihood =   -54192.7  (not concave)
Iteration 71:  log likelihood =   -54192.7  (not concave)
Iteration 72:  log likelihood =   -54192.7  (not concave)
Iteration 73:  log likelihood =   -54192.7  (not concave)
Iteration 74:  log likelihood =   -54192.7  (not concave)
Iteration 75:  log likelihood =   -54192.7  (not concave)
Iteration 76:  log likelihood =   -54192.7  (not concave)
Iteration 77:  log likelihood =   -54192.7  (not concave)
Iteration 78:  log likelihood =   -54192.7  (not concave)
Iteration 79:  log likelihood =   -54192.7  (not concave)
Iteration 80:  log likelihood =   -54192.7  (not concave)
Iteration 81:  log likelihood =   -54192.7  (not concave)
Iteration 82:  log likelihood =   -54192.7  (not concave)
Iteration 83:  log likelihood =   -54192.7  (not concave)
Iteration 84:  log likelihood =   -54192.7  (not concave)
Iteration 85:  log likelihood =   -54192.7  (not concave)
Iteration 86:  log likelihood =   -54192.7  (not concave)
Iteration 87:  log likelihood =   -54192.7  (not concave)
Iteration 88:  log likelihood =   -54192.7  (not concave)
Iteration 89:  log likelihood =   -54192.7  (not concave)
Iteration 90:  log likelihood =   -54192.7  (not concave)
Iteration 91:  log likelihood =   -54192.7  (not concave)
Iteration 92:  log likelihood =   -54192.7  (not concave)
Iteration 93:  log likelihood =   -54192.7  (not concave)
Iteration 94:  log likelihood =   -54192.7  (not concave)
Iteration 95:  log likelihood =   -54192.7  (not concave)
Iteration 96:  log likelihood =   -54192.7  (not concave)
Iteration 97:  log likelihood =   -54192.7  (not concave)
Iteration 98:  log likelihood =   -54192.7  (not concave)
Iteration 99:  log likelihood =   -54192.7  (not concave)
Iteration 100: log likelihood =   -54192.7  (not concave)
Iteration 101: log likelihood =   -54192.7  (not concave)
Iteration 102: log likelihood =   -54192.7  (not concave)
Iteration 103: log likelihood =   -54192.7  (not concave)
Iteration 104: log likelihood =   -54192.7  (not concave)
Iteration 105: log likelihood =   -54192.7  (not concave)
Iteration 106: log likelihood =   -54192.7  (not concave)
Iteration 107: log likelihood =   -54192.7  (not concave)
Iteration 108: log likelihood =   -54192.7  (not concave)
Iteration 109: log likelihood =   -54192.7  (not concave)
Iteration 110: log likelihood =   -54192.7  (not concave)
Iteration 111: log likelihood =   -54192.7  (not concave)
Iteration 112: log likelihood =   -54192.7  (not concave)
Iteration 113: log likelihood =   -54192.7  (not concave)
Iteration 114: log likelihood =   -54192.7  (not concave)
Iteration 115: log likelihood =   -54192.7  (not concave)
Iteration 116: log likelihood =   -54192.7  (not concave)
Iteration 117: log likelihood =   -54192.7  (not concave)
Iteration 118: log likelihood =   -54192.7  (not concave)
Iteration 119: log likelihood =   -54192.7  (not concave)
Iteration 120: log likelihood =   -54192.7  (not concave)
Iteration 121: log likelihood =   -54192.7  (not concave)
Iteration 122: log likelihood =   -54192.7  (not concave)
Iteration 123: log likelihood =   -54192.7  (not concave)
Iteration 124: log likelihood =   -54192.7  (not concave)
Iteration 125: log likelihood =   -54192.7  (not concave)
Iteration 126: log likelihood =   -54192.7  (not concave)
Iteration 127: log likelihood =   -54192.7  (not concave)
Iteration 128: log likelihood =   -54192.7  (not concave)
Iteration 129: log likelihood =   -54192.7  (not concave)
Iteration 130: log likelihood =   -54192.7  (not concave)
Iteration 131: log likelihood =   -54192.7  (not concave)
Iteration 132: log likelihood =   -54192.7  (not concave)
Iteration 133: log likelihood =   -54192.7  (not concave)
Iteration 134: log likelihood =   -54192.7  (not concave)
Iteration 135: log likelihood =   -54192.7  (not concave)
Iteration 136: log likelihood =   -54192.7  (not concave)
Iteration 137: log likelihood =   -54192.7  (not concave)
Iteration 138: log likelihood =   -54192.7  (not concave)
Iteration 139: log likelihood =   -54192.7  (not concave)
Iteration 140: log likelihood =   -54192.7  (not concave)
Iteration 141: log likelihood =   -54192.7  (not concave)
Iteration 142: log likelihood =   -54192.7  (not concave)
Iteration 143: log likelihood =   -54192.7  (not concave)
Iteration 144: log likelihood =   -54192.7  (not concave)
Iteration 145: log likelihood =   -54192.7  (not concave)
Iteration 146: log likelihood =   -54192.7  (not concave)
Iteration 147: log likelihood =   -54192.7  (not concave)
Iteration 148: log likelihood =   -54192.7  (not concave)
Iteration 149: log likelihood =   -54192.7  (not concave)
Iteration 150: log likelihood =   -54192.7  (not concave)
Iteration 151: log likelihood =   -54192.7  (not concave)
Iteration 152: log likelihood =   -54192.7  (not concave)
Iteration 153: log likelihood =   -54192.7  (not concave)
Iteration 154: log likelihood =   -54192.7  (not concave)
Iteration 155: log likelihood =   -54192.7  (not concave)
Iteration 156: log likelihood =   -54192.7  (not concave)
Iteration 157: log likelihood =   -54192.7  (not concave)
Iteration 158: log likelihood =   -54192.7  (not concave)
Iteration 159: log likelihood =   -54192.7  (not concave)
Iteration 160: log likelihood =   -54192.7  (not concave)
Iteration 161: log likelihood =   -54192.7  (not concave)
Iteration 162: log likelihood =   -54192.7  (not concave)
Iteration 163: log likelihood =   -54192.7  (not concave)
Iteration 164: log likelihood =   -54192.7  (not concave)
Iteration 165: log likelihood =   -54192.7  (not concave)
Iteration 166: log likelihood =   -54192.7  (not concave)
Iteration 167: log likelihood =   -54192.7  (not concave)
Iteration 168: log likelihood =   -54192.7  (not concave)
Iteration 169: log likelihood =   -54192.7  (not concave)
Iteration 170: log likelihood =   -54192.7  (not concave)
Iteration 171: log likelihood =   -54192.7  (not concave)
Iteration 172: log likelihood =   -54192.7  (not concave)
Iteration 173: log likelihood =   -54192.7  (not concave)
Iteration 174: log likelihood =   -54192.7  (not concave)
Iteration 175: log likelihood =   -54192.7  (not concave)
Iteration 176: log likelihood =   -54192.7  (not concave)
Iteration 177: log likelihood =   -54192.7  (not concave)
Iteration 178: log likelihood =   -54192.7  (not concave)
Iteration 179: log likelihood =   -54192.7  (not concave)
Iteration 180: log likelihood =   -54192.7  (not concave)
Iteration 181: log likelihood =   -54192.7  (not concave)
Iteration 182: log likelihood =   -54192.7  (not concave)
Iteration 183: log likelihood =   -54192.7  (not concave)
Iteration 184: log likelihood =   -54192.7  (not concave)
Iteration 185: log likelihood =   -54192.7  (not concave)
Iteration 186: log likelihood =   -54192.7  (not concave)
Iteration 187: log likelihood =   -54192.7  (not concave)
Iteration 188: log likelihood =   -54192.7  (not concave)
Iteration 189: log likelihood =   -54192.7  (not concave)
Iteration 190: log likelihood =   -54192.7  (not concave)
Iteration 191: log likelihood =   -54192.7  (not concave)
Iteration 192: log likelihood =   -54192.7  (not concave)
Iteration 193: log likelihood =   -54192.7  (not concave)
Iteration 194: log likelihood =   -54192.7  (not concave)
Iteration 195: log likelihood =   -54192.7  (not concave)
Iteration 196: log likelihood =   -54192.7  (not concave)
Iteration 197: log likelihood =   -54192.7  (not concave)
Iteration 198: log likelihood =   -54192.7  (not concave)
Iteration 199: log likelihood =   -54192.7  (not concave)
Iteration 200: log likelihood =   -54192.7  (not concave)
Iteration 201: log likelihood =   -54192.7  (not concave)
Iteration 202: log likelihood =   -54192.7  (not concave)
Iteration 203: log likelihood =   -54192.7  (not concave)
Iteration 204: log likelihood =   -54192.7  (not concave)
Iteration 205: log likelihood =   -54192.7  (not concave)
Iteration 206: log likelihood =   -54192.7  (not concave)
Iteration 207: log likelihood =   -54192.7  (not concave)
Iteration 208: log likelihood =   -54192.7  (not concave)
Iteration 209: log likelihood =   -54192.7  (not concave)
Iteration 210: log likelihood =   -54192.7  (not concave)
Iteration 211: log likelihood =   -54192.7  (not concave)
Iteration 212: log likelihood =   -54192.7  (not concave)
Iteration 213: log likelihood =   -54192.7  (not concave)
Iteration 214: log likelihood =   -54192.7  (not concave)
Iteration 215: log likelihood =   -54192.7  (not concave)
Iteration 216: log likelihood =   -54192.7  (not concave)
Iteration 217: log likelihood =   -54192.7  (not concave)
Iteration 218: log likelihood =   -54192.7  (not concave)
Iteration 219: log likelihood =   -54192.7  (not concave)
Iteration 220: log likelihood =   -54192.7  (not concave)
Iteration 221: log likelihood =   -54192.7  (not concave)
Iteration 222: log likelihood =   -54192.7  (not concave)
Iteration 223: log likelihood =   -54192.7  (not concave)
Iteration 224: log likelihood =   -54192.7  (not concave)
Iteration 225: log likelihood =   -54192.7  (not concave)
Iteration 226: log likelihood =   -54192.7  (not concave)
Iteration 227: log likelihood =   -54192.7  (not concave)
Iteration 228: log likelihood =   -54192.7  (not concave)
Iteration 229: log likelihood =   -54192.7  (not concave)
Iteration 230: log likelihood =   -54192.7  (not concave)
Iteration 231: log likelihood =   -54192.7  (not concave)
Iteration 232: log likelihood =   -54192.7  (not concave)
Iteration 233: log likelihood =   -54192.7  (not concave)
Iteration 234: log likelihood =   -54192.7  (not concave)
Iteration 235: log likelihood =   -54192.7  (not concave)
Iteration 236: log likelihood =   -54192.7  (not concave)
Iteration 237: log likelihood =   -54192.7  (not concave)
Iteration 238: log likelihood =   -54192.7  (not concave)
Iteration 239: log likelihood =   -54192.7  (not concave)
Iteration 240: log likelihood =   -54192.7  (not concave)
Iteration 241: log likelihood =   -54192.7  (not concave)
Iteration 242: log likelihood =   -54192.7  (not concave)
Iteration 243: log likelihood =   -54192.7  (not concave)
Iteration 244: log likelihood =   -54192.7  (not concave)
Iteration 245: log likelihood =   -54192.7  (not concave)
Iteration 246: log likelihood =   -54192.7  (not concave)
Iteration 247: log likelihood =   -54192.7  (not concave)
Iteration 248: log likelihood =   -54192.7  (not concave)
Iteration 249: log likelihood =   -54192.7  (not concave)
Iteration 250: log likelihood =   -54192.7  (not concave)
Iteration 251: log likelihood =   -54192.7  (not concave)
Iteration 252: log likelihood =   -54192.7  (not concave)
Iteration 253: log likelihood =   -54192.7  (not concave)
Iteration 254: log likelihood =   -54192.7  (not concave)
Iteration 255: log likelihood =   -54192.7  (not concave)
Iteration 256: log likelihood =   -54192.7  (not concave)
Iteration 257: log likelihood =   -54192.7  (not concave)
Iteration 258: log likelihood =   -54192.7  (not concave)
Iteration 259: log likelihood =   -54192.7  (not concave)
Iteration 260: log likelihood =   -54192.7  (not concave)
Iteration 261: log likelihood =   -54192.7  (not concave)
Iteration 262: log likelihood =   -54192.7  (not concave)
Iteration 263: log likelihood =   -54192.7  (not concave)
Iteration 264: log likelihood =   -54192.7  (not concave)
Iteration 265: log likelihood =   -54192.7  (not concave)
Iteration 266: log likelihood =   -54192.7  (not concave)
Iteration 267: log likelihood =   -54192.7  (not concave)
Iteration 268: log likelihood =   -54192.7  (not concave)
Iteration 269: log likelihood =   -54192.7  (not concave)
Iteration 270: log likelihood =   -54192.7  (not concave)
Iteration 271: log likelihood =   -54192.7  (not concave)
Iteration 272: log likelihood =   -54192.7  (not concave)
Iteration 273: log likelihood =   -54192.7  (not concave)
Iteration 274: log likelihood =   -54192.7  (not concave)
Iteration 275: log likelihood =   -54192.7  (not concave)
Iteration 276: log likelihood =   -54192.7  (not concave)
Iteration 277: log likelihood =   -54192.7  (not concave)
Iteration 278: log likelihood =   -54192.7  (not concave)
Iteration 279: log likelihood =   -54192.7  (not concave)
Iteration 280: log likelihood =   -54192.7  (not concave)
Iteration 281: log likelihood =   -54192.7  (not concave)
Iteration 282: log likelihood =   -54192.7  (not concave)
Iteration 283: log likelihood =   -54192.7  (not concave)
Iteration 284: log likelihood =   -54192.7  (not concave)
Iteration 285: log likelihood =   -54192.7  (not concave)
Iteration 286: log likelihood =   -54192.7  (not concave)
Iteration 287: log likelihood =   -54192.7  (not concave)
Iteration 288: log likelihood =   -54192.7  (not concave)
Iteration 289: log likelihood =   -54192.7  (not concave)
Iteration 290: log likelihood =   -54192.7  (not concave)
Iteration 291: log likelihood =   -54192.7  (not concave)
Iteration 292: log likelihood =   -54192.7  (not concave)
Iteration 293: log likelihood =   -54192.7  (not concave)
Iteration 294: log likelihood =   -54192.7  (not concave)
Iteration 295: log likelihood =   -54192.7  (not concave)
Iteration 296: log likelihood =   -54192.7  (not concave)
Iteration 297: log likelihood =   -54192.7  (not concave)
Iteration 298: log likelihood =   -54192.7  (not concave)
Iteration 299: log likelihood =   -54192.7  (not concave)
Iteration 300: log likelihood =   -54192.7  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     59,755
Log likelihood =   -54192.7
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1564269   .0096938    16.14   0.000     .1374274    .1754264
edad_al_in~t |  -.0060648   .0009133    -6.64   0.000    -.0078547   -.0042749
edad_ini_c~s |  -.0105325   .0018724    -5.63   0.000    -.0142024   -.0068627
     sex_enc |  -.2876607   .0194158   -14.82   0.000    -.3257151   -.2496064
     esc_rec |   .1079955   .0121331     8.90   0.000     .0842151    .1317759
sus_prin_mod |   .1343468   .0080941    16.60   0.000     .1184827     .150211
 fr_sus_prin |   .0324402   .0075356     4.30   0.000     .0176708    .0472097
 comp_biosoc |   .1920534   .0140658    13.65   0.000      .164485    .2196218
     ten_viv |  -.0184058   .0075967    -2.42   0.015     -.033295   -.0035166
dg_cie_10_~c |   .0208701   .0087044     2.40   0.017     .0038097    .0379304
sud_sever~10 |  -.0628958   .0190557    -3.30   0.001    -.1002442   -.0255474
   macrozone |   .2127158    .011657    18.25   0.000     .1898684    .2355631
 policonsumo |    .100443    .021546     4.66   0.000     .0582136    .1426725
   n_off_vio |   .3298598   .0185491    17.78   0.000     .2935042    .3662155
   n_off_acq |   .6679846   .0173201    38.57   0.000     .6340379    .7019313
   n_off_sud |   .2379312   .0182703    13.02   0.000      .202122    .2737404
        clas |   .0158592   .0127706     1.24   0.214    -.0091708    .0408892
       _cons |   16.99112          .        .       .            .           .
  log(gamma) |   -16.9988   .0950559  -178.83   0.000     -17.1851   -16.81249
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(gompertz, fail(_status)))
.         estimates store m2_1_wei

.         
.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Logl}&quot;
 family Logl

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(loglogistic)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -66887.868  
Iteration 1:   log likelihood =  -58817.63  
Iteration 2:   log likelihood = -56662.165  (not concave)
Iteration 3:   log likelihood = -56264.347  (not concave)
Iteration 4:   log likelihood = -55934.169  (not concave)
Iteration 5:   log likelihood = -55802.342  (not concave)
Iteration 6:   log likelihood = -55758.654  (not concave)
Iteration 7:   log likelihood = -55734.508  (not concave)
Iteration 8:   log likelihood = -55674.677  (not concave)
Iteration 9:   log likelihood = -55655.594  (not concave)
Iteration 10:  log likelihood = -55639.175  (not concave)
Iteration 11:  log likelihood = -55628.111  (not concave)
Iteration 12:  log likelihood = -55616.921  (not concave)
Iteration 13:  log likelihood = -55519.353  (not concave)
Iteration 14:  log likelihood = -55518.917  (not concave)
Iteration 15:  log likelihood = -55518.917  (not concave)
Iteration 16:  log likelihood = -55477.188  (not concave)
Iteration 17:  log likelihood = -55477.188  (not concave)
Iteration 18:  log likelihood = -55477.188  (not concave)
Iteration 19:  log likelihood = -55477.188  (not concave)
Iteration 20:  log likelihood = -55477.188  (not concave)
Iteration 21:  log likelihood = -55477.188  (not concave)
Iteration 22:  log likelihood = -55477.188  (not concave)
Iteration 23:  log likelihood = -55477.188  (not concave)
Iteration 24:  log likelihood = -55477.188  (not concave)
Iteration 25:  log likelihood = -55477.188  (not concave)
Iteration 26:  log likelihood = -55477.188  (not concave)
Iteration 27:  log likelihood = -55477.188  (not concave)
Iteration 28:  log likelihood = -55477.188  (not concave)
Iteration 29:  log likelihood = -55477.188  (not concave)
Iteration 30:  log likelihood = -55477.188  (not concave)
Iteration 31:  log likelihood = -55477.188  (not concave)
Iteration 32:  log likelihood = -55477.188  (not concave)
Iteration 33:  log likelihood = -55477.188  (not concave)
Iteration 34:  log likelihood = -55477.188  (not concave)
Iteration 35:  log likelihood = -55477.188  (not concave)
Iteration 36:  log likelihood = -55477.188  (not concave)
Iteration 37:  log likelihood = -55477.188  (not concave)
Iteration 38:  log likelihood = -55477.188  (not concave)
Iteration 39:  log likelihood = -55477.188  (not concave)
Iteration 40:  log likelihood = -55477.188  (not concave)
Iteration 41:  log likelihood = -55477.188  (not concave)
Iteration 42:  log likelihood = -55477.188  (not concave)
Iteration 43:  log likelihood = -55477.188  (not concave)
Iteration 44:  log likelihood = -55477.188  (not concave)
Iteration 45:  log likelihood = -55477.188  (not concave)
Iteration 46:  log likelihood = -55477.188  (not concave)
Iteration 47:  log likelihood = -55477.188  (not concave)
Iteration 48:  log likelihood = -55477.188  (not concave)
Iteration 49:  log likelihood = -55477.188  (not concave)
Iteration 50:  log likelihood = -55477.188  (not concave)
Iteration 51:  log likelihood = -55477.188  (not concave)
Iteration 52:  log likelihood = -55477.188  (not concave)
Iteration 53:  log likelihood = -55477.188  (not concave)
Iteration 54:  log likelihood = -55477.188  (not concave)
Iteration 55:  log likelihood = -55477.188  (not concave)
Iteration 56:  log likelihood = -55477.188  (not concave)
Iteration 57:  log likelihood = -55477.188  (not concave)
Iteration 58:  log likelihood = -55477.188  (not concave)
Iteration 59:  log likelihood = -55477.188  (not concave)
Iteration 60:  log likelihood = -55477.188  (not concave)
Iteration 61:  log likelihood = -55477.188  (not concave)
Iteration 62:  log likelihood = -55477.188  (not concave)
Iteration 63:  log likelihood = -55477.188  (not concave)
Iteration 64:  log likelihood = -55477.188  (not concave)
Iteration 65:  log likelihood = -55477.188  (not concave)
Iteration 66:  log likelihood = -55477.188  (not concave)
Iteration 67:  log likelihood = -55477.188  (not concave)
Iteration 68:  log likelihood = -55477.188  (not concave)
Iteration 69:  log likelihood = -55477.188  (not concave)
Iteration 70:  log likelihood = -55477.188  (not concave)
Iteration 71:  log likelihood = -55477.188  (not concave)
Iteration 72:  log likelihood = -55477.188  (not concave)
Iteration 73:  log likelihood = -55477.188  (not concave)
Iteration 74:  log likelihood = -55477.188  (not concave)
Iteration 75:  log likelihood = -55477.188  (not concave)
Iteration 76:  log likelihood = -55477.188  (not concave)
Iteration 77:  log likelihood = -55477.188  (not concave)
Iteration 78:  log likelihood = -55477.188  (not concave)
Iteration 79:  log likelihood = -55477.188  (not concave)
Iteration 80:  log likelihood = -55477.188  (not concave)
Iteration 81:  log likelihood = -55477.188  (not concave)
Iteration 82:  log likelihood = -55477.188  (not concave)
Iteration 83:  log likelihood = -55477.188  (not concave)
Iteration 84:  log likelihood = -55477.188  (not concave)
Iteration 85:  log likelihood = -55477.188  (not concave)
Iteration 86:  log likelihood = -55477.188  (not concave)
Iteration 87:  log likelihood = -55477.188  (not concave)
Iteration 88:  log likelihood = -55477.188  (not concave)
Iteration 89:  log likelihood = -55477.188  (not concave)
Iteration 90:  log likelihood = -55477.188  (not concave)
Iteration 91:  log likelihood = -55477.188  (not concave)
Iteration 92:  log likelihood = -55477.188  (not concave)
Iteration 93:  log likelihood = -55477.188  (not concave)
Iteration 94:  log likelihood = -55477.188  (not concave)
Iteration 95:  log likelihood = -55477.188  (not concave)
Iteration 96:  log likelihood = -55477.188  (not concave)
Iteration 97:  log likelihood = -55477.188  (not concave)
Iteration 98:  log likelihood = -55477.188  (not concave)
Iteration 99:  log likelihood = -55477.188  (not concave)
Iteration 100: log likelihood = -55477.188  (not concave)
Iteration 101: log likelihood = -55477.188  (not concave)
Iteration 102: log likelihood = -55477.188  (not concave)
Iteration 103: log likelihood = -55477.188  (not concave)
Iteration 104: log likelihood = -55477.188  (not concave)
Iteration 105: log likelihood = -55477.188  (not concave)
Iteration 106: log likelihood = -55477.188  (not concave)
Iteration 107: log likelihood = -55477.188  (not concave)
Iteration 108: log likelihood = -55477.188  (not concave)
Iteration 109: log likelihood = -55477.188  (not concave)
Iteration 110: log likelihood = -55477.188  (not concave)
Iteration 111: log likelihood = -55477.188  (not concave)
Iteration 112: log likelihood = -55477.188  (not concave)
Iteration 113: log likelihood = -55477.188  (not concave)
Iteration 114: log likelihood = -55477.188  (not concave)
Iteration 115: log likelihood = -55477.188  (not concave)
Iteration 116: log likelihood = -55477.188  (not concave)
Iteration 117: log likelihood = -55477.188  (not concave)
Iteration 118: log likelihood = -55477.188  (not concave)
Iteration 119: log likelihood = -55477.188  (not concave)
Iteration 120: log likelihood = -55477.188  (not concave)
Iteration 121: log likelihood = -55477.188  (not concave)
Iteration 122: log likelihood = -55477.188  (not concave)
Iteration 123: log likelihood = -55477.188  (not concave)
Iteration 124: log likelihood = -55477.188  (not concave)
Iteration 125: log likelihood = -55477.188  (not concave)
Iteration 126: log likelihood = -55477.188  (not concave)
Iteration 127: log likelihood = -55477.188  (not concave)
Iteration 128: log likelihood = -55477.188  (not concave)
Iteration 129: log likelihood = -55477.188  (not concave)
Iteration 130: log likelihood = -55477.188  (not concave)
Iteration 131: log likelihood = -55477.188  (not concave)
Iteration 132: log likelihood = -55477.188  (not concave)
Iteration 133: log likelihood = -55477.188  (not concave)
Iteration 134: log likelihood = -55477.188  (not concave)
Iteration 135: log likelihood = -55477.188  (not concave)
Iteration 136: log likelihood = -55477.188  (not concave)
Iteration 137: log likelihood = -55477.188  (not concave)
Iteration 138: log likelihood = -55477.188  (not concave)
Iteration 139: log likelihood = -55477.188  (not concave)
Iteration 140: log likelihood = -55477.188  (not concave)
Iteration 141: log likelihood = -55477.188  (not concave)
Iteration 142: log likelihood = -55477.188  (not concave)
Iteration 143: log likelihood = -55477.188  (not concave)
Iteration 144: log likelihood = -55477.188  (not concave)
Iteration 145: log likelihood = -55477.188  (not concave)
Iteration 146: log likelihood = -55477.188  (not concave)
Iteration 147: log likelihood = -55477.188  (not concave)
Iteration 148: log likelihood = -55477.188  (not concave)
Iteration 149: log likelihood = -55477.188  (not concave)
Iteration 150: log likelihood = -55477.188  (not concave)
Iteration 151: log likelihood = -55477.188  (not concave)
Iteration 152: log likelihood = -55477.188  (not concave)
Iteration 153: log likelihood = -55477.188  (not concave)
Iteration 154: log likelihood = -55477.188  (not concave)
Iteration 155: log likelihood = -55477.188  (not concave)
Iteration 156: log likelihood = -55477.188  (not concave)
Iteration 157: log likelihood = -55477.188  (not concave)
Iteration 158: log likelihood = -55477.188  (not concave)
Iteration 159: log likelihood = -55477.188  (not concave)
Iteration 160: log likelihood = -55477.188  (not concave)
Iteration 161: log likelihood = -55477.188  (not concave)
Iteration 162: log likelihood = -55477.188  (not concave)
Iteration 163: log likelihood = -55477.188  (not concave)
Iteration 164: log likelihood = -55477.188  (not concave)
Iteration 165: log likelihood = -55477.188  (not concave)
Iteration 166: log likelihood = -55477.188  (not concave)
Iteration 167: log likelihood = -55477.188  (not concave)
Iteration 168: log likelihood = -55477.188  (not concave)
Iteration 169: log likelihood = -55477.188  (not concave)
Iteration 170: log likelihood = -55477.188  (not concave)
Iteration 171: log likelihood = -55477.188  (not concave)
Iteration 172: log likelihood = -55477.188  (not concave)
Iteration 173: log likelihood = -55477.188  (not concave)
Iteration 174: log likelihood = -55477.188  (not concave)
Iteration 175: log likelihood = -55477.188  (not concave)
Iteration 176: log likelihood = -55477.188  (not concave)
Iteration 177: log likelihood = -55477.188  (not concave)
Iteration 178: log likelihood = -55477.188  (not concave)
Iteration 179: log likelihood = -55477.188  (not concave)
Iteration 180: log likelihood = -55477.188  (not concave)
Iteration 181: log likelihood = -55477.188  (not concave)
Iteration 182: log likelihood = -55477.188  (not concave)
Iteration 183: log likelihood = -55477.188  (not concave)
Iteration 184: log likelihood = -55477.188  (not concave)
Iteration 185: log likelihood = -55477.188  (not concave)
Iteration 186: log likelihood = -55477.188  (not concave)
Iteration 187: log likelihood = -55477.188  (not concave)
Iteration 188: log likelihood = -55477.188  (not concave)
Iteration 189: log likelihood = -55477.188  (not concave)
Iteration 190: log likelihood = -55477.188  (not concave)
Iteration 191: log likelihood = -55477.188  (not concave)
Iteration 192: log likelihood = -55477.188  (not concave)
Iteration 193: log likelihood = -55477.188  (not concave)
Iteration 194: log likelihood = -55477.188  (not concave)
Iteration 195: log likelihood = -55477.188  (not concave)
Iteration 196: log likelihood = -55477.188  (not concave)
Iteration 197: log likelihood = -55477.188  (not concave)
Iteration 198: log likelihood = -55477.188  (not concave)
Iteration 199: log likelihood = -55477.188  (not concave)
Iteration 200: log likelihood = -55477.188  (not concave)
Iteration 201: log likelihood = -55477.188  (not concave)
Iteration 202: log likelihood = -55477.188  (not concave)
Iteration 203: log likelihood = -55477.188  (not concave)
Iteration 204: log likelihood = -55477.188  (not concave)
Iteration 205: log likelihood = -55477.188  (not concave)
Iteration 206: log likelihood = -55477.188  (not concave)
Iteration 207: log likelihood = -55477.188  (not concave)
Iteration 208: log likelihood = -55477.188  (not concave)
Iteration 209: log likelihood = -55477.188  (not concave)
Iteration 210: log likelihood = -55477.188  (not concave)
Iteration 211: log likelihood = -55477.188  (not concave)
Iteration 212: log likelihood = -55477.188  (not concave)
Iteration 213: log likelihood = -55477.188  (not concave)
Iteration 214: log likelihood = -55477.188  (not concave)
Iteration 215: log likelihood = -55477.188  (not concave)
Iteration 216: log likelihood = -55477.188  (not concave)
Iteration 217: log likelihood = -55477.188  (not concave)
Iteration 218: log likelihood = -55477.188  (not concave)
Iteration 219: log likelihood = -55477.188  (not concave)
Iteration 220: log likelihood = -55477.188  (not concave)
Iteration 221: log likelihood = -55477.188  (not concave)
Iteration 222: log likelihood = -55477.188  (not concave)
Iteration 223: log likelihood = -55477.188  (not concave)
Iteration 224: log likelihood = -55477.188  (not concave)
Iteration 225: log likelihood = -55477.188  (not concave)
Iteration 226: log likelihood = -55477.188  (not concave)
Iteration 227: log likelihood = -55477.188  (not concave)
Iteration 228: log likelihood = -55477.188  (not concave)
Iteration 229: log likelihood = -55477.188  (not concave)
Iteration 230: log likelihood = -55477.188  (not concave)
Iteration 231: log likelihood = -55477.188  (not concave)
Iteration 232: log likelihood = -55477.188  (not concave)
Iteration 233: log likelihood = -55477.188  (not concave)
Iteration 234: log likelihood = -55477.188  (not concave)
Iteration 235: log likelihood = -55477.188  (not concave)
Iteration 236: log likelihood = -55477.188  (not concave)
Iteration 237: log likelihood = -55477.188  (not concave)
Iteration 238: log likelihood = -55477.188  (not concave)
Iteration 239: log likelihood = -55477.188  (not concave)
Iteration 240: log likelihood = -55477.188  (not concave)
Iteration 241: log likelihood = -55477.188  (not concave)
Iteration 242: log likelihood = -55477.188  (not concave)
Iteration 243: log likelihood = -55477.188  (not concave)
Iteration 244: log likelihood = -55477.188  (not concave)
Iteration 245: log likelihood = -55477.188  (not concave)
Iteration 246: log likelihood = -55477.188  (not concave)
Iteration 247: log likelihood = -55477.188  (not concave)
Iteration 248: log likelihood = -55477.188  (not concave)
Iteration 249: log likelihood = -55477.188  (not concave)
Iteration 250: log likelihood = -55477.188  (not concave)
Iteration 251: log likelihood = -55477.188  (not concave)
Iteration 252: log likelihood = -55477.188  (not concave)
Iteration 253: log likelihood = -55477.188  (not concave)
Iteration 254: log likelihood = -55477.188  (not concave)
Iteration 255: log likelihood = -55477.188  (not concave)
Iteration 256: log likelihood = -55477.188  (not concave)
Iteration 257: log likelihood = -55477.188  (not concave)
Iteration 258: log likelihood = -55477.188  (not concave)
Iteration 259: log likelihood = -55477.188  (not concave)
Iteration 260: log likelihood = -55477.188  (not concave)
Iteration 261: log likelihood = -55477.188  (not concave)
Iteration 262: log likelihood = -55477.188  (not concave)
Iteration 263: log likelihood = -55477.188  (not concave)
Iteration 264: log likelihood = -55477.188  (not concave)
Iteration 265: log likelihood = -55477.188  (not concave)
Iteration 266: log likelihood = -55477.188  (not concave)
Iteration 267: log likelihood = -55477.188  (not concave)
Iteration 268: log likelihood = -55477.188  (not concave)
Iteration 269: log likelihood = -55477.188  (not concave)
Iteration 270: log likelihood = -55477.188  (not concave)
Iteration 271: log likelihood = -55477.188  (not concave)
Iteration 272: log likelihood = -55477.188  (not concave)
Iteration 273: log likelihood = -55477.188  (not concave)
Iteration 274: log likelihood = -55477.188  (not concave)
Iteration 275: log likelihood = -55477.188  (not concave)
Iteration 276: log likelihood = -55477.188  (not concave)
Iteration 277: log likelihood = -55477.188  (not concave)
Iteration 278: log likelihood = -55477.188  (not concave)
Iteration 279: log likelihood = -55477.188  (not concave)
Iteration 280: log likelihood = -55477.188  (not concave)
Iteration 281: log likelihood = -55477.188  (not concave)
Iteration 282: log likelihood = -55477.188  (not concave)
Iteration 283: log likelihood = -55477.188  (not concave)
Iteration 284: log likelihood = -55477.188  (not concave)
Iteration 285: log likelihood = -55477.188  (not concave)
Iteration 286: log likelihood = -55477.188  (not concave)
Iteration 287: log likelihood = -55477.188  (not concave)
Iteration 288: log likelihood = -55477.188  (not concave)
Iteration 289: log likelihood = -55477.188  (not concave)
Iteration 290: log likelihood = -55477.188  (not concave)
Iteration 291: log likelihood = -55477.188  (not concave)
Iteration 292: log likelihood = -55477.188  (not concave)
Iteration 293: log likelihood = -55477.188  (not concave)
Iteration 294: log likelihood = -55477.188  (not concave)
Iteration 295: log likelihood = -55477.188  (not concave)
Iteration 296: log likelihood = -55477.188  (not concave)
Iteration 297: log likelihood = -55477.188  (not concave)
Iteration 298: log likelihood = -55477.188  (not concave)
Iteration 299: log likelihood = -55477.188  (not concave)
Iteration 300: log likelihood = -55477.188  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     59,755
Log likelihood = -55477.188
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |  -.1542345     .00832   -18.54   0.000    -.1705414   -.1379276
edad_al_in~t |   .0255957   .0007766    32.96   0.000     .0240735    .0271178
edad_ini_c~s |    .001542   .0014886     1.04   0.300    -.0013756    .0044596
     sex_enc |    .157515   .0174722     9.02   0.000       .12327    .1917599
     esc_rec |  -.1541125   .0108689   -14.18   0.000    -.1754152   -.1328098
sus_prin_mod |  -.1547166    .009372   -16.51   0.000    -.1730854   -.1363477
 fr_sus_prin |  -.0469265   .0066098    -7.10   0.000    -.0598815   -.0339714
 comp_biosoc |  -.2396464   .0127822   -18.75   0.000    -.2646991   -.2145938
     ten_viv |  -.0561244   .0068724    -8.17   0.000     -.069594   -.0426547
dg_cie_10_~c |  -.0488588   .0085401    -5.72   0.000    -.0655971   -.0321206
sud_sever~10 |  -.2123005   .0169301   -12.54   0.000    -.2454828   -.1791182
   macrozone |  -.2241573   .0158542   -14.14   0.000    -.2552309   -.1930837
 policonsumo |   -.122576   .0162867    -7.53   0.000    -.1544973   -.0906548
   n_off_vio |  -.4160367   .0375845   -11.07   0.000     -.489701   -.3423723
   n_off_acq |  -9.615525          .        .       .            .           .
   n_off_sud |  -.4664349   .0445676   -10.47   0.000    -.5537857   -.3790841
        clas |   -.098098   .0094635   -10.37   0.000    -.1166461   -.0795499
       _cons |   5.243242          .        .       .            .           .
       dap:1 |  -1.528403   .0086849  -175.98   0.000    -1.545425   -1.511381
------------------------------------------------------------------------------

.         //qui cap noi merlin (_time $covs if _trans == 1, family(loglogistic, fail(_status)))
.         estimates store m2_1_logl

. 
.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Logn}&quot;
 family Logn

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(lognormal)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -57100.791  (not concave)
Iteration 1:   log likelihood =  -55369.82  (not concave)
Iteration 2:   log likelihood = -55363.731  (not concave)
Iteration 3:   log likelihood = -55222.078  (not concave)
Iteration 4:   log likelihood = -55136.042  (not concave)
Iteration 5:   log likelihood = -55084.159  (not concave)
Iteration 6:   log likelihood = -55079.966  (not concave)
Iteration 7:   log likelihood = -55069.366  (not concave)
Iteration 8:   log likelihood =   -55060.9  (not concave)
Iteration 9:   log likelihood = -55022.047  (not concave)
Iteration 10:  log likelihood = -55006.493  (not concave)
Iteration 11:  log likelihood = -54943.574  (not concave)
Iteration 12:  log likelihood =  -54912.73  (not concave)
Iteration 13:  log likelihood = -54902.521  (not concave)
Iteration 14:  log likelihood = -54901.846  (not concave)
Iteration 15:  log likelihood = -54901.241  (not concave)
Iteration 16:  log likelihood = -54901.157  
Hessian is not negative semidefinite

.         //qui cap noi merlin (_time $covs if _trans == 1, family(lognormal, fail(_status)))
.         estimates store m2_1_logn

.         
.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: family Ggam}&quot;
 family Ggam

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi stmerlin $covs_2 , dist(ggamma)
note; a delayed entry model is being fitted

Fitting full model:

Iteration 0:   log likelihood = -63263.539  (not concave)
Iteration 1:   log likelihood = -55183.731  (not concave)
Iteration 2:   log likelihood = -55177.294  (not concave)
Iteration 3:   log likelihood = -55170.067  (not concave)
Iteration 4:   log likelihood = -55168.309  (not concave)
Iteration 5:   log likelihood = -55167.773  (not concave)
Iteration 6:   log likelihood = -55167.638  (not concave)
Iteration 7:   log likelihood = -55167.608  (not concave)
Iteration 8:   log likelihood = -55167.603  (not concave)
Hessian is not negative semidefinite

.         //qui cap noi merlin (_time $covs if _trans == 1, family(ggamma, fail(_status)))
.         estimates store m2_1_ggam

. 
.         // Royston Parmar models
.         forvalues j=1/10 {
  2.                 di in yellow &quot;{bf: ***********}&quot;
  3.                 di in yellow &quot;{bf: family RP`j'}&quot;
  4.                 di in yellow &quot;{bf: ***********}&quot;
  5.                 set seed 2125
  6.                 qui cap noi stmerlin $covs_2, dist(rp) df(`j')
  7.                 //qui cap noi merlin (_time $covs if _trans == 1, family(rp, df(`j') fail(_status)))
.                 estimates store m2_1_rp`j'
  8.                 *estimates save &quot;${pathdata2}parmodels.ster&quot;, append    
.         }       
 ***********
 family RP1
 ***********
note; a delayed entry model is being fitted
variables created: _rcs1_1 to _rcs1_1

Fitting full model:

Iteration 0:   log likelihood = -69152.866  (not concave)
Iteration 1:   log likelihood = -60027.395  (not concave)
Iteration 2:   log likelihood = -57008.468  
Iteration 3:   log likelihood = -54467.357  
Iteration 4:   log likelihood = -54346.422  (not concave)
Iteration 5:   log likelihood = -54344.236  
Iteration 6:   log likelihood =  -54317.52  
Iteration 7:   log likelihood = -54286.126  
Iteration 8:   log likelihood = -54259.459  
Iteration 9:   log likelihood = -54233.006  (not concave)
Iteration 10:  log likelihood = -54232.127  
Iteration 11:  log likelihood =  -54228.01  
Iteration 12:  log likelihood = -54222.608  
Iteration 13:  log likelihood = -54215.499  
Iteration 14:  log likelihood = -54212.994  
Iteration 15:  log likelihood = -54207.242  
Iteration 16:  log likelihood = -54206.752  
Iteration 17:  log likelihood = -54204.014  (not concave)
Iteration 18:  log likelihood = -54203.999  
Iteration 19:  log likelihood = -54203.262  
Iteration 20:  log likelihood = -54200.864  
Iteration 21:  log likelihood = -54200.198  
Iteration 22:  log likelihood = -54198.846  
Iteration 23:  log likelihood = -54197.691  
Iteration 24:  log likelihood = -54197.279  
Iteration 25:  log likelihood = -54196.759  
Iteration 26:  log likelihood = -54196.242  
Iteration 27:  log likelihood = -54196.164  
Iteration 28:  log likelihood = -54195.728  (not concave)
Iteration 29:  log likelihood = -54195.708  
Iteration 30:  log likelihood = -54195.561  
Iteration 31:  log likelihood = -54195.331  
Iteration 32:  log likelihood = -54195.083  
Iteration 33:  log likelihood = -54194.826  
Iteration 34:  log likelihood = -54194.824  
Iteration 35:  log likelihood = -54194.562  (not concave)
Iteration 36:  log likelihood = -54194.561  
Iteration 37:  log likelihood = -54194.492  
Iteration 38:  log likelihood = -54194.269  
Iteration 39:  log likelihood = -54194.165  
Iteration 40:  log likelihood = -54194.058  
Iteration 41:  log likelihood = -54193.892  
Iteration 42:  log likelihood = -54193.851  
Iteration 43:  log likelihood =  -54193.78  
Iteration 44:  log likelihood = -54193.717  
Iteration 45:  log likelihood = -54193.652  
Iteration 46:  log likelihood = -54193.547  
Iteration 47:  log likelihood = -54193.523  
Iteration 48:  log likelihood = -54193.491  
Iteration 49:  log likelihood = -54193.424  
Iteration 50:  log likelihood = -54193.351  
Iteration 51:  log likelihood = -54193.334  
Iteration 52:  log likelihood = -54193.312  
Iteration 53:  log likelihood =  -54193.26  
Iteration 54:  log likelihood = -54193.227  
Iteration 55:  log likelihood = -54193.195  
Iteration 56:  log likelihood = -54193.172  
Iteration 57:  log likelihood = -54193.152  
Iteration 58:  log likelihood =  -54193.12  
Iteration 59:  log likelihood = -54193.085  
Iteration 60:  log likelihood = -54193.077  
Iteration 61:  log likelihood = -54193.034  (not concave)
Iteration 62:  log likelihood = -54193.034  
Iteration 63:  log likelihood = -54193.027  
Iteration 64:  log likelihood = -54193.015  
Iteration 65:  log likelihood = -54193.001  
Iteration 66:  log likelihood = -54192.979  
Iteration 67:  log likelihood = -54192.974  
Iteration 68:  log likelihood =  -54192.95  (not concave)
Iteration 69:  log likelihood = -54192.946  
Iteration 70:  log likelihood = -54192.941  
Iteration 71:  log likelihood =  -54192.93  
Iteration 72:  log likelihood = -54192.921  
Iteration 73:  log likelihood = -54192.906  
Iteration 74:  log likelihood = -54192.901  
Iteration 75:  log likelihood = -54192.888  (not concave)
Iteration 76:  log likelihood = -54192.888  (backed up)
Iteration 77:  log likelihood = -54192.884  
Iteration 78:  log likelihood = -54192.876  
Iteration 79:  log likelihood =  -54192.86  (not concave)
Iteration 80:  log likelihood =  -54192.86  
Iteration 81:  log likelihood = -54192.857  
Iteration 82:  log likelihood = -54192.848  
Iteration 83:  log likelihood = -54192.846  
Iteration 84:  log likelihood =  -54192.84  (not concave)
Iteration 85:  log likelihood = -54192.839  
Iteration 86:  log likelihood = -54192.837  
Iteration 87:  log likelihood = -54192.832  
Iteration 88:  log likelihood = -54192.829  
Iteration 89:  log likelihood = -54192.824  
Iteration 90:  log likelihood =  -54192.82  
Iteration 91:  log likelihood = -54192.813  
Iteration 92:  log likelihood =  -54192.81  
Iteration 93:  log likelihood = -54192.806  
Iteration 94:  log likelihood = -54192.804  
Iteration 95:  log likelihood =   -54192.8  
Iteration 96:  log likelihood = -54192.798  
Iteration 97:  log likelihood = -54192.791  (not concave)
Iteration 98:  log likelihood = -54192.791  
Iteration 99:  log likelihood =  -54192.79  (backed up)
Iteration 100: log likelihood = -54192.784  (not concave)
Iteration 101: log likelihood = -54192.783  (not concave)
Iteration 102: log likelihood = -54192.783  
Iteration 103: log likelihood = -54192.782  
Iteration 104: log likelihood = -54192.778  
Iteration 105: log likelihood = -54192.777  
Iteration 106: log likelihood = -54192.775  
Iteration 107: log likelihood = -54192.772  
Iteration 108: log likelihood = -54192.771  
Iteration 109: log likelihood = -54192.767  
Iteration 110: log likelihood = -54192.766  
Iteration 111: log likelihood = -54192.763  
Iteration 112: log likelihood =  -54192.76  
Iteration 113: log likelihood = -54192.758  
Iteration 114: log likelihood = -54192.756  
Iteration 115: log likelihood = -54192.755  
Iteration 116: log likelihood = -54192.753  
Iteration 117: log likelihood = -54192.751  (not concave)
Iteration 118: log likelihood = -54192.751  
Iteration 119: log likelihood =  -54192.75  
Iteration 120: log likelihood = -54192.749  
Iteration 121: log likelihood = -54192.748  
Iteration 122: log likelihood = -54192.747  
Iteration 123: log likelihood = -54192.746  
Iteration 124: log likelihood = -54192.745  (not concave)
Iteration 125: log likelihood = -54192.745  
Iteration 126: log likelihood = -54192.744  
Iteration 127: log likelihood = -54192.744  
Iteration 128: log likelihood = -54192.743  (not concave)
Iteration 129: log likelihood = -54192.742  
Iteration 130: log likelihood = -54192.742  
Iteration 131: log likelihood = -54192.741  (not concave)
Iteration 132: log likelihood = -54192.741  
Iteration 133: log likelihood =  -54192.74  
Iteration 134: log likelihood = -54192.739  
Iteration 135: log likelihood = -54192.739  
Iteration 136: log likelihood = -54192.738  
Iteration 137: log likelihood = -54192.737  
Iteration 138: log likelihood = -54192.736  (not concave)
Iteration 139: log likelihood = -54192.736  (backed up)
Iteration 140: log likelihood = -54192.735  
Iteration 141: log likelihood = -54192.734  
Iteration 142: log likelihood = -54192.734  
Iteration 143: log likelihood = -54192.733  
Iteration 144: log likelihood = -54192.732  
Iteration 145: log likelihood = -54192.732  
Iteration 146: log likelihood = -54192.731  
Iteration 147: log likelihood =  -54192.73  
Iteration 148: log likelihood =  -54192.73  
Iteration 149: log likelihood = -54192.729  
Iteration 150: log likelihood = -54192.728  
Iteration 151: log likelihood = -54192.727  
Iteration 152: log likelihood = -54192.727  
Iteration 153: log likelihood = -54192.726  
Iteration 154: log likelihood = -54192.726  
Iteration 155: log likelihood = -54192.725  
Iteration 156: log likelihood = -54192.725  
Iteration 157: log likelihood = -54192.724  
Iteration 158: log likelihood = -54192.724  
Iteration 159: log likelihood = -54192.723  
Iteration 160: log likelihood = -54192.723  
Iteration 161: log likelihood = -54192.723  
Iteration 162: log likelihood = -54192.722  
Iteration 163: log likelihood = -54192.722  
Iteration 164: log likelihood = -54192.721  
Iteration 165: log likelihood = -54192.721  
Iteration 166: log likelihood =  -54192.72  
Iteration 167: log likelihood =  -54192.72  
Iteration 168: log likelihood = -54192.719  
Iteration 169: log likelihood = -54192.719  
Iteration 170: log likelihood = -54192.718  
Iteration 171: log likelihood = -54192.718  
Iteration 172: log likelihood = -54192.718  
Iteration 173: log likelihood = -54192.718  
Iteration 174: log likelihood = -54192.717  
Iteration 175: log likelihood = -54192.717  
Iteration 176: log likelihood = -54192.717  
Iteration 177: log likelihood = -54192.716  
Iteration 178: log likelihood = -54192.716  
Iteration 179: log likelihood = -54192.716  
Iteration 180: log likelihood = -54192.716  
Iteration 181: log likelihood = -54192.715  
Iteration 182: log likelihood = -54192.715  
Iteration 183: log likelihood = -54192.715  
Iteration 184: log likelihood = -54192.714  
Iteration 185: log likelihood = -54192.714  
Iteration 186: log likelihood = -54192.714  
Iteration 187: log likelihood = -54192.714  
Iteration 188: log likelihood = -54192.713  
Iteration 189: log likelihood = -54192.713  
Iteration 190: log likelihood = -54192.713  
Iteration 191: log likelihood = -54192.713  
Iteration 192: log likelihood = -54192.712  
Iteration 193: log likelihood = -54192.712  
Iteration 194: log likelihood = -54192.712  
Iteration 195: log likelihood = -54192.712  
Iteration 196: log likelihood = -54192.712  
Iteration 197: log likelihood = -54192.711  
Iteration 198: log likelihood = -54192.711  
Iteration 199: log likelihood = -54192.711  
Iteration 200: log likelihood = -54192.711  
Iteration 201: log likelihood = -54192.711  
Iteration 202: log likelihood =  -54192.71  (not concave)
Iteration 203: log likelihood =  -54192.71  
Iteration 204: log likelihood =  -54192.71  
Iteration 205: log likelihood =  -54192.71  
Iteration 206: log likelihood =  -54192.71  
Iteration 207: log likelihood =  -54192.71  
Iteration 208: log likelihood =  -54192.71  
Iteration 209: log likelihood = -54192.709  
Iteration 210: log likelihood = -54192.709  
Iteration 211: log likelihood = -54192.709  
Iteration 212: log likelihood = -54192.709  (not concave)
Iteration 213: log likelihood = -54192.709  (backed up)
Iteration 214: log likelihood = -54192.709  
Iteration 215: log likelihood = -54192.709  
Iteration 216: log likelihood = -54192.709  
Iteration 217: log likelihood = -54192.708  
Iteration 218: log likelihood = -54192.708  
Iteration 219: log likelihood = -54192.708  
Iteration 220: log likelihood = -54192.708  
Iteration 221: log likelihood = -54192.708  
Iteration 222: log likelihood = -54192.708  
Iteration 223: log likelihood = -54192.708  
Iteration 224: log likelihood = -54192.708  
Iteration 225: log likelihood = -54192.707  
Iteration 226: log likelihood = -54192.707  
Iteration 227: log likelihood = -54192.707  
Iteration 228: log likelihood = -54192.707  
Iteration 229: log likelihood = -54192.707  
Iteration 230: log likelihood = -54192.707  
Iteration 231: log likelihood = -54192.707  
Iteration 232: log likelihood = -54192.707  
Iteration 233: log likelihood = -54192.707  
Iteration 234: log likelihood = -54192.706  
Iteration 235: log likelihood = -54192.706  
Iteration 236: log likelihood = -54192.706  
Iteration 237: log likelihood = -54192.706  
Iteration 238: log likelihood = -54192.706  
Iteration 239: log likelihood = -54192.706  
Iteration 240: log likelihood = -54192.706  
Iteration 241: log likelihood = -54192.706  
Iteration 242: log likelihood = -54192.706  
Iteration 243: log likelihood = -54192.706  
Iteration 244: log likelihood = -54192.706  
Iteration 245: log likelihood = -54192.706  
Iteration 246: log likelihood = -54192.705  
Iteration 247: log likelihood = -54192.705  
Iteration 248: log likelihood = -54192.705  
Iteration 249: log likelihood = -54192.705  
Iteration 250: log likelihood = -54192.705  
Iteration 251: log likelihood = -54192.705  
Iteration 252: log likelihood = -54192.705  
Iteration 253: log likelihood = -54192.705  
Iteration 254: log likelihood = -54192.705  
Iteration 255: log likelihood = -54192.705  
Iteration 256: log likelihood = -54192.705  
Iteration 257: log likelihood = -54192.705  
Iteration 258: log likelihood = -54192.705  
Iteration 259: log likelihood = -54192.705  
Iteration 260: log likelihood = -54192.705  
Iteration 261: log likelihood = -54192.705  
Iteration 262: log likelihood = -54192.704  
Iteration 263: log likelihood = -54192.704  
Iteration 264: log likelihood = -54192.704  (not concave)
Iteration 265: log likelihood = -54192.704  
Iteration 266: log likelihood = -54192.704  
Iteration 267: log likelihood = -54192.704  
Iteration 268: log likelihood = -54192.704  
Iteration 269: log likelihood = -54192.704  (not concave)
Iteration 270: log likelihood = -54192.704  (backed up)
Iteration 271: log likelihood = -54192.704  
Iteration 272: log likelihood = -54192.704  (not concave)
Iteration 273: log likelihood = -54192.704  (backed up)
Iteration 274: log likelihood = -54192.704  
Iteration 275: log likelihood = -54192.704  
Iteration 276: log likelihood = -54192.704  
Iteration 277: log likelihood = -54192.704  
Iteration 278: log likelihood = -54192.704  
Iteration 279: log likelihood = -54192.704  (not concave)
Iteration 280: log likelihood = -54192.704  
Iteration 281: log likelihood = -54192.704  
Iteration 282: log likelihood = -54192.704  
Iteration 283: log likelihood = -54192.704  
Iteration 284: log likelihood = -54192.704  
Iteration 285: log likelihood = -54192.704  
Iteration 286: log likelihood = -54192.703  
Iteration 287: log likelihood = -54192.703  
Iteration 288: log likelihood = -54192.703  
Iteration 289: log likelihood = -54192.703  (not concave)
Iteration 290: log likelihood = -54192.703  (not concave)
Iteration 291: log likelihood = -54192.703  (not concave)
Iteration 292: log likelihood = -54192.703  (backed up)
Iteration 293: log likelihood = -54192.703  
Iteration 294: log likelihood = -54192.703  (not concave)
Iteration 295: log likelihood = -54192.703  
Iteration 296: log likelihood = -54192.703  
Iteration 297: log likelihood = -54192.703  
Iteration 298: log likelihood = -54192.703  
Iteration 299: log likelihood = -54192.703  
Iteration 300: log likelihood = -54192.703  
convergence not achieved

Survival model                                  Number of obs     =     59,755
Log likelihood = -54192.703
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1564267   .0096939    16.14   0.000      .137427    .1754263
edad_al_in~t |  -.0060652   .0009133    -6.64   0.000    -.0078552   -.0042753
edad_ini_c~s |  -.0105326   .0018724    -5.63   0.000    -.0142025   -.0068627
     sex_enc |  -.2876611    .019416   -14.82   0.000    -.3257158   -.2496065
     esc_rec |   .1079953   .0121332     8.90   0.000     .0842147    .1317759
sus_prin_mod |   .1343467   .0080942    16.60   0.000     .1184824     .150211
 fr_sus_prin |   .0324401   .0075356     4.30   0.000     .0176705    .0472097
 comp_biosoc |   .1920531   .0140659    13.65   0.000     .1644845    .2196217
     ten_viv |   -.018406   .0075967    -2.42   0.015    -.0332953   -.0035167
dg_cie_10_~c |   .0208699   .0087045     2.40   0.017     .0038094    .0379304
sud_sever~10 |  -.0628963   .0190558    -3.30   0.001    -.1002451   -.0255476
   macrozone |   .2127155   .0116571    18.25   0.000      .189868     .235563
 policonsumo |   .1004424   .0215462     4.66   0.000     .0582126    .1426722
   n_off_vio |   .3298599   .0185493    17.78   0.000      .293504    .3662158
   n_off_acq |    .667985   .0173202    38.57   0.000      .634038    .7019319
   n_off_sud |   .2379312   .0182705    13.02   0.000     .2021217    .2737407
        clas |   .0158589   .0127707     1.24   0.214    -.0091713    .0408891
       _cons |   11.06075   1.401793     7.89   0.000      8.31329    13.80822
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP2
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_2

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood =  -54187.39  (not concave)
Iteration 2:   log likelihood = -54173.428  (not concave)
Iteration 3:   log likelihood = -54160.504  (not concave)
Iteration 4:   log likelihood = -54154.894  
Iteration 5:   log likelihood = -54005.843  (not concave)
Iteration 6:   log likelihood = -53987.584  (not concave)
Iteration 7:   log likelihood = -53980.066  (not concave)
Iteration 8:   log likelihood =  -53973.75  (not concave)
Iteration 9:   log likelihood = -53967.979  (not concave)
Iteration 10:  log likelihood = -53962.938  (not concave)
Iteration 11:  log likelihood = -53957.259  (not concave)
Iteration 12:  log likelihood = -53947.965  (not concave)
Iteration 13:  log likelihood = -53935.234  (not concave)
Iteration 14:  log likelihood = -53919.087  (not concave)
Iteration 15:  log likelihood = -53914.148  (not concave)
Iteration 16:  log likelihood = -53908.741  (not concave)
Iteration 17:  log likelihood =  -53903.31  (not concave)
Iteration 18:  log likelihood = -53878.684  
Iteration 19:  log likelihood = -53811.792  
Iteration 20:  log likelihood = -53767.451  
Iteration 21:  log likelihood = -53741.093  
Iteration 22:  log likelihood = -53733.768  (not concave)
Iteration 23:  log likelihood = -53733.766  (backed up)
Iteration 24:  log likelihood = -53733.764  
Iteration 25:  log likelihood = -53733.764  (backed up)
Iteration 26:  log likelihood = -53733.764  
Iteration 27:  log likelihood = -53733.764  (not concave)
Iteration 28:  log likelihood = -53733.764  (backed up)
Iteration 29:  log likelihood = -53733.764  
Iteration 30:  log likelihood = -53733.764  
Iteration 31:  log likelihood = -53733.764  
Iteration 32:  log likelihood = -53733.764  
Iteration 33:  log likelihood = -53733.764  
Iteration 34:  log likelihood = -53733.764  (not concave)
Iteration 35:  log likelihood = -53733.764  
Iteration 36:  log likelihood = -53733.764  
Iteration 37:  log likelihood = -53733.764  
Iteration 38:  log likelihood = -53733.764  
Iteration 39:  log likelihood = -53733.764  
Iteration 40:  log likelihood = -53733.764  
Iteration 41:  log likelihood = -53733.764  
Iteration 42:  log likelihood = -53733.764  
Iteration 43:  log likelihood = -53733.764  
Iteration 44:  log likelihood = -53733.764  
Iteration 45:  log likelihood = -53733.764  
Iteration 46:  log likelihood = -53733.764  
Iteration 47:  log likelihood = -53733.764  
Iteration 48:  log likelihood = -53733.764  
Iteration 49:  log likelihood = -53733.764  
Iteration 50:  log likelihood = -53733.764  
Iteration 51:  log likelihood = -53733.764  
Iteration 52:  log likelihood = -53733.764  
Iteration 53:  log likelihood = -53733.764  
Iteration 54:  log likelihood = -53733.764  
Iteration 55:  log likelihood = -53733.764  
Iteration 56:  log likelihood = -53733.764  
Iteration 57:  log likelihood = -53733.764  
Iteration 58:  log likelihood = -53733.764  
Iteration 59:  log likelihood = -53733.764  
Iteration 60:  log likelihood = -53733.764  
Iteration 61:  log likelihood = -53733.764  
Iteration 62:  log likelihood = -53733.764  
Iteration 63:  log likelihood = -53733.763  (not concave)
Iteration 64:  log likelihood = -53733.763  
Iteration 65:  log likelihood = -53733.763  
Iteration 66:  log likelihood = -53733.763  
Iteration 67:  log likelihood = -53733.763  
Iteration 68:  log likelihood = -53733.763  
Iteration 69:  log likelihood = -53733.763  
Iteration 70:  log likelihood = -53733.763  (not concave)
Iteration 71:  log likelihood = -53733.763  (not concave)
Iteration 72:  log likelihood = -53733.763  (not concave)
Iteration 73:  log likelihood = -53733.763  (not concave)
Iteration 74:  log likelihood = -53733.763  (not concave)
Iteration 75:  log likelihood = -53733.763  (not concave)
Iteration 76:  log likelihood = -53733.763  (not concave)
Iteration 77:  log likelihood = -53733.763  (not concave)
Iteration 78:  log likelihood = -53733.763  (not concave)
Iteration 79:  log likelihood = -53733.763  (not concave)
Iteration 80:  log likelihood = -53733.763  (not concave)
Iteration 81:  log likelihood = -53733.763  (not concave)
Iteration 82:  log likelihood = -53733.763  (not concave)
Iteration 83:  log likelihood = -53733.763  (not concave)
Iteration 84:  log likelihood = -53733.763  (not concave)
Iteration 85:  log likelihood = -53733.763  (not concave)
Iteration 86:  log likelihood = -53733.763  (not concave)
Iteration 87:  log likelihood = -53733.763  (not concave)
Iteration 88:  log likelihood = -53733.763  (not concave)
Iteration 89:  log likelihood = -53733.763  (not concave)
Iteration 90:  log likelihood = -53733.763  (not concave)
Iteration 91:  log likelihood = -53733.763  (not concave)
Iteration 92:  log likelihood = -53733.763  (not concave)
Iteration 93:  log likelihood = -53733.763  (not concave)
Iteration 94:  log likelihood = -53733.763  (not concave)
Iteration 95:  log likelihood = -53733.763  (not concave)
Iteration 96:  log likelihood = -53733.763  (not concave)
Iteration 97:  log likelihood = -53733.763  (not concave)
Iteration 98:  log likelihood = -53733.763  (not concave)
Iteration 99:  log likelihood = -53733.763  (not concave)
Iteration 100: log likelihood = -53733.763  (not concave)
Iteration 101: log likelihood = -53733.763  (not concave)
Iteration 102: log likelihood = -53733.763  (not concave)
Iteration 103: log likelihood = -53733.763  (not concave)
Iteration 104: log likelihood = -53733.763  (not concave)
Iteration 105: log likelihood = -53733.763  (not concave)
Iteration 106: log likelihood = -53733.763  (not concave)
Iteration 107: log likelihood = -53733.763  (not concave)
Iteration 108: log likelihood = -53733.763  (not concave)
Iteration 109: log likelihood = -53733.763  (not concave)
Iteration 110: log likelihood = -53733.763  (not concave)
Iteration 111: log likelihood = -53733.763  (not concave)
Iteration 112: log likelihood = -53733.763  (not concave)
Iteration 113: log likelihood = -53733.763  (not concave)
Iteration 114: log likelihood = -53733.763  (not concave)
Iteration 115: log likelihood = -53733.763  (not concave)
Iteration 116: log likelihood = -53733.763  (not concave)
Iteration 117: log likelihood = -53733.763  (not concave)
Iteration 118: log likelihood = -53733.763  (not concave)
Iteration 119: log likelihood = -53733.763  (not concave)
Iteration 120: log likelihood = -53733.763  (not concave)
Iteration 121: log likelihood = -53733.763  (not concave)
Iteration 122: log likelihood = -53733.763  (not concave)
Iteration 123: log likelihood = -53733.763  (not concave)
Iteration 124: log likelihood = -53733.763  (not concave)
Iteration 125: log likelihood = -53733.763  (not concave)
Iteration 126: log likelihood = -53733.763  (not concave)
Iteration 127: log likelihood = -53733.763  (not concave)
Iteration 128: log likelihood = -53733.763  (not concave)
Iteration 129: log likelihood = -53733.763  (not concave)
Iteration 130: log likelihood = -53733.763  (not concave)
Iteration 131: log likelihood = -53733.763  (not concave)
Iteration 132: log likelihood = -53733.763  (not concave)
Iteration 133: log likelihood = -53733.763  (not concave)
Iteration 134: log likelihood = -53733.763  (not concave)
Iteration 135: log likelihood = -53733.763  (not concave)
Iteration 136: log likelihood = -53733.763  (not concave)
Iteration 137: log likelihood = -53733.763  (not concave)
Iteration 138: log likelihood = -53733.763  (not concave)
Iteration 139: log likelihood = -53733.763  (not concave)
Iteration 140: log likelihood = -53733.763  (not concave)
Iteration 141: log likelihood = -53733.763  (not concave)
Iteration 142: log likelihood = -53733.763  (not concave)
Iteration 143: log likelihood = -53733.763  (not concave)
Iteration 144: log likelihood = -53733.763  (not concave)
Iteration 145: log likelihood = -53733.763  (not concave)
Iteration 146: log likelihood = -53733.763  (not concave)
Iteration 147: log likelihood = -53733.763  (not concave)
Iteration 148: log likelihood = -53733.763  (not concave)
Iteration 149: log likelihood = -53733.763  (not concave)
Iteration 150: log likelihood = -53733.763  (not concave)
Iteration 151: log likelihood = -53733.763  (not concave)
Iteration 152: log likelihood = -53733.763  (not concave)
Iteration 153: log likelihood = -53733.763  (not concave)
Iteration 154: log likelihood = -53733.763  (not concave)
Iteration 155: log likelihood = -53733.763  (not concave)
Iteration 156: log likelihood = -53733.763  (not concave)
Iteration 157: log likelihood = -53733.763  (not concave)
Iteration 158: log likelihood = -53733.763  (not concave)
Iteration 159: log likelihood = -53733.763  (not concave)
Iteration 160: log likelihood = -53733.763  (not concave)
Iteration 161: log likelihood = -53733.763  (not concave)
Iteration 162: log likelihood = -53733.763  (not concave)
Iteration 163: log likelihood = -53733.763  (not concave)
Iteration 164: log likelihood = -53733.763  (not concave)
Iteration 165: log likelihood = -53733.763  (not concave)
Iteration 166: log likelihood = -53733.763  (not concave)
Iteration 167: log likelihood = -53733.763  (not concave)
Iteration 168: log likelihood = -53733.763  (not concave)
Iteration 169: log likelihood = -53733.763  (not concave)
Iteration 170: log likelihood = -53733.763  (not concave)
Iteration 171: log likelihood = -53733.763  (not concave)
Iteration 172: log likelihood = -53733.763  (not concave)
Iteration 173: log likelihood = -53733.763  (not concave)
Iteration 174: log likelihood = -53733.763  (not concave)
Iteration 175: log likelihood = -53733.763  (not concave)
Iteration 176: log likelihood = -53733.763  (not concave)
Iteration 177: log likelihood = -53733.763  (not concave)
Iteration 178: log likelihood = -53733.763  (not concave)
Iteration 179: log likelihood = -53733.763  (not concave)
Iteration 180: log likelihood = -53733.763  (not concave)
Iteration 181: log likelihood = -53733.763  (not concave)
Iteration 182: log likelihood = -53733.763  (not concave)
Iteration 183: log likelihood = -53733.763  (not concave)
Iteration 184: log likelihood = -53733.763  (not concave)
Iteration 185: log likelihood = -53733.763  (not concave)
Iteration 186: log likelihood = -53733.763  (not concave)
Iteration 187: log likelihood = -53733.763  (not concave)
Iteration 188: log likelihood = -53733.763  (not concave)
Iteration 189: log likelihood = -53733.763  (not concave)
Iteration 190: log likelihood = -53733.763  (not concave)
Iteration 191: log likelihood = -53733.763  (not concave)
Iteration 192: log likelihood = -53733.763  (not concave)
Iteration 193: log likelihood = -53733.763  (not concave)
Iteration 194: log likelihood = -53733.763  (not concave)
Iteration 195: log likelihood = -53733.763  (not concave)
Iteration 196: log likelihood = -53733.763  (not concave)
Iteration 197: log likelihood = -53733.763  (not concave)
Iteration 198: log likelihood = -53733.763  (not concave)
Iteration 199: log likelihood = -53733.763  (not concave)
Iteration 200: log likelihood = -53733.763  (not concave)
Iteration 201: log likelihood = -53733.763  (not concave)
Iteration 202: log likelihood = -53733.763  (not concave)
Iteration 203: log likelihood = -53733.763  (not concave)
Iteration 204: log likelihood = -53733.763  (not concave)
Iteration 205: log likelihood = -53733.763  (not concave)
Iteration 206: log likelihood = -53733.763  (not concave)
Iteration 207: log likelihood = -53733.763  (not concave)
Iteration 208: log likelihood = -53733.763  (not concave)
Iteration 209: log likelihood = -53733.763  (not concave)
Iteration 210: log likelihood = -53733.763  (not concave)
Iteration 211: log likelihood = -53733.763  (not concave)
Iteration 212: log likelihood = -53733.763  (not concave)
Iteration 213: log likelihood = -53733.763  (not concave)
Iteration 214: log likelihood = -53733.763  (not concave)
Iteration 215: log likelihood = -53733.763  (not concave)
Iteration 216: log likelihood = -53733.763  (not concave)
Iteration 217: log likelihood = -53733.763  (not concave)
Iteration 218: log likelihood = -53733.763  (not concave)
Iteration 219: log likelihood = -53733.763  (not concave)
Iteration 220: log likelihood = -53733.763  (not concave)
Iteration 221: log likelihood = -53733.763  (not concave)
Iteration 222: log likelihood = -53733.763  (not concave)
Iteration 223: log likelihood = -53733.763  (not concave)
Iteration 224: log likelihood = -53733.763  (not concave)
Iteration 225: log likelihood = -53733.763  (not concave)
Iteration 226: log likelihood = -53733.763  (not concave)
Iteration 227: log likelihood = -53733.763  (not concave)
Iteration 228: log likelihood = -53733.763  (not concave)
Iteration 229: log likelihood = -53733.763  (not concave)
Iteration 230: log likelihood = -53733.763  (not concave)
Iteration 231: log likelihood = -53733.763  (not concave)
Iteration 232: log likelihood = -53733.763  (not concave)
Iteration 233: log likelihood = -53733.763  (not concave)
Iteration 234: log likelihood = -53733.763  (not concave)
Iteration 235: log likelihood = -53733.763  (not concave)
Iteration 236: log likelihood = -53733.763  (not concave)
Iteration 237: log likelihood = -53733.763  (not concave)
Iteration 238: log likelihood = -53733.763  (not concave)
Iteration 239: log likelihood = -53733.763  (not concave)
Iteration 240: log likelihood = -53733.763  (not concave)
Iteration 241: log likelihood = -53733.763  (not concave)
Iteration 242: log likelihood = -53733.763  (not concave)
Iteration 243: log likelihood = -53733.763  (not concave)
Iteration 244: log likelihood = -53733.763  (not concave)
Iteration 245: log likelihood = -53733.763  (not concave)
Iteration 246: log likelihood = -53733.763  (not concave)
Iteration 247: log likelihood = -53733.763  (not concave)
Iteration 248: log likelihood = -53733.763  (not concave)
Iteration 249: log likelihood = -53733.763  (not concave)
Iteration 250: log likelihood = -53733.763  (not concave)
Iteration 251: log likelihood = -53733.763  (not concave)
Iteration 252: log likelihood = -53733.763  (not concave)
Iteration 253: log likelihood = -53733.763  (not concave)
Iteration 254: log likelihood = -53733.763  (not concave)
Iteration 255: log likelihood = -53733.763  (not concave)
Iteration 256: log likelihood = -53733.763  (not concave)
Iteration 257: log likelihood = -53733.763  (not concave)
Iteration 258: log likelihood = -53733.763  (not concave)
Iteration 259: log likelihood = -53733.763  (not concave)
Iteration 260: log likelihood = -53733.763  (not concave)
Iteration 261: log likelihood = -53733.763  (not concave)
Iteration 262: log likelihood = -53733.763  (not concave)
Iteration 263: log likelihood = -53733.763  (not concave)
Iteration 264: log likelihood = -53733.763  (not concave)
Iteration 265: log likelihood = -53733.763  (not concave)
Iteration 266: log likelihood = -53733.763  (not concave)
Iteration 267: log likelihood = -53733.763  (not concave)
Iteration 268: log likelihood = -53733.763  (not concave)
Iteration 269: log likelihood = -53733.763  (not concave)
Iteration 270: log likelihood = -53733.763  (not concave)
Iteration 271: log likelihood = -53733.763  (not concave)
Iteration 272: log likelihood = -53733.763  (not concave)
Iteration 273: log likelihood = -53733.763  (not concave)
Iteration 274: log likelihood = -53733.763  (not concave)
Iteration 275: log likelihood = -53733.763  (not concave)
Iteration 276: log likelihood = -53733.763  (not concave)
Iteration 277: log likelihood = -53733.763  (not concave)
Iteration 278: log likelihood = -53733.763  (not concave)
Iteration 279: log likelihood = -53733.763  (not concave)
Iteration 280: log likelihood = -53733.763  (not concave)
Iteration 281: log likelihood = -53733.763  (not concave)
Iteration 282: log likelihood = -53733.763  (not concave)
Iteration 283: log likelihood = -53733.763  (not concave)
Iteration 284: log likelihood = -53733.763  (not concave)
Iteration 285: log likelihood = -53733.763  (not concave)
Iteration 286: log likelihood = -53733.763  (not concave)
Iteration 287: log likelihood = -53733.763  (not concave)
Iteration 288: log likelihood = -53733.763  (not concave)
Iteration 289: log likelihood = -53733.763  (not concave)
Iteration 290: log likelihood = -53733.763  (not concave)
Iteration 291: log likelihood = -53733.763  (not concave)
Iteration 292: log likelihood = -53733.763  (not concave)
Iteration 293: log likelihood = -53733.763  (not concave)
Iteration 294: log likelihood = -53733.763  (not concave)
Iteration 295: log likelihood = -53733.763  (not concave)
Iteration 296: log likelihood = -53733.763  (not concave)
Iteration 297: log likelihood = -53733.763  (not concave)
Iteration 298: log likelihood = -53733.763  (not concave)
Iteration 299: log likelihood = -53733.763  (not concave)
Iteration 300: log likelihood = -53733.763  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     59,755
Log likelihood = -53733.763
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1506334   .0097366    15.47   0.000       .13155    .1697168
edad_al_in~t |    .059583   .0010163    58.63   0.000      .057591     .061575
edad_ini_c~s |  -.0090762   .0018988    -4.78   0.000    -.0127977   -.0053547
     sex_enc |  -.2812187   .0194048   -14.49   0.000    -.3192513   -.2431861
     esc_rec |   .1243463   .0121464    10.24   0.000     .1005398    .1481529
sus_prin_mod |   .1330654   .0081431    16.34   0.000     .1171054    .1490255
 fr_sus_prin |   .0339207    .007534     4.50   0.000     .0191543    .0486871
 comp_biosoc |   .1897643   .0140783    13.48   0.000     .1621713    .2173572
     ten_viv |  -.0231696   .0075813    -3.06   0.002    -.0380286   -.0083105
dg_cie_10_~c |   .0222798   .0087248     2.55   0.011     .0051795    .0393801
sud_sever~10 |  -.0591007   .0190651    -3.10   0.002    -.0964676   -.0217338
   macrozone |   .2122582   .0116651    18.20   0.000      .189395    .2351215
 policonsumo |   .1009181   .0214802     4.70   0.000     .0588177    .1430185
   n_off_vio |   .3104934   .0185275    16.76   0.000     .2741803    .3468065
   n_off_acq |   .6432783   .0172754    37.24   0.000     .6094191    .6771374
   n_off_sud |   .2112221   .0182492    11.57   0.000     .1754544    .2469898
        clas |    .017489   .0127656     1.37   0.171    -.0075311     .042509
       _cons |    9.44256          .        .       .            .           .
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP3
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_3

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54158.645  (not concave)
Iteration 2:   log likelihood = -54150.545  (not concave)
Iteration 3:   log likelihood = -54134.771  (not concave)
Iteration 4:   log likelihood = -54126.232  
Iteration 5:   log likelihood = -53958.039  
Iteration 6:   log likelihood =  -53841.96  
Iteration 7:   log likelihood = -53751.969  
Iteration 8:   log likelihood = -53714.929  
Iteration 9:   log likelihood = -53714.815  
Iteration 10:  log likelihood = -53714.815  
Iteration 11:  log likelihood = -53714.815  

Survival model                                  Number of obs     =     59,755
Log likelihood = -53714.815
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1516408   .0097459    15.56   0.000     .1325392    .1707424
edad_al_in~t |   .0656036   .0014789    44.36   0.000     .0627049    .0685022
edad_ini_c~s |  -.0089188   .0018902    -4.72   0.000    -.0126235   -.0052142
     sex_enc |   -.280763   .0194074   -14.47   0.000    -.3188007   -.2427253
     esc_rec |   .1183432   .0121796     9.72   0.000     .0944717    .1422147
sus_prin_mod |   .1331684   .0081354    16.37   0.000     .1172233    .1491136
 fr_sus_prin |   .0331607   .0075392     4.40   0.000     .0183842    .0479373
 comp_biosoc |   .1905225   .0140794    13.53   0.000     .1629274    .2181176
     ten_viv |  -.0217967   .0075853    -2.87   0.004    -.0366636   -.0069298
dg_cie_10_~c |   .0221806   .0087275     2.54   0.011      .005075    .0392861
sud_sever~10 |  -.0604006   .0190675    -3.17   0.002    -.0977721    -.023029
   macrozone |   .2094283   .0116755    17.94   0.000     .1865448    .2323118
 policonsumo |   .1090527    .021545     5.06   0.000     .0668254      .15128
   n_off_vio |   .3061325   .0185481    16.50   0.000     .2697789    .3424862
   n_off_acq |   .6366166   .0173248    36.75   0.000     .6026606    .6705726
   n_off_sud |   .2112899   .0182528    11.58   0.000      .175515    .2470647
        clas |   .0179486   .0127635     1.41   0.160    -.0070675    .0429647
       _cons |     8.6972   1.900302     4.58   0.000     4.972676    12.42172
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP4
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_4

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54163.126  (not concave)
Iteration 2:   log likelihood = -54130.425  (not concave)
Iteration 3:   log likelihood = -54117.935  (not concave)
Iteration 4:   log likelihood = -54108.294  
Iteration 5:   log likelihood = -54038.281  
Iteration 6:   log likelihood = -53896.104  
Iteration 7:   log likelihood = -53821.397  
Iteration 8:   log likelihood = -53773.785  
Iteration 9:   log likelihood = -53730.984  
Iteration 10:  log likelihood = -53711.761  
Iteration 11:  log likelihood = -53710.972  (not concave)
Iteration 12:  log likelihood = -53710.878  (not concave)
Iteration 13:  log likelihood = -53710.867  (not concave)
Iteration 14:  log likelihood = -53710.858  
Iteration 15:  log likelihood =  -53710.84  
Iteration 16:  log likelihood =  -53710.84  
Iteration 17:  log likelihood =  -53710.84  (backed up)

Survival model                                  Number of obs     =     59,755
Log likelihood =  -53710.84
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |    .151823   .0097477    15.58   0.000     .1327179    .1709281
edad_al_in~t |   .0663791   .0017475    37.99   0.000     .0629542     .069804
edad_ini_c~s |  -.0088863   .0018894    -4.70   0.000    -.0125893   -.0051832
     sex_enc |   -.280587   .0194083   -14.46   0.000    -.3186267   -.2425474
     esc_rec |    .117353   .0121908     9.63   0.000     .0934594    .1412467
sus_prin_mod |   .1329848   .0081342    16.35   0.000     .1170421    .1489275
 fr_sus_prin |   .0329359   .0075415     4.37   0.000     .0181549     .047717
 comp_biosoc |   .1905497   .0140803    13.53   0.000     .1629529    .2181465
     ten_viv |  -.0215196   .0075876    -2.84   0.005     -.036391   -.0066481
dg_cie_10_~c |   .0221599   .0087284     2.54   0.011     .0050526    .0392672
sud_sever~10 |  -.0608235   .0190741    -3.19   0.001     -.098208   -.0234389
   macrozone |   .2090054   .0116763    17.90   0.000     .1861202    .2318905
 policonsumo |   .1101308   .0215543     5.11   0.000     .0678852    .1523764
   n_off_vio |    .305609   .0185516    16.47   0.000     .2692484    .3419695
   n_off_acq |   .6357825   .0173316    36.68   0.000     .6018131    .6697519
   n_off_sud |   .2116967   .0182732    11.59   0.000     .1758818    .2475116
        clas |   .0178593   .0127644     1.40   0.162    -.0071585    .0428771
       _cons |   8.934572   1.647826     5.42   0.000     5.704892    12.16425
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP5
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_5

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54173.598  (not concave)
Iteration 2:   log likelihood = -54140.686  (not concave)
Iteration 3:   log likelihood = -54117.868  (not concave)
Iteration 4:   log likelihood = -54108.596  
Iteration 5:   log likelihood = -54031.733  
Iteration 6:   log likelihood = -53826.664  
Iteration 7:   log likelihood = -53746.879  
Iteration 8:   log likelihood = -53698.258  
Iteration 9:   log likelihood = -53696.926  (not concave)
Iteration 10:  log likelihood = -53696.831  
Iteration 11:  log likelihood = -53696.805  
Iteration 12:  log likelihood = -53696.805  

Survival model                                  Number of obs     =     59,755
Log likelihood = -53696.805
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1518793   .0097525    15.57   0.000     .1327647    .1709939
edad_al_in~t |   .0703634   .0019537    36.01   0.000     .0665341    .0741927
edad_ini_c~s |  -.0086598   .0018889    -4.58   0.000     -.012362   -.0049575
     sex_enc |  -.2800869   .0194075   -14.43   0.000     -.318125   -.2420489
     esc_rec |   .1174541   .0121964     9.63   0.000     .0935497    .1413586
sus_prin_mod |   .1314868   .0081422    16.15   0.000     .1155284    .1474452
 fr_sus_prin |   .0324535   .0075428     4.30   0.000     .0176698    .0472372
 comp_biosoc |   .1904499   .0140828    13.52   0.000      .162848    .2180517
     ten_viv |  -.0213518   .0075896    -2.81   0.005    -.0362272   -.0064763
dg_cie_10_~c |   .0223991   .0087299     2.57   0.010     .0052888    .0395094
sud_sever~10 |  -.0610654    .019075    -3.20   0.001    -.0984516   -.0236791
   macrozone |    .208386   .0116758    17.85   0.000     .1855019    .2312702
 policonsumo |   .1120871   .0215678     5.20   0.000      .069815    .1543592
   n_off_vio |   .3046904   .0185541    16.42   0.000      .268325    .3410558
   n_off_acq |   .6342592   .0173364    36.59   0.000     .6002804     .668238
   n_off_sud |   .2113084   .0182749    11.56   0.000     .1754902    .2471266
        clas |   .0174965   .0127631     1.37   0.170    -.0075187    .0425116
       _cons |   8.843583   7.494312     1.18   0.238       -5.845    23.53217
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP6
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_6

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54174.557  (not concave)
Iteration 2:   log likelihood = -54131.767  (not concave)
Iteration 3:   log likelihood = -54113.016  (not concave)
Iteration 4:   log likelihood = -54092.101  
Iteration 5:   log likelihood = -53952.113  
Iteration 6:   log likelihood = -53798.408  
Iteration 7:   log likelihood = -53729.618  
Iteration 8:   log likelihood = -53695.509  
Iteration 9:   log likelihood = -53694.654  
Iteration 10:  log likelihood = -53694.649  
Iteration 11:  log likelihood = -53694.649  (not concave)
Iteration 12:  log likelihood = -53694.649  (not concave)
Iteration 13:  log likelihood = -53694.649  (not concave)
Iteration 14:  log likelihood = -53694.649  (not concave)
Iteration 15:  log likelihood = -53694.649  (not concave)
Iteration 16:  log likelihood = -53694.649  (not concave)
Iteration 17:  log likelihood = -53694.649  (not concave)
Iteration 18:  log likelihood = -53694.649  (not concave)
Iteration 19:  log likelihood = -53694.649  (not concave)
Iteration 20:  log likelihood = -53694.649  (not concave)
Iteration 21:  log likelihood = -53694.649  (not concave)
Iteration 22:  log likelihood = -53694.649  (not concave)
Iteration 23:  log likelihood = -53694.649  (not concave)
Iteration 24:  log likelihood = -53694.649  (not concave)
Iteration 25:  log likelihood = -53694.649  (not concave)
Iteration 26:  log likelihood = -53694.649  (not concave)
Iteration 27:  log likelihood = -53694.649  (not concave)
Iteration 28:  log likelihood = -53694.649  (not concave)
Iteration 29:  log likelihood = -53694.649  (not concave)
Iteration 30:  log likelihood = -53694.649  (not concave)
Iteration 31:  log likelihood = -53694.649  (not concave)
Iteration 32:  log likelihood = -53694.649  (not concave)
Iteration 33:  log likelihood = -53694.649  (not concave)
Iteration 34:  log likelihood = -53694.649  (not concave)
Iteration 35:  log likelihood = -53694.649  (not concave)
Iteration 36:  log likelihood = -53694.649  (not concave)
Iteration 37:  log likelihood = -53694.649  (not concave)
Iteration 38:  log likelihood = -53694.649  (not concave)
Iteration 39:  log likelihood = -53694.649  (not concave)
Iteration 40:  log likelihood = -53694.649  (not concave)
Iteration 41:  log likelihood = -53694.649  (not concave)
Iteration 42:  log likelihood = -53694.649  (not concave)
Iteration 43:  log likelihood = -53694.649  (not concave)
Iteration 44:  log likelihood = -53694.649  (not concave)
Iteration 45:  log likelihood = -53694.649  (not concave)
Iteration 46:  log likelihood = -53694.649  (not concave)
Iteration 47:  log likelihood = -53694.649  (not concave)
Iteration 48:  log likelihood = -53694.649  (not concave)
Iteration 49:  log likelihood = -53694.649  (not concave)
Iteration 50:  log likelihood = -53694.649  (not concave)
Iteration 51:  log likelihood = -53694.649  (not concave)
Iteration 52:  log likelihood = -53694.649  (not concave)
Iteration 53:  log likelihood = -53694.649  (not concave)
Iteration 54:  log likelihood = -53694.649  (not concave)
Iteration 55:  log likelihood = -53694.649  (not concave)
Iteration 56:  log likelihood = -53694.649  (not concave)
Iteration 57:  log likelihood = -53694.649  (not concave)
Iteration 58:  log likelihood = -53694.649  (not concave)
Iteration 59:  log likelihood = -53694.649  (not concave)
Iteration 60:  log likelihood = -53694.649  (not concave)
Iteration 61:  log likelihood = -53694.649  (not concave)
Iteration 62:  log likelihood = -53694.649  (not concave)
Iteration 63:  log likelihood = -53694.649  (not concave)
Iteration 64:  log likelihood = -53694.649  (not concave)
Iteration 65:  log likelihood = -53694.649  (not concave)
Iteration 66:  log likelihood = -53694.649  (not concave)
Iteration 67:  log likelihood = -53694.649  (not concave)
Iteration 68:  log likelihood = -53694.649  (not concave)
Iteration 69:  log likelihood = -53694.649  (not concave)
Iteration 70:  log likelihood = -53694.649  (not concave)
Iteration 71:  log likelihood = -53694.649  (not concave)
Iteration 72:  log likelihood = -53694.649  (not concave)
Iteration 73:  log likelihood = -53694.649  (not concave)
Iteration 74:  log likelihood = -53694.649  (not concave)
Iteration 75:  log likelihood = -53694.649  (not concave)
Iteration 76:  log likelihood = -53694.649  (not concave)
Iteration 77:  log likelihood = -53694.649  (not concave)
Iteration 78:  log likelihood = -53694.649  (not concave)
Iteration 79:  log likelihood = -53694.649  (not concave)
Iteration 80:  log likelihood = -53694.649  (not concave)
Iteration 81:  log likelihood = -53694.649  (not concave)
Iteration 82:  log likelihood = -53694.649  (not concave)
Iteration 83:  log likelihood = -53694.649  (not concave)
Iteration 84:  log likelihood = -53694.649  (not concave)
Iteration 85:  log likelihood = -53694.649  (not concave)
Iteration 86:  log likelihood = -53694.649  (not concave)
Iteration 87:  log likelihood = -53694.649  (not concave)
Iteration 88:  log likelihood = -53694.649  (not concave)
Iteration 89:  log likelihood = -53694.649  (not concave)
Iteration 90:  log likelihood = -53694.649  (not concave)
Iteration 91:  log likelihood = -53694.649  (not concave)
Iteration 92:  log likelihood = -53694.649  (not concave)
Iteration 93:  log likelihood = -53694.649  (not concave)
Iteration 94:  log likelihood = -53694.649  (not concave)
Iteration 95:  log likelihood = -53694.649  (not concave)
Iteration 96:  log likelihood = -53694.649  (not concave)
Iteration 97:  log likelihood = -53694.649  (not concave)
Iteration 98:  log likelihood = -53694.649  (not concave)
Iteration 99:  log likelihood = -53694.649  (not concave)
Iteration 100: log likelihood = -53694.649  (not concave)
Iteration 101: log likelihood = -53694.649  (not concave)
Iteration 102: log likelihood = -53694.649  (not concave)
Iteration 103: log likelihood = -53694.649  (not concave)
Iteration 104: log likelihood = -53694.649  (not concave)
Iteration 105: log likelihood = -53694.649  (not concave)
Iteration 106: log likelihood = -53694.649  (not concave)
Iteration 107: log likelihood = -53694.649  (not concave)
Iteration 108: log likelihood = -53694.649  (not concave)
Iteration 109: log likelihood = -53694.649  (not concave)
Iteration 110: log likelihood = -53694.649  (not concave)
Iteration 111: log likelihood = -53694.649  (not concave)
Iteration 112: log likelihood = -53694.649  (not concave)
Iteration 113: log likelihood = -53694.649  (not concave)
Iteration 114: log likelihood = -53694.649  (not concave)
Iteration 115: log likelihood = -53694.649  (not concave)
Iteration 116: log likelihood = -53694.649  (not concave)
Iteration 117: log likelihood = -53694.649  (not concave)
Iteration 118: log likelihood = -53694.649  (not concave)
Iteration 119: log likelihood = -53694.649  (not concave)
Iteration 120: log likelihood = -53694.649  (not concave)
Iteration 121: log likelihood = -53694.649  (not concave)
Iteration 122: log likelihood = -53694.649  (not concave)
Iteration 123: log likelihood = -53694.649  (not concave)
Iteration 124: log likelihood = -53694.649  (not concave)
Iteration 125: log likelihood = -53694.649  (not concave)
Iteration 126: log likelihood = -53694.649  (not concave)
Iteration 127: log likelihood = -53694.649  (not concave)
Iteration 128: log likelihood = -53694.649  (not concave)
Iteration 129: log likelihood = -53694.649  (not concave)
Iteration 130: log likelihood = -53694.649  (not concave)
Iteration 131: log likelihood = -53694.649  (not concave)
Iteration 132: log likelihood = -53694.649  (not concave)
Iteration 133: log likelihood = -53694.649  (not concave)
Iteration 134: log likelihood = -53694.649  (not concave)
Iteration 135: log likelihood = -53694.649  (not concave)
Iteration 136: log likelihood = -53694.649  (not concave)
Iteration 137: log likelihood = -53694.649  (not concave)
Iteration 138: log likelihood = -53694.649  (not concave)
Iteration 139: log likelihood = -53694.649  (not concave)
Iteration 140: log likelihood = -53694.649  (not concave)
Iteration 141: log likelihood = -53694.649  (not concave)
Iteration 142: log likelihood = -53694.649  (not concave)
Iteration 143: log likelihood = -53694.649  (not concave)
Iteration 144: log likelihood = -53694.649  (not concave)
Iteration 145: log likelihood = -53694.649  (not concave)
Iteration 146: log likelihood = -53694.649  (not concave)
Iteration 147: log likelihood = -53694.649  (not concave)
Iteration 148: log likelihood = -53694.649  (not concave)
Iteration 149: log likelihood = -53694.649  (not concave)
Iteration 150: log likelihood = -53694.649  (not concave)
Iteration 151: log likelihood = -53694.649  (not concave)
Iteration 152: log likelihood = -53694.649  (not concave)
Iteration 153: log likelihood = -53694.649  (not concave)
Iteration 154: log likelihood = -53694.649  (not concave)
Iteration 155: log likelihood = -53694.649  (not concave)
Iteration 156: log likelihood = -53694.649  (not concave)
Iteration 157: log likelihood = -53694.649  (not concave)
Iteration 158: log likelihood = -53694.649  (not concave)
Iteration 159: log likelihood = -53694.649  (not concave)
Iteration 160: log likelihood = -53694.649  (not concave)
Iteration 161: log likelihood = -53694.649  (not concave)
Iteration 162: log likelihood = -53694.649  (not concave)
Iteration 163: log likelihood = -53694.649  (not concave)
Iteration 164: log likelihood = -53694.649  (not concave)
Iteration 165: log likelihood = -53694.649  (not concave)
Iteration 166: log likelihood = -53694.649  (not concave)
Iteration 167: log likelihood = -53694.649  (not concave)
Iteration 168: log likelihood = -53694.649  (not concave)
Iteration 169: log likelihood = -53694.649  (not concave)
Iteration 170: log likelihood = -53694.649  (not concave)
Iteration 171: log likelihood = -53694.649  (not concave)
Iteration 172: log likelihood = -53694.649  (not concave)
Iteration 173: log likelihood = -53694.649  (not concave)
Iteration 174: log likelihood = -53694.649  (not concave)
Iteration 175: log likelihood = -53694.649  (not concave)
Iteration 176: log likelihood = -53694.649  (not concave)
Iteration 177: log likelihood = -53694.649  (not concave)
Iteration 178: log likelihood = -53694.649  (not concave)
Iteration 179: log likelihood = -53694.649  (not concave)
Iteration 180: log likelihood = -53694.649  (not concave)
Iteration 181: log likelihood = -53694.649  (not concave)
Iteration 182: log likelihood = -53694.649  (not concave)
Iteration 183: log likelihood = -53694.649  (not concave)
Iteration 184: log likelihood = -53694.649  (not concave)
Iteration 185: log likelihood = -53694.649  (not concave)
Iteration 186: log likelihood = -53694.649  (not concave)
Iteration 187: log likelihood = -53694.649  (not concave)
Iteration 188: log likelihood = -53694.649  (not concave)
Iteration 189: log likelihood = -53694.649  (not concave)
Iteration 190: log likelihood = -53694.649  (not concave)
Iteration 191: log likelihood = -53694.649  (not concave)
Iteration 192: log likelihood = -53694.649  (not concave)
Iteration 193: log likelihood = -53694.649  (not concave)
Iteration 194: log likelihood = -53694.649  (not concave)
Iteration 195: log likelihood = -53694.649  (not concave)
Iteration 196: log likelihood = -53694.649  (not concave)
Iteration 197: log likelihood = -53694.649  (not concave)
Iteration 198: log likelihood = -53694.649  (not concave)
Iteration 199: log likelihood = -53694.649  (not concave)
Iteration 200: log likelihood = -53694.649  (not concave)
Iteration 201: log likelihood = -53694.649  (not concave)
Iteration 202: log likelihood = -53694.649  (not concave)
Iteration 203: log likelihood = -53694.649  (not concave)
Iteration 204: log likelihood = -53694.649  (not concave)
Iteration 205: log likelihood = -53694.649  (not concave)
Iteration 206: log likelihood = -53694.649  (not concave)
Iteration 207: log likelihood = -53694.649  (not concave)
Iteration 208: log likelihood = -53694.649  (not concave)
Iteration 209: log likelihood = -53694.649  (not concave)
Iteration 210: log likelihood = -53694.649  (not concave)
Iteration 211: log likelihood = -53694.649  (not concave)
Iteration 212: log likelihood = -53694.649  (not concave)
Iteration 213: log likelihood = -53694.649  (not concave)
Iteration 214: log likelihood = -53694.649  (not concave)
Iteration 215: log likelihood = -53694.649  (not concave)
Iteration 216: log likelihood = -53694.649  (not concave)
Iteration 217: log likelihood = -53694.649  (not concave)
Iteration 218: log likelihood = -53694.649  (not concave)
Iteration 219: log likelihood = -53694.649  (not concave)
Iteration 220: log likelihood = -53694.649  (not concave)
Iteration 221: log likelihood = -53694.649  (not concave)
Iteration 222: log likelihood = -53694.649  (not concave)
Iteration 223: log likelihood = -53694.649  (not concave)
Iteration 224: log likelihood = -53694.649  (not concave)
Iteration 225: log likelihood = -53694.649  (not concave)
Iteration 226: log likelihood = -53694.649  (not concave)
Iteration 227: log likelihood = -53694.649  (not concave)
Iteration 228: log likelihood = -53694.649  (not concave)
Iteration 229: log likelihood = -53694.649  (not concave)
Iteration 230: log likelihood = -53694.649  (not concave)
Iteration 231: log likelihood = -53694.649  (not concave)
Iteration 232: log likelihood = -53694.649  (not concave)
Iteration 233: log likelihood = -53694.649  (not concave)
Iteration 234: log likelihood = -53694.649  (not concave)
Iteration 235: log likelihood = -53694.649  (not concave)
Iteration 236: log likelihood = -53694.649  (not concave)
Iteration 237: log likelihood = -53694.649  (not concave)
Iteration 238: log likelihood = -53694.649  (not concave)
Iteration 239: log likelihood = -53694.649  (not concave)
Iteration 240: log likelihood = -53694.649  (not concave)
Iteration 241: log likelihood = -53694.649  (not concave)
Iteration 242: log likelihood = -53694.649  (not concave)
Iteration 243: log likelihood = -53694.649  (not concave)
Iteration 244: log likelihood = -53694.649  (not concave)
Iteration 245: log likelihood = -53694.649  (not concave)
Iteration 246: log likelihood = -53694.649  (not concave)
Iteration 247: log likelihood = -53694.649  (not concave)
Iteration 248: log likelihood = -53694.649  (not concave)
Iteration 249: log likelihood = -53694.649  (not concave)
Iteration 250: log likelihood = -53694.649  (not concave)
Iteration 251: log likelihood = -53694.649  (not concave)
Iteration 252: log likelihood = -53694.649  (not concave)
Iteration 253: log likelihood = -53694.649  (not concave)
Iteration 254: log likelihood = -53694.649  (not concave)
Iteration 255: log likelihood = -53694.649  (not concave)
Iteration 256: log likelihood = -53694.649  (not concave)
Iteration 257: log likelihood = -53694.649  (not concave)
Iteration 258: log likelihood = -53694.649  (not concave)
Iteration 259: log likelihood = -53694.649  (not concave)
Iteration 260: log likelihood = -53694.649  (not concave)
Iteration 261: log likelihood = -53694.649  (not concave)
Iteration 262: log likelihood = -53694.649  (not concave)
Iteration 263: log likelihood = -53694.649  (not concave)
Iteration 264: log likelihood = -53694.649  (not concave)
Iteration 265: log likelihood = -53694.649  (not concave)
Iteration 266: log likelihood = -53694.649  (not concave)
Iteration 267: log likelihood = -53694.649  (not concave)
Iteration 268: log likelihood = -53694.649  (not concave)
Iteration 269: log likelihood = -53694.649  (not concave)
Iteration 270: log likelihood = -53694.649  (not concave)
Iteration 271: log likelihood = -53694.649  (not concave)
Iteration 272: log likelihood = -53694.649  (not concave)
Iteration 273: log likelihood = -53694.649  (not concave)
Iteration 274: log likelihood = -53694.649  (not concave)
Iteration 275: log likelihood = -53694.649  (not concave)
Iteration 276: log likelihood = -53694.649  (not concave)
Iteration 277: log likelihood = -53694.649  (not concave)
Iteration 278: log likelihood = -53694.649  (not concave)
Iteration 279: log likelihood = -53694.649  (not concave)
Iteration 280: log likelihood = -53694.649  (not concave)
Iteration 281: log likelihood = -53694.649  (not concave)
Iteration 282: log likelihood = -53694.649  (not concave)
Iteration 283: log likelihood = -53694.649  (not concave)
Iteration 284: log likelihood = -53694.649  (not concave)
Iteration 285: log likelihood = -53694.649  (not concave)
Iteration 286: log likelihood = -53694.649  (not concave)
Iteration 287: log likelihood = -53694.649  (not concave)
Iteration 288: log likelihood = -53694.649  (not concave)
Iteration 289: log likelihood = -53694.649  (not concave)
Iteration 290: log likelihood = -53694.649  (not concave)
Iteration 291: log likelihood = -53694.649  (not concave)
Iteration 292: log likelihood = -53694.649  (not concave)
Iteration 293: log likelihood = -53694.649  (not concave)
Iteration 294: log likelihood = -53694.649  (not concave)
Iteration 295: log likelihood = -53694.649  (not concave)
Iteration 296: log likelihood = -53694.649  (not concave)
Iteration 297: log likelihood = -53694.649  (not concave)
Iteration 298: log likelihood = -53694.649  (not concave)
Iteration 299: log likelihood = -53694.649  (not concave)
Iteration 300: log likelihood = -53694.649  (not concave)
convergence not achieved

Survival model                                  Number of obs     =     59,755
Log likelihood = -53694.649
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1519303   .0097541    15.58   0.000     .1328126     .171048
edad_al_in~t |   .0714207   .0020883    34.20   0.000     .0673276    .0755138
edad_ini_c~s |  -.0086145    .001889    -4.56   0.000     -.012317   -.0049121
     sex_enc |  -.2802318   .0194078   -14.44   0.000    -.3182705   -.2421932
     esc_rec |   .1173898   .0121993     9.62   0.000     .0934797    .1412999
sus_prin_mod |   .1312342    .008144    16.11   0.000     .1152723     .147196
 fr_sus_prin |   .0324129   .0075428     4.30   0.000     .0176293    .0471964
 comp_biosoc |   .1902773   .0140835    13.51   0.000     .1626742    .2178805
     ten_viv |   -.021307   .0075907    -2.81   0.005    -.0361845   -.0064296
dg_cie_10_~c |   .0224493   .0087303     2.57   0.010     .0053382    .0395603
sud_sever~10 |  -.0611135   .0190763    -3.20   0.001    -.0985023   -.0237248
   macrozone |   .2081221   .0116772    17.82   0.000     .1852351    .2310091
 policonsumo |   .1127206   .0215718     5.23   0.000     .0704406    .1550006
   n_off_vio |   .3045285   .0185555    16.41   0.000     .2681604    .3408967
   n_off_acq |   .6339963   .0173401    36.56   0.000     .6000103    .6679823
   n_off_sud |   .2114953   .0182777    11.57   0.000     .1756717     .247319
        clas |   .0175195   .0127636     1.37   0.170    -.0074967    .0425357
       _cons |   8.729047          .        .       .            .           .
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP7
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_7

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54173.348  (not concave)
Iteration 2:   log likelihood = -54129.327  (not concave)
Iteration 3:   log likelihood = -54108.611  (not concave)
Iteration 4:   log likelihood = -54075.271  
Iteration 5:   log likelihood = -53944.737  
Iteration 6:   log likelihood = -53857.531  
Iteration 7:   log likelihood = -53794.812  
Iteration 8:   log likelihood = -53754.401  
Iteration 9:   log likelihood = -53712.034  
Iteration 10:  log likelihood = -53692.257  
Iteration 11:  log likelihood =  -53691.84  
Iteration 12:  log likelihood = -53691.834  
Iteration 13:  log likelihood = -53691.834  
Iteration 14:  log likelihood = -53691.834  (backed up)

Survival model                                  Number of obs     =     59,755
Log likelihood = -53691.834
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |    .151939   .0097553    15.58   0.000      .132819    .1710591
edad_al_in~t |    .072674   .0022289    32.61   0.000     .0683054    .0770426
edad_ini_c~s |   -.008562   .0018892    -4.53   0.000    -.0122648   -.0048592
     sex_enc |  -.2802993   .0194079   -14.44   0.000    -.3183381   -.2422606
     esc_rec |   .1174964   .0122008     9.63   0.000     .0935833    .1414095
sus_prin_mod |   .1310007   .0081455    16.08   0.000     .1150359    .1469654
 fr_sus_prin |   .0323775   .0075429     4.29   0.000     .0175938    .0471612
 comp_biosoc |   .1901081    .014084    13.50   0.000     .1625039    .2177123
     ten_viv |  -.0212862   .0075906    -2.80   0.005    -.0361635   -.0064088
dg_cie_10_~c |   .0224963   .0087308     2.58   0.010     .0053842    .0396084
sud_sever~10 |  -.0612102   .0190757    -3.21   0.001    -.0985978   -.0238225
   macrozone |   .2079053   .0116781    17.80   0.000     .1850166    .2307939
 policonsumo |   .1132781   .0215751     5.25   0.000     .0709916    .1555646
   n_off_vio |   .3043081    .018557    16.40   0.000     .2679372    .3406791
   n_off_acq |   .6334906   .0173426    36.53   0.000     .5994996    .6674815
   n_off_sud |   .2113991   .0182797    11.56   0.000     .1755716    .2472267
        clas |   .0175238   .0127632     1.37   0.170    -.0074916    .0425392
       _cons |   8.673582   3.991521     2.17   0.030     .8503438    16.49682
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP8
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_8

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54173.109  (not concave)
Iteration 2:   log likelihood = -54133.356  (not concave)
Iteration 3:   log likelihood = -54107.155  (not concave)
Iteration 4:   log likelihood = -54095.022  (not concave)
Iteration 5:   log likelihood = -54084.341  (not concave)
Iteration 6:   log likelihood = -54076.317  
Iteration 7:   log likelihood = -53987.227  
Iteration 8:   log likelihood = -53866.719  
Iteration 9:   log likelihood = -53802.726  
Iteration 10:  log likelihood = -53759.665  
Iteration 11:  log likelihood = -53713.574  
Iteration 12:  log likelihood = -53690.534  
Iteration 13:  log likelihood = -53689.902  
Iteration 14:  log likelihood = -53689.893  
Iteration 15:  log likelihood = -53689.893  (not concave)
Iteration 16:  log likelihood = -53689.893  (backed up)
Iteration 17:  log likelihood = -53689.893  (backed up)

Survival model                                  Number of obs     =     59,755
Log likelihood = -53689.893
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1519411   .0097565    15.57   0.000     .1328187    .1710635
edad_al_in~t |   .0739474   .0023281    31.76   0.000     .0693844    .0785104
edad_ini_c~s |  -.0085221   .0018896    -4.51   0.000    -.0122257   -.0048185
     sex_enc |  -.2803996   .0194079   -14.45   0.000    -.3184385   -.2423608
     esc_rec |   .1176456   .0122018     9.64   0.000     .0937305    .1415606
sus_prin_mod |   .1308324   .0081466    16.06   0.000     .1148655    .1467994
 fr_sus_prin |   .0323879   .0075428     4.29   0.000     .0176043    .0471716
 comp_biosoc |   .1898942   .0140848    13.48   0.000     .1622886    .2174999
     ten_viv |  -.0212988   .0075905    -2.81   0.005     -.036176   -.0064216
dg_cie_10_~c |   .0225389   .0087314     2.58   0.010     .0054257    .0396522
sud_sever~10 |  -.0612822    .019076    -3.21   0.001    -.0986705    -.023894
   macrozone |   .2077379   .0116789    17.79   0.000     .1848476    .2306282
 policonsumo |   .1137589   .0215765     5.27   0.000     .0714698     .156048
   n_off_vio |    .304063   .0185582    16.38   0.000     .2676896    .3404364
   n_off_acq |   .6330117    .017344    36.50   0.000     .5990181    .6670054
   n_off_sud |   .2113178   .0182807    11.56   0.000     .1754884    .2471472
        clas |   .0175744   .0127632     1.38   0.169     -.007441    .0425898
       _cons |   8.601652    2.81905     3.05   0.002     3.076416    14.12689
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP9
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_9

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood =  -54177.55  (not concave)
Iteration 2:   log likelihood =  -54135.22  (not concave)
Iteration 3:   log likelihood = -54111.623  (not concave)
Iteration 4:   log likelihood = -54098.403  (not concave)
Iteration 5:   log likelihood = -54086.122  (not concave)
Iteration 6:   log likelihood = -54074.404  
Iteration 7:   log likelihood = -53958.333  
Iteration 8:   log likelihood = -53762.571  
Iteration 9:   log likelihood = -53713.556  
Iteration 10:  log likelihood = -53685.077  
Iteration 11:  log likelihood = -53684.721  
Iteration 12:  log likelihood = -53684.721  
Iteration 13:  log likelihood = -53684.721  
Iteration 14:  log likelihood = -53684.721  (backed up)

Survival model                                  Number of obs     =     59,755
Log likelihood = -53684.721
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1518976   .0097583    15.57   0.000     .1327716    .1710236
edad_al_in~t |   .0760776   .0024192    31.45   0.000     .0713361    .0808191
edad_ini_c~s |  -.0084461   .0018904    -4.47   0.000    -.0121513   -.0047409
     sex_enc |  -.2804827   .0194075   -14.45   0.000    -.3185207   -.2424448
     esc_rec |   .1180464   .0122022     9.67   0.000     .0941304    .1419623
sus_prin_mod |   .1306496   .0081483    16.03   0.000     .1146792      .14662
 fr_sus_prin |   .0323697   .0075431     4.29   0.000     .0175855     .047154
 comp_biosoc |    .189555   .0140848    13.46   0.000     .1619492    .2171608
     ten_viv |  -.0212497   .0075899    -2.80   0.005    -.0361256   -.0063738
dg_cie_10_~c |   .0226016   .0087325     2.59   0.010     .0054863    .0397169
sud_sever~10 |   -.061642   .0190762    -3.23   0.001    -.0990307   -.0242532
   macrozone |   .2074529   .0116801    17.76   0.000     .1845603    .2303454
 policonsumo |   .1142051   .0215761     5.29   0.000     .0719166    .1564936
   n_off_vio |   .3036563    .018559    16.36   0.000     .2672814    .3400313
   n_off_acq |   .6319866   .0173461    36.43   0.000     .5979889    .6659843
   n_off_sud |   .2109256   .0182818    11.54   0.000     .1750939    .2467574
        clas |   .0174986   .0127633     1.37   0.170    -.0075169    .0425141
       _cons |   8.679775   3.469646     2.50   0.012     1.879394    15.48016
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display
 ***********
 family RP10
 ***********
note; a delayed entry model is being fitted
Obtaining initial values
convergence not achieved
variables created: _rcs1_1 to _rcs1_10

Fitting full model:

Iteration 0:   log likelihood = -54192.703  (not concave)
Iteration 1:   log likelihood = -54186.334  (not concave)
Iteration 2:   log likelihood = -54133.322  (not concave)
Iteration 3:   log likelihood = -54113.654  (not concave)
Iteration 4:   log likelihood = -54100.692  (not concave)
Iteration 5:   log likelihood = -54088.242  (not concave)
Iteration 6:   log likelihood = -54075.767  
Iteration 7:   log likelihood = -53978.914  
Iteration 8:   log likelihood = -53864.249  
Iteration 9:   log likelihood = -53800.194  
Iteration 10:  log likelihood = -53756.208  
Iteration 11:  log likelihood = -53707.337  
Iteration 12:  log likelihood = -53681.093  
Iteration 13:  log likelihood = -53680.038  
Iteration 14:  log likelihood = -53680.013  
Iteration 15:  log likelihood = -53679.996  (not concave)
Iteration 16:  log likelihood = -53679.996  
Iteration 17:  log likelihood = -53679.996  
Iteration 18:  log likelihood = -53679.996  (backed up)

Survival model                                  Number of obs     =     59,755
Log likelihood = -53679.996
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_t:          |            
motivodeeg~3 |   .1519547   .0097598    15.57   0.000     .1328259    .1710835
edad_al_in~t |   .0778497   .0024777    31.42   0.000     .0729936    .0827059
edad_ini_c~s |  -.0083873   .0018913    -4.43   0.000    -.0120942   -.0046803
     sex_enc |  -.2804566   .0194073   -14.45   0.000    -.3184942    -.242419
     esc_rec |   .1183627   .0122025     9.70   0.000     .0944462    .1422792
sus_prin_mod |   .1305227   .0081495    16.02   0.000       .11455    .1464955
 fr_sus_prin |   .0324026   .0075434     4.30   0.000     .0176178    .0471874
 comp_biosoc |   .1893312   .0140851    13.44   0.000      .161725    .2169375
     ten_viv |  -.0212869   .0075893    -2.80   0.005    -.0361616   -.0064122
dg_cie_10_~c |   .0226279   .0087332     2.59   0.010     .0055112    .0397446
sud_sever~10 |  -.0619376    .019077    -3.25   0.001    -.0993279   -.0245474
   macrozone |   .2072649    .011681    17.74   0.000     .1843705    .2301592
 policonsumo |   .1143158   .0215756     5.30   0.000     .0720284    .1566032
   n_off_vio |   .3032515   .0185597    16.34   0.000     .2668752    .3396279
   n_off_acq |   .6310764   .0173474    36.38   0.000     .5970761    .6650767
   n_off_sud |   .2103509   .0182832    11.51   0.000     .1745165    .2461853
        clas |   .0174718   .0127635     1.37   0.171    -.0075441    .0424877
       _cons |   8.473692   3.516421     2.41   0.016     1.581633    15.36575
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. 
. *rcs(time, df(3) orthog)
. estwrite _all using &quot;${pathdata2}parmodels_m2_nov_22.sters&quot;, replace
(saving m2_1_cox1)
(saving m2_1_cox2)
(saving m2_1_cox3)
(saving m2_1_cox4)
(saving m2_1_cox5)
(saving m2_1_cox6)
(saving m2_1_cox7)
(saving m2_1_gom)
(saving m2_1_wei)
(saving m2_1_logl)
(saving m2_1_logn)
(saving m2_1_ggam)
(saving m2_1_rp1)
(saving m2_1_rp2)
(saving m2_1_rp3)
(saving m2_1_rp4)
(saving m2_1_rp5)
(saving m2_1_rp6)
(saving m2_1_rp7)
(saving m2_1_rp8)
(saving m2_1_rp9)
(saving m2_1_rp10)
(file parmodels_m2_nov_22.sters saved)

</code></pre>
<p>We obtained a summary of distributions by AICs and BICs.</p>
<pre><code>. *estread &quot;${pathdata2}parmodels_m2_nov_22.sters&quot;
. 
. *file:///G:/Mi%20unidad/Alvacast/SISTRAT%202019%20(github)/_supp_mstates/stata/1806.01615.pdf
. *rcs - restricted cubic splines on log hazard scale
. *rp - Royston-Parmar model (restricted cubic spline on log cumulative hazard scale)
. qui count if _d == 1

.         // we count the amount of cases with the event in the strata
.         //we call the estimates stored, and the results...
. estimates stat m2_1_*, n(`r(N)')

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
   m2_1_cox1 |     22,287          .  -54293.83      19   108625.7   108777.9
   m2_1_cox2 |     22,287          .   -54259.8      20   108559.6   108719.8
   m2_1_cox3 |     22,287          .  -54227.37      21   108496.7     108665
   m2_1_cox4 |     22,287          .   -54223.6      22   108491.2   108667.5
   m2_1_cox5 |     22,287          .  -54218.18      23   108482.4   108666.6
   m2_1_cox6 |     22,287          .  -54211.85      24   108471.7     108664
   m2_1_cox7 |     22,287          .  -54211.36      25   108472.7     108673
    m2_1_gom |     22,287          .  -53671.06      19   107380.1   107532.3
    m2_1_wei |     22,287          .   -54192.7      18   108421.4   108565.6
   m2_1_logl |     22,287          .  -55477.19      17   110988.4   111124.6
   m2_1_logn |     22,287          .  -55477.19      17   110988.4   111124.6
   m2_1_ggam |     22,287          .  -55477.19      17   110988.4   111124.6
    m2_1_rp1 |     22,287          .   -54192.7      19   108423.4   108575.6
    m2_1_rp2 |     22,287          .  -53733.76      19   107505.5   107657.8
    m2_1_rp3 |     22,287          .  -53714.81      21   107471.6   107639.9
    m2_1_rp4 |     22,287          .  -53710.84      22   107465.7   107641.9
    m2_1_rp5 |     22,287          .  -53696.81      23   107439.6   107623.9
    m2_1_rp6 |     22,287          .  -53694.65      23   107435.3   107619.6
    m2_1_rp7 |     22,287          .  -53691.83      25   107433.7     107634
    m2_1_rp8 |     22,287          .  -53689.89      26   107431.8   107640.1
    m2_1_rp9 |     22,287          .  -53684.72      27   107423.4   107639.8
   m2_1_rp10 |     22,287          .     -53680      28     107416   107640.3
-----------------------------------------------------------------------------

.         //we store in a matrix de survival
. matrix stats_1=r(S)

. 
. 
. estimates clear

. 
. ** to order AICs
. *https://www.statalist.org/forums/forum/general-stata-discussion/general/1665263-sorting-matrix-including-rownames
. mata :
------------------------------------------------- mata (type end to exit) ------------------------------------------------------------------------------------------------------------------------------------------
: 
: void st_sort_matrix(
&gt; //argumento de la matriz
&gt;     string scalar matname, 
&gt; //argumento de las columnas
&gt;     real   rowvector columns
&gt;     )
&gt; {
&gt;     string matrix   rownames
&gt;     real  colvector sort_order
&gt; // defino una base      
&gt;         //Y = st_matrix(matname)
&gt;         //[.,(1, 2, 3, 4, 6, 5)]
&gt;  //ordeno las columnas  
&gt;     rownames = st_matrixrowstripe(matname) //[.,(1, 2, 3, 4, 6, 5)]
&gt;     sort_order = order(st_matrix(matname),  (columns))
&gt;     st_replacematrix(matname, st_matrix(matname)[sort_order,.])
&gt;     st_matrixrowstripe(matname, rownames[sort_order,.])
&gt; }

: 
: end
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

. //mata: mata drop st_sort_matrix()
. 
. mata : st_sort_matrix(&quot;stats_1&quot;, 6)

. esttab matrix(stats_1) using &quot;testreg_aic_bic_22.csv&quot;, replace
(output written to testreg_aic_bic_22.csv)

. esttab matrix(stats_1) using &quot;testreg_aic_bic_22.html&quot;, replace
(output written to testreg_aic_bic_22.html)

. 
</code></pre>
<table border="0" width="*">
<tr><td colspan=7><hr></td></tr>
<tr><td>            </td><td>     stats_1</td><td>            </td><td>            </td><td>            </td><td>            </td><td>            </td></tr>
<tr><td>            </td><td>           N</td><td>         ll0</td><td>          ll</td><td>          df</td><td>         AIC</td><td>         BIC</td></tr>
<tr><td colspan=7><hr></td></tr>
<tr><td>m2_1_gom    </td><td>       22287</td><td>           .</td><td>   -53671.06</td><td>          19</td><td>    107380.1</td><td>    107532.3</td></tr>
<tr><td>m2_1_rp6    </td><td>       22287</td><td>           .</td><td>   -53694.65</td><td>          23</td><td>    107435.3</td><td>    107619.6</td></tr>
<tr><td>m2_1_rp5    </td><td>       22287</td><td>           .</td><td>   -53696.81</td><td>          23</td><td>    107439.6</td><td>    107623.9</td></tr>
<tr><td>m2_1_rp7    </td><td>       22287</td><td>           .</td><td>   -53691.83</td><td>          25</td><td>    107433.7</td><td>      107634</td></tr>
<tr><td>m2_1_rp9    </td><td>       22287</td><td>           .</td><td>   -53684.72</td><td>          27</td><td>    107423.4</td><td>    107639.8</td></tr>
<tr><td>m2_1_rp3    </td><td>       22287</td><td>           .</td><td>   -53714.81</td><td>          21</td><td>    107471.6</td><td>    107639.9</td></tr>
<tr><td>m2_1_rp8    </td><td>       22287</td><td>           .</td><td>   -53689.89</td><td>          26</td><td>    107431.8</td><td>    107640.1</td></tr>
<tr><td>m2_1_rp10   </td><td>       22287</td><td>           .</td><td>      -53680</td><td>          28</td><td>      107416</td><td>    107640.3</td></tr>
<tr><td>m2_1_rp4    </td><td>       22287</td><td>           .</td><td>   -53710.84</td><td>          22</td><td>    107465.7</td><td>    107641.9</td></tr>
<tr><td>m2_1_rp2    </td><td>       22287</td><td>           .</td><td>   -53733.76</td><td>          19</td><td>    107505.5</td><td>    107657.8</td></tr>
<tr><td>m2_1_wei    </td><td>       22287</td><td>           .</td><td>    -54192.7</td><td>          18</td><td>    108421.4</td><td>    108565.6</td></tr>
<tr><td>m2_1_rp1    </td><td>       22287</td><td>           .</td><td>    -54192.7</td><td>          19</td><td>    108423.4</td><td>    108575.6</td></tr>
<tr><td>m2_1_cox6   </td><td>       22287</td><td>           .</td><td>   -54211.85</td><td>          24</td><td>    108471.7</td><td>      108664</td></tr>
<tr><td>m2_1_cox3   </td><td>       22287</td><td>           .</td><td>   -54227.37</td><td>          21</td><td>    108496.7</td><td>      108665</td></tr>
<tr><td>m2_1_cox5   </td><td>       22287</td><td>           .</td><td>   -54218.18</td><td>          23</td><td>    108482.4</td><td>    108666.6</td></tr>
<tr><td>m2_1_cox4   </td><td>       22287</td><td>           .</td><td>    -54223.6</td><td>          22</td><td>    108491.2</td><td>    108667.5</td></tr>
<tr><td>m2_1_cox7   </td><td>       22287</td><td>           .</td><td>   -54211.36</td><td>          25</td><td>    108472.7</td><td>      108673</td></tr>
<tr><td>m2_1_cox2   </td><td>       22287</td><td>           .</td><td>    -54259.8</td><td>          20</td><td>    108559.6</td><td>    108719.8</td></tr>
<tr><td>m2_1_cox1   </td><td>       22287</td><td>           .</td><td>   -54293.83</td><td>          19</td><td>    108625.7</td><td>    108777.9</td></tr>
<tr><td>m2_1_logn   </td><td>       22287</td><td>           .</td><td>   -55477.19</td><td>          17</td><td>    110988.4</td><td>    111124.6</td></tr>
<tr><td>m2_1_ggam   </td><td>       22287</td><td>           .</td><td>   -55477.19</td><td>          17</td><td>    110988.4</td><td>    111124.6</td></tr>
<tr><td>m2_1_logl   </td><td>       22287</td><td>           .</td><td>   -55477.19</td><td>          17</td><td>    110988.4</td><td>    111124.6</td></tr>
<tr><td colspan=7><hr></td></tr>
</table>
<p>In case of the more flexible parametric models (non-standard), we selected the models that showed the best trade-off between lower complexity and better fit, and this is why we also considered the BIC. If a model with less parameters had greater or equal AIC (or differences lower than 2) but also had better BIC (&lt;=2), we favoured the model with less parameters.</p>
<h3><a href="#iptw-royston-parmar" id="iptw-royston-parmar">IPTW Royston-Parmar</a></h3>
<pre><code>. *reset time, only compatible with stteffects (same entry times)
. stset diff, failure(event ==1) 

     failure event:  event == 1
obs. time interval:  (0, diff]
 exit on or before:  failure

------------------------------------------------------------------------------
     70,863  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
     70,862  observations remaining, representing
     22,287  failures in single-record/single-failure data
 229,620.92  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =  10.75828

. *stset age_offending_imp, fail(event ==1) enter(edad_al_egres_imp)
. 
. cap rm bsreg1.dta bsreg2.dta

. 
. *count if missing(motivodeegreso_mod_imp_rec3, edad_al_ing_fmt, edad_ini_cons, dias_treat_imp_sin_na_1, esc_rec, sus_prin_mod, fr_sus_prin, comp_biosoc, ten_viv, dg_cie_10_rec, sud_severity_icd10, macrozone, po
&gt; liconsumo, n_off_vio, n_off_acq, n_off_sud, n_off_oth)
</code></pre>
<p>First we calculated the difference between those patients who did and did not complete baseline treatment, given that the analysis is restricted to 2 values.</p>
<pre><code>. *Micki Hill &amp; Paul C Lambert &amp; Michael J Crowther, 2021. &quot;Introducing stipw: inverse probability weighted parametric survival models,&quot; London Stata Conference 2021 15, Stata Users Group.
. *https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ffmwww.bc.edu%2Frepec%2Fusug2021%2Fusug21_hill.pptx&amp;wdOrigin=BROWSELINK
. 
. *Treatment variable should be a binary variable with values 0 and 1.
. gen     motivodeegreso_mod_imp_rec2 = 0

. replace motivodeegreso_mod_imp_rec2 = 1 if strpos(motivodeegreso_mod_imp_rec,&quot;Early&quot;)&gt;0
(15,797 real changes made)

. replace motivodeegreso_mod_imp_rec2 = 1 if strpos(motivodeegreso_mod_imp_rec,&quot;Late&quot;)&gt;0
(35,781 real changes made)

. 
. recode motivodeegreso_mod_imp_rec3 (1=0 &quot;Tr Completion&quot;) (3=1 &quot;Tr Non-completion (Late)&quot;) (2=2 &quot;Tr Non-completion (Early)&quot;), gen(caus_disch_mod_imp_rec) 
(55066 differences between motivodeegreso_mod_imp_rec3 and caus_disch_mod_imp_rec)

. lab var caus_disch_mod_imp_rec &quot;Baseline treatment outcome&quot; 

. 
. global covs_3 &quot;i.caus_disch_mod_imp_rec edad_al_ing_fmt edad_ini_cons i.sex_enc i.esc_rec i.sus_prin_mod i.fr_sus_prin i.comp_biosoc i.ten_viv i.dg_cie_10_rec i.sud_severity_icd10 i.macrozone i.policonsumo i.n_
&gt; off_vio i.n_off_acq i.n_off_sud i.clas&quot;

. 
. stpm2 $covs_3 , scale(hazard) df(10) eform

Iteration 0:   log likelihood = -54894.423  
Iteration 1:   log likelihood = -54894.337  
Iteration 2:   log likelihood = -54894.337  

Log likelihood = -54894.337                     Number of obs     =     59,755

-------------------------------------------------------------------------------------------------------------
                                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
--------------------------------------------+----------------------------------------------------------------
xb                                          |
                     caus_disch_mod_imp_rec |
                  Tr Non-completion (Late)  |    1.49201   .0318638    18.74   0.000     1.430847    1.555787
                 Tr Non-completion (Early)  |   1.523402   .0415855    15.42   0.000     1.444038    1.607127
                                            |
                            edad_al_ing_fmt |   .9699129   .0009237   -32.08   0.000     .9681043     .971725
                              edad_ini_cons |   .9914654   .0018753    -4.53   0.000     .9877968    .9951477
                                            |
                                    sex_enc |
                                     Women  |   .7620271   .0148433   -13.95   0.000     .7334831     .791682
                                            |
                                    esc_rec |
           2-Completed high school or less  |   1.141387   .0271557     5.56   0.000     1.089384    1.195871
        3-Completed primary school or less  |   1.205475   .0315119     7.15   0.000     1.145269    1.268847
                                            |
                               sus_prin_mod |
                     Cocaine hydrochloride  |   1.056637   .0286989     2.03   0.043     1.001859     1.11441
                             Cocaine paste  |   1.561842   .0346259    20.11   0.000      1.49543    1.631204
                                 Marijuana  |   1.155138   .0401061     4.15   0.000     1.079146    1.236481
                                     Other  |   1.234245    .086563     3.00   0.003     1.075729     1.41612
                                            |
                                fr_sus_prin |
                        2 to 3 days a week  |   1.090567   .0390463     2.42   0.015     1.016661    1.169845
                        4 to 6 days a week  |   1.104167   .0419257     2.61   0.009     1.024978    1.189475
                                     Daily  |   1.131408   .0404362     3.45   0.001     1.054866    1.213503
                    Less than 1 day a week  |   1.107629    .054608     2.07   0.038     1.005608    1.220001
                                            |
                                comp_biosoc |
                                2-Moderate  |   1.130748    .035967     3.86   0.000     1.062406    1.203486
                                  3-Severe  |   1.345143   .0465006     8.58   0.000     1.257023    1.439441
                                            |
                                    ten_viv |
                                    Others  |   1.016123   .0773835     0.21   0.834     .8752305    1.179696
Owner/Transferred dwellings/Pays Dividends  |   .8602918   .0561983    -2.30   0.021      .756905    .9778005
                                   Renting  |   .8941167   .0594062    -1.68   0.092     .7849452    1.018472
         Stays temporarily with a relative  |   .8506971   .0552927    -2.49   0.013     .7489443    .9662743
                                            |
                              dg_cie_10_rec |
           Diagnosis unknown (under study)  |   1.071126   .0256153     2.87   0.004     1.022079    1.122526
              With psychiatric comorbidity  |   1.044705   .0185592     2.46   0.014     1.008955    1.081721
                                            |
                         sud_severity_icd10 |
                     Hazardous consumption  |   .9709583   .0189125    -1.51   0.130     .9345892    1.008743
                                            |
                                  macrozone |
                                     North  |   1.313784   .0267621    13.40   0.000     1.262364    1.367297
                                     South  |   1.438719   .0408919    12.80   0.000     1.360764     1.52114
                                            |
                              1.policonsumo |   1.118729   .0244198     5.14   0.000     1.071877     1.16763
                                1.n_off_vio |   1.321533   .0245868    14.98   0.000     1.274212    1.370612
                                1.n_off_acq |   1.745172    .030527    31.83   0.000     1.686354    1.806041
                                1.n_off_sud |   1.186901   .0217507     9.35   0.000     1.145027    1.230307
                                            |
                                       clas |
                                     Rural  |   1.044971   .0396457     1.16   0.246     .9700854    1.125637
                                    Urbana  |   1.025766    .027911     0.93   0.350     .9724942    1.081955
                                            |
                                      _rcs1 |    2.55539   .0168124   142.60   0.000      2.52265    2.588555
                                      _rcs2 |   1.075388   .0065326    11.96   0.000      1.06266    1.088268
                                      _rcs3 |   1.036696   .0046774     7.99   0.000     1.027569    1.045904
                                      _rcs4 |   1.015185   .0029406     5.20   0.000     1.009438    1.020965
                                      _rcs5 |   1.010609   .0019691     5.42   0.000     1.006757    1.014476
                                      _rcs6 |   1.007145   .0015153     4.73   0.000     1.004179    1.010119
                                      _rcs7 |   1.005534   .0013162     4.22   0.000     1.002958    1.008117
                                      _rcs8 |   1.004851   .0011875     4.09   0.000     1.002526    1.007181
                                      _rcs9 |    1.00335   .0011289     2.97   0.003      1.00114    1.005565
                                     _rcs10 |   1.002515   .0009813     2.57   0.010     1.000593     1.00444
                                      _cons |   .2254108   .0221926   -15.13   0.000     .1858535    .2733877
-------------------------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(rp) df(10) ipwtype(stabilised) vce(mestimation) eform
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates

Iteration 0:   log pseudolikelihood = -58076.217  
Iteration 1:   log pseudolikelihood = -58076.168  
Iteration 2:   log pseudolikelihood = -58076.168  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood = -58076.168               Number of obs     =     59,755

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.484969   .0297994    19.70   0.000     1.427697    1.544538
                      _rcs1 |   2.478116    .016462   136.61   0.000      2.44606    2.510592
                      _rcs2 |   1.087208   .0065379    13.90   0.000     1.074469    1.100097
                      _rcs3 |   1.040296   .0046838     8.77   0.000     1.031157    1.049517
                      _rcs4 |   1.015865   .0029601     5.40   0.000      1.01008    1.021683
                      _rcs5 |   1.009881   .0019519     5.09   0.000     1.006063    1.013714
                      _rcs6 |     1.0067   .0014863     4.52   0.000     1.003791    1.009617
                      _rcs7 |   1.005061   .0012741     3.98   0.000     1.002567    1.007561
                      _rcs8 |   1.004316   .0011445     3.78   0.000     1.002075    1.006562
                      _rcs9 |   1.003245   .0010827     3.00   0.003     1.001125     1.00537
                     _rcs10 |   1.002468   .0009366     2.64   0.008     1.000634    1.004305
                      _cons |   .1640224   .0030763   -96.39   0.000     .1581024    .1701641
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. predict rmst03 in 1, at(motivodeegreso_mod_imp_rec2 0) rmst stdp tmax(3)

. predict rmst13 in 1, at(motivodeegreso_mod_imp_rec2 1) rmst stdp tmax(3)

. predictnl drmst= predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3))- predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) in 1, se(drmst_se)
Warning: prediction doesn't vary with respect to e(b).
(70,862 missing values generated)
Warning: prediction constant over observations; perhaps you meant to run nlcom.

. 
. cap list rmst03 rmst13  drmst in 1

</code></pre>
<p>We used a gompertz distribution, assuming that baseline treatment outcome showed proportional hazards</p>
<pre><code>. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(gompertz) ipwtype(stabilised) vce(mestimation)
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates

         failure _d:  event == 1
   analysis time _t:  diff
             weight:  [pweight=_stipw_weight]

Fitting constant-only model:

Iteration 0:   log pseudolikelihood = -59922.526  
Iteration 1:   log pseudolikelihood = -58502.444  
Iteration 2:   log pseudolikelihood = -58427.181  
Iteration 3:   log pseudolikelihood = -58426.956  
Iteration 4:   log pseudolikelihood = -58426.956  

Fitting full model:

Iteration 0:   log pseudolikelihood = -58426.956  
Iteration 1:   log pseudolikelihood = -58193.444  
Iteration 2:   log pseudolikelihood = -58191.366  
Iteration 3:   log pseudolikelihood = -58191.366  

Displaying weighted survival model with M-estimation standard errors

Gompertz PH regression                          Number of obs     =     59,755
                                                Wald chi2(1)      =     386.85
Log pseudolikelihood = -58191.366               Prob &gt; chi2       =     0.0000

---------------------------------------------------------------------------------------------
                            |            M-estimation
                         _t | Haz. Ratio   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
motivodeegreso_mod_imp_rec2 |   1.485165   .0298661    19.67   0.000     1.427767    1.544871
                      _cons |   .1184129   .0024426  -103.43   0.000      .113721    .1232983
----------------------------+----------------------------------------------------------------
                     /gamma |   -.258026   .0055133   -46.80   0.000    -.2688318   -.2472202
---------------------------------------------------------------------------------------------
Note: _cons estimates baseline hazard.

. 
. predict rmst03_c in 1, at(motivodeegreso_mod_imp_rec2 0) rmst stdp tmax(3)
option at() not allowed
r(198);

. predict rmst13_c in 1, at(motivodeegreso_mod_imp_rec2 1) rmst stdp tmax(3)
option at() not allowed
r(198);

. predictnl drmst_c= predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3))- predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) in 1, se(drmst_c_se)
option rmst not allowed
predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) invalid
r(198);

. 
. cap list rmst03_c rmst13_c  drmst_c in 1

</code></pre>
<p>We used another model with only 6 degrees of freedom according to the lowest BIC</p>
<pre><code>. 
. stpm2 $covs_3, scale(hazard) df(6) eform

Iteration 0:   log likelihood = -54899.058  
Iteration 1:   log likelihood = -54897.657  
Iteration 2:   log likelihood = -54897.657  

Log likelihood = -54897.657                     Number of obs     =     59,755

-------------------------------------------------------------------------------------------------------------
                                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
--------------------------------------------+----------------------------------------------------------------
xb                                          |
                     caus_disch_mod_imp_rec |
                  Tr Non-completion (Late)  |   1.492212   .0318677    18.74   0.000     1.431042    1.555997
                 Tr Non-completion (Early)  |   1.523433   .0415857    15.42   0.000     1.444068    1.607159
                                            |
                            edad_al_ing_fmt |   .9699151   .0009237   -32.08   0.000     .9681064    .9717271
                              edad_ini_cons |   .9914584   .0018753    -4.54   0.000     .9877898    .9951407
                                            |
                                    sex_enc |
                                     Women  |   .7618543   .0148398   -13.96   0.000      .733317    .7915022
                                            |
                                    esc_rec |
           2-Completed high school or less  |   1.141424   .0271566     5.56   0.000      1.08942    1.195911
        3-Completed primary school or less  |   1.205485   .0315121     7.15   0.000     1.145278    1.268857
                                            |
                               sus_prin_mod |
                     Cocaine hydrochloride  |   1.056344   .0286902     2.02   0.044     1.001583    1.114099
                             Cocaine paste  |   1.561317   .0346126    20.10   0.000      1.49493    1.630652
                                 Marijuana  |   1.154678   .0400889     4.14   0.000     1.078718    1.235985
                                     Other  |   1.233552   .0865137     2.99   0.003     1.075126    1.415322
                                            |
                                fr_sus_prin |
                        2 to 3 days a week  |   1.090415   .0390406     2.42   0.016      1.01652    1.169682
                        4 to 6 days a week  |   1.104097    .041923     2.61   0.009     1.024912    1.189399
                                     Daily  |    1.13149   .0404389     3.46   0.001     1.054943     1.21359
                    Less than 1 day a week  |   1.107579   .0546058     2.07   0.038     1.005562    1.219946
                                            |
                                comp_biosoc |
                                2-Moderate  |   1.130683   .0359646     3.86   0.000     1.062346    1.203416
                                  3-Severe  |   1.344875   .0464907     8.57   0.000     1.256773    1.439153
                                            |
                                    ten_viv |
                                    Others  |   1.015732   .0773537     0.20   0.838     .8748941    1.179242
Owner/Transferred dwellings/Pays Dividends  |   .8603673   .0562031    -2.30   0.021     .7569715    .9778861
                                   Renting  |   .8940879   .0594043    -1.68   0.092     .7849199    1.018439
         Stays temporarily with a relative  |   .8505869   .0552855    -2.49   0.013     .7488472     .966149
                                            |
                              dg_cie_10_rec |
           Diagnosis unknown (under study)  |    1.07104    .025613     2.87   0.004     1.021998    1.122436
              With psychiatric comorbidity  |   1.044689   .0185589     2.46   0.014      1.00894    1.081705
                                            |
                         sud_severity_icd10 |
                     Hazardous consumption  |    .970975   .0189126    -1.51   0.130     .9346056     1.00876
                                            |
                                  macrozone |
                                     North  |   1.313766   .0267616    13.40   0.000     1.262347    1.367279
                                     South  |   1.438752   .0408918    12.80   0.000     1.360797    1.521173
                                            |
                              1.policonsumo |   1.118494   .0244147     5.13   0.000     1.071652    1.167385
                                1.n_off_vio |   1.321869   .0245938    15.00   0.000     1.274535    1.370962
                                1.n_off_acq |   1.745639   .0305363    31.85   0.000     1.686803    1.806527
                                1.n_off_sud |   1.187179   .0217562     9.36   0.000     1.145295    1.230596
                                            |
                                       clas |
                                     Rural  |   1.044873    .039642     1.16   0.247     .9699949    1.125532
                                    Urbana  |   1.025765   .0279109     0.93   0.350     .9724942    1.081955
                                            |
                                      _rcs1 |   2.555563   .0168177   142.58   0.000     2.522813    2.588739
                                      _rcs2 |   1.077957   .0064686    12.51   0.000     1.065353     1.09071
                                      _rcs3 |   1.034638   .0043513     8.10   0.000     1.026144    1.043202
                                      _rcs4 |   1.013477   .0026786     5.07   0.000     1.008241    1.018741
                                      _rcs5 |   1.008248   .0018518     4.47   0.000     1.004625    1.011884
                                      _rcs6 |    1.00461   .0014293     3.23   0.001     1.001813    1.007415
                                      _cons |   .2255083   .0222021   -15.13   0.000     .1859339    .2735058
-------------------------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(rp) df(6) ipwtype(stabilised) vce(mestimation) eform
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates

Iteration 0:   log pseudolikelihood = -58080.573  
Iteration 1:   log pseudolikelihood = -58079.603  
Iteration 2:   log pseudolikelihood = -58079.603  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood = -58079.603               Number of obs     =     59,755

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.485098   .0298023    19.71   0.000      1.42782    1.544673
                      _rcs1 |   2.478245   .0165105   136.22   0.000     2.446095    2.510817
                      _rcs2 |   1.089878   .0066124    14.19   0.000     1.076994    1.102915
                      _rcs3 |   1.037938   .0043773     8.83   0.000     1.029394    1.046553
                      _rcs4 |   1.012699   .0026535     4.82   0.000     1.007512    1.017913
                      _rcs5 |   1.007588   .0018027     4.23   0.000     1.004061    1.011127
                      _rcs6 |   1.004106   .0013814     2.98   0.003     1.001402    1.006817
                      _cons |   .1640131   .0030762   -96.39   0.000     .1580934    .1701545
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. 
. predict rmst03_b in 1, at(motivodeegreso_mod_imp_rec2 0) rmst stdp tmax(3)

. predict rmst13_b in 1, at(motivodeegreso_mod_imp_rec2 1) rmst stdp tmax(3)

. predictnl drmst_b= predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3))- predict(rmst at(motivodeegreso_mod_imp_rec2 1) tmax(3)) in 1, se(drmst_b_se)
Warning: prediction doesn't vary with respect to e(b).
(70,862 missing values generated)
Warning: prediction constant over observations; perhaps you meant to run nlcom.

. 
. cap list rmst03_b rmst13_b  drmst_b in 1

</code></pre>
<p><strong>Staggered entry</strong></p>
<pre><code>. stset age_offending_imp, fail(event ==1) enter(edad_al_egres_imp)

     failure event:  event == 1
obs. time interval:  (0, age_offending_imp]
 enter on or after:  time edad_al_egres_imp
 exit on or before:  failure

------------------------------------------------------------------------------
     70,863  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
     70,862  observations remaining, representing
     22,287  failures in single-record/single-failure data
 229,620.92  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =  10.95068
                                          last observed exit t =  90.65027

. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(rp) df(10) ipwtype(stabilised) vce(mestimation) eform
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates
note: delayed entry models are being fitted

Iteration 0:   log pseudolikelihood =  5102.3487  (not concave)
Iteration 1:   log pseudolikelihood =   5173.532  
Iteration 2:   log pseudolikelihood =  5191.0789  
Iteration 3:   log pseudolikelihood =  5202.9262  
Iteration 4:   log pseudolikelihood =  5203.4644  
Iteration 5:   log pseudolikelihood =  5203.8744  
Iteration 6:   log pseudolikelihood =  5203.9467  
Iteration 7:   log pseudolikelihood =  5203.9692  
Iteration 8:   log pseudolikelihood =  5203.9709  
Iteration 9:   log pseudolikelihood =  5203.9713  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood =  5203.9713               Number of obs     =     59,755

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.465383    .031815    17.60   0.000     1.404335    1.529085
                      _rcs1 |    1.20575   .0487041     4.63   0.000     1.113973    1.305089
                      _rcs2 |   1.049646   .0163406     3.11   0.002     1.018103    1.082166
                      _rcs3 |   .9972066   .0032191    -0.87   0.386     .9909172    1.003536
                      _rcs4 |    1.00256   .0005929     4.32   0.000     1.001399    1.003723
                      _rcs5 |   1.002106   .0004379     4.81   0.000     1.001248    1.002965
                      _rcs6 |   1.002128   .0003728     5.72   0.000     1.001398    1.002859
                      _rcs7 |   1.001588   .0003333     4.77   0.000     1.000935    1.002242
                      _rcs8 |   1.001695   .0003451     4.92   0.000     1.001019    1.002372
                      _rcs9 |   1.001992   .0003949     5.05   0.000     1.001219    1.002767
                     _rcs10 |   1.001053   .0002961     3.56   0.000     1.000472    1.001633
                      _cons |   3.955107   .8136742     6.68   0.000     2.642668    5.919347
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. estimates store df10_stipw

</code></pre>
<pre><code>. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(gompertz) ipwtype(stabilised) vce(mestimation)
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates

         failure _d:  event == 1
   analysis time _t:  age_offending_imp
  enter on or after:  time edad_al_egres_imp
             weight:  [pweight=_stipw_weight]

Fitting constant-only model:

Iteration 0:   log pseudolikelihood =  2767.2208  
Iteration 1:   log pseudolikelihood =  4807.6902  
Iteration 2:   log pseudolikelihood =  4955.1638  
Iteration 3:   log pseudolikelihood =  4955.3147  
Iteration 4:   log pseudolikelihood =  4955.3147  

Fitting full model:

Iteration 0:   log pseudolikelihood =  4955.3147  
Iteration 1:   log pseudolikelihood =  5173.6432  
Iteration 2:   log pseudolikelihood =  5175.4953  
Iteration 3:   log pseudolikelihood =  5175.4954  

Displaying weighted survival model with M-estimation standard errors

Gompertz PH regression                          Number of obs     =     59,755
                                                Wald chi2(1)      =     310.23
Log pseudolikelihood =  5175.4954               Prob &gt; chi2       =     0.0000

---------------------------------------------------------------------------------------------
                            |            M-estimation
                         _t | Haz. Ratio   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
motivodeegreso_mod_imp_rec2 |   1.466373   .0318688    17.61   0.000     1.405223    1.530184
                      _cons |   .4688828   .0179733   -19.76   0.000     .4349465     .505467
----------------------------+----------------------------------------------------------------
                     /gamma |  -.0510276   .0008899   -57.34   0.000    -.0527718   -.0492835
---------------------------------------------------------------------------------------------
Note: _cons estimates baseline hazard.

. estimates store gomp_stipw

</code></pre>
<pre><code>. 
. stipw (logit motivodeegreso_mod_imp_rec2 edad_al_ing_fmt edad_ini_cons sex_enc esc_rec sus_prin_mod fr_sus_prin comp_biosoc ten_viv dg_cie_10_rec sud_severity_icd10 macrozone policonsumo n_off_vio n_off_acq n_o
&gt; ff_sud clas), distribution(rp) df(6) ipwtype(stabilised) vce(mestimation) eform
11108 observations have missing treatment and/or missing confounder values and/or _st = 0.
These observations are excluded from the analysis, see variable _stipw_flag

Fitting logistic regression to obtain denominator for weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -33462.401  
Iteration 2:   log likelihood = -33437.083  
Iteration 3:   log likelihood = -33437.064  
Iteration 4:   log likelihood = -33437.064  
Fitting second logistic regression with no confounders to obtain numerator for stabilised weights

Iteration 0:   log likelihood = -35121.157  
Iteration 1:   log likelihood = -35121.157  

Fitting weighted survival model to obtain point estimates
note: delayed entry models are being fitted

Iteration 0:   log pseudolikelihood =  5061.4143  (not concave)
Iteration 1:   log pseudolikelihood =   5156.132  
Iteration 2:   log pseudolikelihood =  5163.6799  
Iteration 3:   log pseudolikelihood =  5183.5076  
Iteration 4:   log pseudolikelihood =  5184.1655  
Iteration 5:   log pseudolikelihood =  5185.6414  
Iteration 6:   log pseudolikelihood =  5185.9126  
Iteration 7:   log pseudolikelihood =  5186.1188  
Iteration 8:   log pseudolikelihood =   5186.172  
Iteration 9:   log pseudolikelihood =  5186.1853  
Iteration 10:  log pseudolikelihood =  5186.1855  

Displaying weighted survival model with M-estimation standard errors

Log pseudolikelihood =  5186.1855               Number of obs     =     59,755

---------------------------------------------------------------------------------------------
                            |            M-estimation
                            |     exp(b)   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
----------------------------+----------------------------------------------------------------
xb                          |
motivodeegreso_mod_imp_rec2 |   1.465885   .0318349    17.61   0.000     1.404799    1.529627
                      _rcs1 |   1.163829   .0359287     4.91   0.000     1.095499    1.236422
                      _rcs2 |   1.036534   .0106486     3.49   0.000     1.015872    1.057616
                      _rcs3 |   1.000134   .0013431     0.10   0.920     .9975053     1.00277
                      _rcs4 |   1.003643   .0006185     5.90   0.000     1.002431    1.004856
                      _rcs5 |   1.002177   .0004294     5.07   0.000     1.001335    1.003019
                      _rcs6 |   1.001676   .0004098     4.09   0.000     1.000873     1.00248
                      _cons |   4.834406   .9505504     8.01   0.000     3.288351    7.107356
---------------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation.

. estimates store df6_stipw

</code></pre>
<pre><code>. qui count if _d == 1

.         // we count the amount of cases with the event in the strata
.         //we call the estimates stored, and the results...
. estimates stat df6_stipw gomp_stipw df10_stipw, n(`r(N)')

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
   df6_stipw |     22,287          .   5186.185       8  -10356.37  -10292.28
  gomp_stipw |     22,287   4955.315   5175.495       3  -10344.99  -10320.96
  df10_stipw |     22,287          .   5203.971      12  -10383.94   -10287.8
-----------------------------------------------------------------------------

.         //we store in a matrix de survival
. matrix stats_stipw=r(S)

. 
. estwrite df6_stipw gomp_stipw df10_stipw using &quot;${pathdata2}parmodels_m2_stipw_22.sters&quot;, replace
(saving df6_stipw)
(saving gomp_stipw)
(saving df10_stipw)
(file parmodels_m2_stipw_22.sters saved)

</code></pre>
<p>Saved at= 16:40:45 19 Dec 2022</p>
<pre><code>
</code></pre>
